<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æ¢…éªé€¸çš„åšå®¢</title>
  
  <subtitle>Talk is cheap, show me the code!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://walesexcitedmei.github.io/"/>
  <updated>2018-09-25T12:58:18.144Z</updated>
  <id>http://walesexcitedmei.github.io/</id>
  
  <author>
    <name>Wales Mei</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>[HEXO] hexo ä¸­åŠ å…¥ AdSense å¹¿å‘ŠæœåŠ¡çš„æ–¹æ³•</title>
    <link href="http://walesexcitedmei.github.io/2018/09/25/HEXO-hexo-%E4%B8%AD%E5%8A%A0%E5%85%A5-AdSense-%E5%B9%BF%E5%91%8A%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://walesexcitedmei.github.io/2018/09/25/HEXO-hexo-ä¸­åŠ å…¥-AdSense-å¹¿å‘ŠæœåŠ¡çš„æ–¹æ³•/</id>
    <published>2018-09-25T09:56:35.000Z</published>
    <updated>2018-09-25T12:58:18.144Z</updated>
    
    <content type="html"><![CDATA[<div class="note default"><p>å°±åœ¨æ˜¨å¤©ï¼æˆ‘çš„ AdSense ç”³è¯·ç»ˆäºè¿‡äº†ï¼è¿™é‡Œæ¥æ€»ç»“ä¸€ä¸‹ hexo ä¸Š AdSense é€šè¿‡çš„ç»éªŒã€‚</p></div><a id="more"></a><h3 id="æ³¨å†Œ-AdSense-è´¦å·"><a href="#æ³¨å†Œ-AdSense-è´¦å·" class="headerlink" title="æ³¨å†Œ AdSense è´¦å·"></a>æ³¨å†Œ AdSense è´¦å·</h3><p>è¿™ä¸ªä¸å¤šè¯´äº†ï¼Œç›´æ¥å»<a href="https://www.google.com/adsense/start/#/?modal_active=none" target="_blank" rel="noopener">è¿™é‡Œ</a></p><div> <img style="align: center" src="pic1.jpg"> </div><h3 id="æ›´æ”¹è‡ªå·±-hexo-ä¸»é¢˜æ–‡ä»¶"><a href="#æ›´æ”¹è‡ªå·±-hexo-ä¸»é¢˜æ–‡ä»¶" class="headerlink" title="æ›´æ”¹è‡ªå·± hexo ä¸»é¢˜æ–‡ä»¶"></a>æ›´æ”¹è‡ªå·± hexo ä¸»é¢˜æ–‡ä»¶</h3><p>æ­¤å¤„ä»¥ NexT ä¸»é¢˜ä¸ºä¾‹ï¼ˆæ³¨ï¼šå¯èƒ½ä¸æ˜¯æœ€ç®€æ–¹å¼ï¼Œè‡ªè¡Œæ–Ÿé…Œï¼‰ï¼š</p><ol><li>æ–°å»º <code>theme/next/layout/_custom/google_adsense.swig</code>ï¼Œå°† AdSense ä¸Šçš„ä»£ç ç²˜è´´è¿›å»</li><li>åœ¨ <code>theme/next/layout/_custom/head.swig</code> ä¸­ä¹Ÿç²˜è´´ä¸€ä»½</li><li>å¦‚æœåœ¨æ¯ç¯‡åšå®¢é‡Œä¹Ÿæƒ³çœ‹åˆ°å¹¿å‘Šçš„è¯ï¼Œåœ¨ <code>theme/next/layout/post.swig</code> é‡Œä¸­åœ¨å¸Œæœ›çœ‹åˆ°çš„åœ°æ–¹åŠ ä¸Š:</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% include &apos;_custom/google_adsense.swig&apos; %&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼šåœ¨ <code>&lt;div id=&quot;posts&quot; class=&quot;posts-expand&quot;&gt; &lt;/div&gt;</code> ä¸­é—´æ’å…¥ï¼Œæ€»ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;% block content %&#125;</span><br><span class="line">  &lt;div id=&quot;posts&quot; class=&quot;posts-expand&quot;&gt;</span><br><span class="line">    &#123;&#123; post_template.render(page) &#125;&#125;</span><br><span class="line">    &#123;% include &apos;_custom/google_adsense.swig&apos; %&#125;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å¦‚æœ <code>hexo server</code> çš„è¯æ˜¯çœ‹ä¸åˆ°å¹¿å‘Šçš„ï¼Œå› ä¸º AdSense çš„æ˜¾ç¤ºæ˜¯ Google æ§åˆ¶çš„ã€‚</p><h3 id="ç–¯ç‹‚æ›´æ–°åšå®¢"><a href="#ç–¯ç‹‚æ›´æ–°åšå®¢" class="headerlink" title="ç–¯ç‹‚æ›´æ–°åšå®¢"></a>ç–¯ç‹‚æ›´æ–°åšå®¢</h3><p>ä½ éœ€è¦ä½¿ä½ çš„ç½‘ç«™å†…å®¹å……è¶³ä»¥é€šè¿‡ AdSense çš„å®¡æ ¸ï¼ˆæˆ‘å†™äº† 21 ç¯‡å·¦å³æ‰é€šè¿‡ï¼Œå…¶å®ç®—ä¸Šæ‰€æœ‰ç½‘é¡µå…¶å®è¿˜ä¸æ­¢ï¼‰ï¼Œå¦‚æœè¢«æ‹’ç»äº†ï¼Œå°±å†é‡æ–°ç”³è¯·ä¸€æ¬¡ï¼Œè¯´ä¸å®šå°±è¿‡äº†ğŸ¤£ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä½¿ç”¨ AdSense æ¥èµšå¤–å—ï¼Œç¾æ»‹æ»‹~~</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;&lt;p&gt;å°±åœ¨æ˜¨å¤©ï¼æˆ‘çš„ AdSense ç”³è¯·ç»ˆäºè¿‡äº†ï¼è¿™é‡Œæ¥æ€»ç»“ä¸€ä¸‹ hexo ä¸Š AdSense é€šè¿‡çš„ç»éªŒã€‚&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://walesexcitedmei.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://walesexcitedmei.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>[C++ å¥‡æŠ€æ·«å·§] ç»ˆæå¿«é€Ÿè¯»å…¥/è¾“å‡º</title>
    <link href="http://walesexcitedmei.github.io/2018/09/22/C-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7-%E7%BB%88%E6%9E%81%E5%BF%AB%E9%80%9F%E8%AF%BB%E5%85%A5-%E8%BE%93%E5%87%BA/"/>
    <id>http://walesexcitedmei.github.io/2018/09/22/C-å¥‡æŠ€æ·«å·§-ç»ˆæå¿«é€Ÿè¯»å…¥-è¾“å‡º/</id>
    <published>2018-09-22T10:24:03.000Z</published>
    <updated>2018-09-25T12:58:18.144Z</updated>
    
    <content type="html"><![CDATA[<div class="note default"><p>ä¸Šæ¬¡çœ‹åˆ°ä¸€ä¸ªæ‰‹å†™ <code>getchar()</code> çš„å¤§ç¥ï¼Œå‘ç°è‡ªå·±çš„å¿«é€Ÿè¯»å…¥è¿˜æ˜¯ä¸å¤Ÿéªšï¼Œäºæ˜¯å»æŸ¥äº†ä¸‹ç½‘ç»œï¼Œå‘ç°äº†æ›´åŠ å‰å®³çš„å¿«è¯»æ–¹å¼ã€‚é¡ºä¾¿æŠŠè‡ªå·±çš„å¿«è¾“ç”¨éé€’å½’ä¼˜åŒ–äº†ä¸€ä¸‹ã€‚</p></div><a id="more"></a><h3 id="æ‰‹å†™-getchar"><a href="#æ‰‹å†™-getchar" class="headerlink" title="æ‰‹å†™ getchar()"></a>æ‰‹å†™ <code>getchar()</code></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">nextchar</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">char</span> buf[<span class="number">100000</span>], *p1 = buf, *p2 = buf;</span><br><span class="line">  <span class="keyword">return</span> (p1 == p2) &amp;&amp;</span><br><span class="line">    (p2 = (p1 = buf) + fread(buf, <span class="number">1</span>, <span class="number">100000</span>, <span class="built_in">stdin</span>), p1 == p2) ? EOF : *p1++;</span><br><span class="line">&#125; <span class="comment">// ä½¿ç”¨ fread() æ¥æé«˜é€Ÿåº¦</span></span><br></pre></td></tr></table></figure><h3 id="å¿«è¯»ä½¿ç”¨-nextchar"><a href="#å¿«è¯»ä½¿ç”¨-nextchar" class="headerlink" title="å¿«è¯»ä½¿ç”¨ nextchar()"></a>å¿«è¯»ä½¿ç”¨ <code>nextchar()</code></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span>&amp; x)</span> </span>&#123;</span><br><span class="line">  x = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">bool</span> sign = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// ä½¿ç”¨ static èŠ‚çœç©ºé—´</span></span><br><span class="line">  <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123; sign |= (ch == <span class="string">'-'</span>); ch = nextchar(); &#125;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123; x = x * <span class="number">10</span> + (ch ^ <span class="number">48</span>); ch = nextchar(); &#125;</span><br><span class="line">  <span class="comment">// è¿™é‡Œ x * 10 å’Œ (x &lt;&lt; 1) + (x &lt;&lt; 3) ç¼–è¯‘åçš„ä»£ç æ˜¯ä¸€æ ·çš„</span></span><br><span class="line">  <span class="comment">// æ‰€ä»¥ä¸éœ€è¦ç”¨ä½è¿ç®—äº†</span></span><br><span class="line">  x = sign ? -x : x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="éé€’å½’-write"><a href="#éé€’å½’-write" class="headerlink" title="éé€’å½’ write()"></a>éé€’å½’ <code>write()</code></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">int</span> stk[<span class="number">100</span>], top = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (x == <span class="number">0</span>) &#123; <span class="built_in">putchar</span>(<span class="string">'0'</span>); <span class="keyword">return</span>; &#125;</span><br><span class="line">  <span class="keyword">if</span> (x &lt; <span class="number">0</span>) &#123; x = -x; <span class="built_in">putchar</span>(<span class="string">'-'</span>); &#125;</span><br><span class="line">  <span class="keyword">while</span> (x) &#123; stk[++top] = x % <span class="number">10</span>; x /= <span class="number">10</span>; &#125;</span><br><span class="line">  <span class="keyword">while</span> (top) &#123; <span class="built_in">putchar</span>(stk[top--] + <span class="string">'0'</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é€Ÿåº¦æµ‹è¯•"><a href="#é€Ÿåº¦æµ‹è¯•" class="headerlink" title="é€Ÿåº¦æµ‹è¯•"></a>é€Ÿåº¦æµ‹è¯•</h3><h4 id="æ•°æ®ç”Ÿæˆ"><a href="#æ•°æ®ç”Ÿæˆ" class="headerlink" title="æ•°æ®ç”Ÿæˆ"></a>æ•°æ®ç”Ÿæˆ</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function">ofstream <span class="title">test</span><span class="params">(<span class="string">"testdata.txt"</span>)</span></span>;</span><br><span class="line">  srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>) * <span class="number">19260817</span>); <span class="comment">// +1s</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5000000</span>; ++i)</span><br><span class="line">    test &lt;&lt; rand() &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="comment">// ç¥–ä¼ ä»£ç </span></span><br></pre></td></tr></table></figure><h4 id="è€ç‰ˆæœ¬æµ‹è¯•"><a href="#è€ç‰ˆæœ¬æµ‹è¯•" class="headerlink" title="è€ç‰ˆæœ¬æµ‹è¯•"></a>è€ç‰ˆæœ¬æµ‹è¯•</h4><pre><code class="cpp"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;chrono&gt;</span></span><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>::chrono;<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span>&amp; x)</span> </span>{  x = <span class="number">0</span>;  <span class="keyword">char</span> ch = <span class="number">0</span>;  <span class="keyword">bool</span> sign = <span class="literal">false</span>;  <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) { sign |= (ch == <span class="string">'-'</span>); ch = getchar(); }  <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) { x = x * <span class="number">10</span> + (ch ^ <span class="number">48</span>); ch = getchar(); }  x = sign ? -x : x;}<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{  <span class="keyword">if</span> (x &lt; <span class="number">0</span>) { <span class="built_in">putchar</span>(<span class="string">'-'</span>); x = -x; }  <span class="keyword">if</span> (x &gt; <span class="number">9</span>) write(x / <span class="number">10</span>);  <span class="built_in">putchar</span>(x % <span class="number">10</span> + <span class="string">'0'</span>);}<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{  freopen(<span class="string">"testdata.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);  freopen(<span class="string">"output.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);  <span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">1000000</span>];  <span class="keyword">auto</span> start = system_clock::now();  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000000</span>; ++i) read(<span class="built_in">array</span>[i - <span class="number">1</span>]);  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000000</span>; ++i) write(<span class="built_in">array</span>[i - <span class="number">1</span>]), <span class="built_in">putchar</span>(<span class="string">' '</span>);  <span class="keyword">auto</span> end = system_clock::now();  <span class="keyword">auto</span> duration = duration_cast&lt;microseconds&gt;(end - start);  <span class="built_in">cout</span> &lt;&lt; <span class="string">"cost: "</span>       &lt;&lt; <span class="keyword">double</span>(duration.count()) *          microseconds::period::num / microseconds::period::den       &lt;&lt; <span class="string">" seconds"</span> &lt;&lt; <span class="built_in">endl</span>;  <span class="keyword">return</span> <span class="number">0</span>;}</code></pre><pre><code>cost: 0.406813 seconds</code></pre><h4 id="æ–°ç‰ˆæœ¬æµ‹è¯•"><a href="#æ–°ç‰ˆæœ¬æµ‹è¯•" class="headerlink" title="æ–°ç‰ˆæœ¬æµ‹è¯•"></a>æ–°ç‰ˆæœ¬æµ‹è¯•</h4><pre><code class="cpp"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;chrono&gt;</span></span><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;<span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>::chrono;<span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">nextchar</span><span class="params">()</span> </span>{  <span class="keyword">static</span> <span class="keyword">char</span> buf[<span class="number">100000</span>], *p1 = buf, *p2 = buf;  <span class="keyword">return</span> (p1 == p2) &amp;&amp;    (p2 = (p1 = buf) + fread(buf, <span class="number">1</span>, <span class="number">100000</span>, <span class="built_in">stdin</span>), p1 == p2) ? EOF : *p1++;} <span class="comment">// ä½¿ç”¨ fread() æ¥æé«˜é€Ÿåº¦</span><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span>&amp; x)</span> </span>{  x = <span class="number">0</span>;  <span class="keyword">static</span> <span class="keyword">char</span> ch = <span class="number">0</span>;  <span class="keyword">static</span> <span class="keyword">bool</span> sign = <span class="literal">false</span>;  <span class="comment">// ä½¿ç”¨ static èŠ‚çœç©ºé—´</span>  <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) { sign |= (ch == <span class="string">'-'</span>); ch = nextchar(); }  <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) { x = x * <span class="number">10</span> + (ch ^ <span class="number">48</span>); ch = nextchar(); }  <span class="comment">// è¿™é‡Œ x * 10 å’Œ (x &lt;&lt; 1) + (x &lt;&lt; 3) ç¼–è¯‘åçš„ä»£ç æ˜¯ä¸€æ ·çš„</span>  <span class="comment">// æ‰€ä»¥ä¸éœ€è¦ç”¨ä½è¿ç®—äº†</span>  x = sign ? -x : x;}<span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> x)</span> </span>{  <span class="keyword">static</span> <span class="keyword">int</span> stk[<span class="number">100</span>], top = <span class="number">0</span>;  <span class="keyword">if</span> (x == <span class="number">0</span>) { <span class="built_in">putchar</span>(<span class="string">'0'</span>); <span class="keyword">return</span>; }  <span class="keyword">if</span> (x &lt; <span class="number">0</span>) { x = -x; <span class="built_in">putchar</span>(<span class="string">'-'</span>); }  <span class="keyword">while</span> (x) { stk[++top] = x % <span class="number">10</span>; x /= <span class="number">10</span>; }  <span class="keyword">while</span> (top) { <span class="built_in">putchar</span>(stk[top--] + <span class="string">'0'</span>); }}<span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>{  freopen(<span class="string">"testdata.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);  freopen(<span class="string">"output.txt"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);  <span class="keyword">int</span> <span class="built_in">array</span>[<span class="number">1000000</span>];  <span class="keyword">auto</span> start = system_clock::now();  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000000</span>; ++i) read(<span class="built_in">array</span>[i - <span class="number">1</span>]);  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">1000000</span>; ++i) write(<span class="built_in">array</span>[i - <span class="number">1</span>]), <span class="built_in">putchar</span>(<span class="string">' '</span>);  <span class="keyword">auto</span> end = system_clock::now();  <span class="keyword">auto</span> duration = duration_cast&lt;microseconds&gt;(end - start);  <span class="built_in">cout</span> &lt;&lt; <span class="string">"cost: "</span>       &lt;&lt; <span class="keyword">double</span>(duration.count()) *          microseconds::period::num / microseconds::period::den       &lt;&lt; <span class="string">" seconds"</span> &lt;&lt; <span class="built_in">endl</span>;  <span class="keyword">return</span> <span class="number">0</span>;}</code></pre><pre><code>cost: 0.275003 seconds</code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ–°çš„å¿«è¯»å‡ ä¹æ˜¯å¿«äº†ä¸€å€ï¼Œä¸è¿‡ä¸¤è€…éƒ½å·²ç»æ˜¯ç¥ä»™æ‰“æ¶äº†ï¼Œåƒ <code>scanf</code> è¿™ç§éƒ½å·²ç»è¢«è¸¢é£äº†ï¼Œä¸è¿‡ï¼Œå¿«è¯»è™½å¥½ï¼Œä½¿ç”¨è¿˜æ˜¯è¦è°¨æ…ï¼Œé€Ÿåº¦çš„æé«˜ä¸»è¦è¿˜æ˜¯é ç®—æ³•çš„ä¼˜åŒ–ï¼ˆé™¤äº†æŸäº›é«˜æ€§èƒ½çš„é¢˜ï¼‰ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;&lt;p&gt;ä¸Šæ¬¡çœ‹åˆ°ä¸€ä¸ªæ‰‹å†™ &lt;code&gt;getchar()&lt;/code&gt; çš„å¤§ç¥ï¼Œå‘ç°è‡ªå·±çš„å¿«é€Ÿè¯»å…¥è¿˜æ˜¯ä¸å¤Ÿéªšï¼Œäºæ˜¯å»æŸ¥äº†ä¸‹ç½‘ç»œï¼Œå‘ç°äº†æ›´åŠ å‰å®³çš„å¿«è¯»æ–¹å¼ã€‚é¡ºä¾¿æŠŠè‡ªå·±çš„å¿«è¾“ç”¨éé€’å½’ä¼˜åŒ–äº†ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="å¥‡æŠ€æ·«å·§" scheme="http://walesexcitedmei.github.io/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"/>
    
    
      <category term="C++ å¥‡æŠ€æ·«å·§" scheme="http://walesexcitedmei.github.io/tags/C-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"/>
    
  </entry>
  
  <entry>
    <title>[NOIP åˆèµ›] æ€»ç»“ä¸€æ³¢è¯»ç¨‹åºå†™ç»“æœé¢˜ç›®</title>
    <link href="http://walesexcitedmei.github.io/2018/09/20/NOIP-%E5%88%9D%E8%B5%9B-%E6%80%BB%E7%BB%93%E4%B8%80%E6%B3%A2%E8%AF%BB%E7%A8%8B%E5%BA%8F%E5%86%99%E7%BB%93%E6%9E%9C%E9%A2%98%E7%9B%AE/"/>
    <id>http://walesexcitedmei.github.io/2018/09/20/NOIP-åˆèµ›-æ€»ç»“ä¸€æ³¢è¯»ç¨‹åºå†™ç»“æœé¢˜ç›®/</id>
    <published>2018-09-20T09:57:14.000Z</published>
    <updated>2018-09-25T12:58:18.160Z</updated>
    
    <content type="html"><![CDATA[<div class="note default"><p>ä¸ºäº†æé«˜åˆèµ›åˆ†æ•°ï¼Œç—›ä¸‹å†³å¿ƒæ€»ç»“ä¸€æ³¢<strong>è¯»ç¨‹åºå†™ç»“æœ</strong>çš„é¢˜ã€‚</p><p>ps: ä¸€æ¬¡æ›´æ–°ä¸å®Œï¼Œä¼šæŒç»­æ›´æ–°</p></div><a id="more"></a><h3 id="ç¬¬äºŒåä¸€å±Š-NOIP-2015"><a href="#ç¬¬äºŒåä¸€å±Š-NOIP-2015" class="headerlink" title="ç¬¬äºŒåä¸€å±Š / NOIP 2015"></a>ç¬¬äºŒåä¸€å±Š / NOIP 2015</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(<span class="keyword">char</span> *a, <span class="keyword">char</span> *b)</span> </span>&#123;</span><br><span class="line">  a = b;</span><br><span class="line">  (*a)++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">char</span> c1, c2, *p1, *p2;</span><br><span class="line">  c1 = <span class="string">'A'</span>;</span><br><span class="line">  c2 = <span class="string">'a'</span>;</span><br><span class="line">  p1 = &amp;c1;</span><br><span class="line">  p2 = &amp;c2;</span><br><span class="line">  fun(p1, p2);</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; c1 &lt;&lt; c2 &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å‡ºï¼šAb</span></span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜ä¸­å…ˆæ˜¯å°† <code>p1</code> èµ‹å€¼ä¸º <code>c1</code> çš„åœ°å€ï¼Œå°† <code>p2</code> èµ‹å€¼ä¸º <code>c2</code> çš„åœ°å€ï¼Œç„¶åå°† <code>p1</code> èµ‹å€¼ä¸º <code>p2</code> çš„å€¼ï¼Œå³ç°åœ¨ <code>p1</code> æ‰€è¡¨ç¤ºçš„æ˜¯ <code>c2</code> çš„åœ°å€ï¼Œæ‰€ä»¥æœ€ååªæœ‰ <code>c2</code> ä¼šå‘ç”Ÿæ”¹å˜ï¼Œè¿™é“é¢˜ä¸€å¼€å§‹æ²¡çœ‹å‡ºæ¥ï¼Œåæ¥ä»”ç»†æƒ³äº†æƒ³æ‰ååº”è¿‡æ¥ï¼Œä¸å¤±ä¸ºä¸€é“å‘é¢˜ã€‚</p><hr><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> fromPos, <span class="keyword">int</span> toPos)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> t, tot;</span><br><span class="line">  <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (t = <span class="number">1</span>; t &lt;= <span class="number">3</span>; t++)</span><br><span class="line">    <span class="keyword">if</span> (t != fromPos &amp;&amp; t != toPos)</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">  tot = <span class="number">0</span>;</span><br><span class="line">  tot += fun(n - <span class="number">1</span>, fromPos, t);</span><br><span class="line">  tot++;</span><br><span class="line">  tot += fun(n - <span class="number">1</span>, t, toPos);</span><br><span class="line">  <span class="keyword">return</span> tot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> n;</span><br><span class="line">  <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; fun(n, <span class="number">1</span>, <span class="number">3</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¾“å…¥ï¼š5</span></span><br><span class="line"><span class="comment">// è¾“å‡ºï¼š31</span></span><br></pre></td></tr></table></figure><p>è¿™é“é¢˜å…¶å®çº¯å±ç³Šå¼„äººï¼Œå¯ä»¥å‘ç° <code>fun</code> è¿™ä¸ªå‡½æ•°ä¸­ä¸ç®¡ <code>fromPos</code> å’Œ <code>toPos</code> ä¸ºä½•å€¼ï¼Œæ€»èƒ½ç»§ç»­ä¸‹å»ï¼Œæ‰€ä»¥ç®€åŒ–åçš„å‡½æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fun</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span> fun(n - <span class="number">1</span>) * <span class="number">2</span> + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œè¿™æ ·å­çš„é€’å½’å‡½æ•°æ‰‹æ¨å°±è¡Œäº†ã€‚</p><h3 id="æœªå®Œå¾…ç»­â€¦â€¦"><a href="#æœªå®Œå¾…ç»­â€¦â€¦" class="headerlink" title="æœªå®Œå¾…ç»­â€¦â€¦"></a>æœªå®Œå¾…ç»­â€¦â€¦</h3><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;&lt;p&gt;ä¸ºäº†æé«˜åˆèµ›åˆ†æ•°ï¼Œç—›ä¸‹å†³å¿ƒæ€»ç»“ä¸€æ³¢&lt;strong&gt;è¯»ç¨‹åºå†™ç»“æœ&lt;/strong&gt;çš„é¢˜ã€‚&lt;/p&gt;&lt;p&gt;ps: ä¸€æ¬¡æ›´æ–°ä¸å®Œï¼Œä¼šæŒç»­æ›´æ–°&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="NOIP" scheme="http://walesexcitedmei.github.io/categories/NOIP/"/>
    
    
      <category term="NOIP åˆèµ›" scheme="http://walesexcitedmei.github.io/tags/NOIP-%E5%88%9D%E8%B5%9B/"/>
    
  </entry>
  
  <entry>
    <title>[NOIP åˆèµ›] æ€»ç»“å„ç§å‘äººåŸºç¡€çŸ¥è¯†</title>
    <link href="http://walesexcitedmei.github.io/2018/09/16/NOIP-%E5%88%9D%E8%B5%9B-%E6%80%BB%E7%BB%93%E5%90%84%E7%A7%8D%E5%9D%91%E4%BA%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>http://walesexcitedmei.github.io/2018/09/16/NOIP-åˆèµ›-æ€»ç»“å„ç§å‘äººåŸºç¡€çŸ¥è¯†/</id>
    <published>2018-09-16T12:14:37.000Z</published>
    <updated>2018-09-25T12:58:18.160Z</updated>
    
    <content type="html"><![CDATA[<div class="note default"><p>åˆèµ›ä¸´è¿‘ï¼Œæ¯å¤©ä¸€å¼ åˆèµ›å·è®©æˆ‘å‘ç°äº†å¾ˆå¤šåŸºç¡€çŸ¥è¯†ä¸Šçš„å‘ï¼Œäºæ˜¯å†³å®šæ€»ç»“ä¸€ä¸‹ã€‚</p></div><a id="more"></a><h3 id="ä¿¡ä»°å‘"><a href="#ä¿¡ä»°å‘" class="headerlink" title="ä¿¡ä»°å‘"></a>ä¿¡ä»°å‘</h3><div class="note info"><p><strong>NOIï¼ˆ1984 è‡³ä»Šï¼‰:</strong> å·²ç»„ç»‡ 33 æ¬¡æ´»åŠ¨ï¼Œå„çœé€‰æ‹”äº”åé€‰æ‰‹ï¼Œè‡³å°‘ä¸€åä¸ºå¥³é€‰æ‰‹ã€‚<br><strong>NOIPï¼ˆ1995 è‡³ä»Šï¼‰:</strong> å·²ç»„ç»‡ 22 æ¬¡æ¯”èµ›ï¼Œå…¨å›½åŒä¸€æ—¶é—´ï¼Œä¸åŒåœ°ç‚¹ã€‚<br><strong>IOIï¼ˆ1989 è‡³ä»Šï¼‰:</strong> å·²ç»„ç»‡ 19 æ¬¡æ¯”èµ›ï¼ŒIOI 2000 ç”±ä¸­å›½ä¸»åŠï¼ŒCCF æ‰¿åŠã€‚<br><strong>APIOï¼ˆ2007 åˆ›å»ºï¼‰:</strong> APIO ä¸­å›½èµ›åŒºç”±ä¸­å›½è®¡ç®—æœºå­¦ä¼šç»„ç»‡ã€‚</p></div><div class="note warning"><p><strong>NOIP 2022 å¹´å¼€å§‹å°†åœæ­¢æ”¯æŒ Pascal</strong></p></div><h3 id="ç½‘ç»œåè®®å‘"><a href="#ç½‘ç»œåè®®å‘" class="headerlink" title="ç½‘ç»œåè®®å‘"></a>ç½‘ç»œåè®®å‘</h3><div class="note info"><p><strong>ARP (Address Resolution Protocol) åœ°å€è§£æåè®®</strong><br><strong>DHCP (Dynamic Host Configuration Protocol) åŠ¨æ€ä¸»æœºé…ç½®åè®®</strong><br><strong>FTP (File Transfer Protocol) æ–‡ä»¶ä¼ è¾“åè®®</strong><br><strong>HTTP (Hypertext Transfer Protocol) è¶…æ–‡æœ¬ä¼ è¾“åè®®</strong><br><strong>HTTPS (Secure Hypertext Transfer Protocol) å®‰å…¨è¶…æ–‡æœ¬ä¼ è¾“åè®®</strong><br><strong>IMAP4 (Internet Mail Access Protocol Version 4) Internet é‚®ä»¶è®¿é—®åè®®â€”â€”ç‰ˆæœ¬4</strong><br><strong>IPv6 (Internet Protocol Version 6) Internet åè®®â€”â€”ç‰ˆæœ¬6</strong><br><strong>POP3 (Post Office Protocol version 3) é‚®å±€åè®®â€”â€”ç‰ˆæœ¬3</strong><br><strong>SMTP (Simple Mail Transfer Protocol) ç®€å•é‚®ä»¶ä¼ è¾“åè®®</strong><br><strong>TFTP (Trivial File Transfer Protocol) å°å‹æ–‡ä»¶ä¼ è¾“åè®®</strong></p></div><div class="note warning"><p><strong>WWW æ˜¯ URLï¼Œä¸æ˜¯ç½‘ç»œåè®®</strong></p></div><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;&lt;p&gt;åˆèµ›ä¸´è¿‘ï¼Œæ¯å¤©ä¸€å¼ åˆèµ›å·è®©æˆ‘å‘ç°äº†å¾ˆå¤šåŸºç¡€çŸ¥è¯†ä¸Šçš„å‘ï¼Œäºæ˜¯å†³å®šæ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="NOIP" scheme="http://walesexcitedmei.github.io/categories/NOIP/"/>
    
    
      <category term="NOIP åˆèµ›" scheme="http://walesexcitedmei.github.io/tags/NOIP-%E5%88%9D%E8%B5%9B/"/>
    
  </entry>
  
  <entry>
    <title>[NOIP æ¨¡æ‹Ÿ] è®°å½•ä¸€é“å‘é¢˜</title>
    <link href="http://walesexcitedmei.github.io/2018/09/01/NOIP-%E6%A8%A1%E6%8B%9F-%E8%AE%B0%E5%BD%95%E4%B8%80%E9%81%93%E5%9D%91%E9%A2%98/"/>
    <id>http://walesexcitedmei.github.io/2018/09/01/NOIP-æ¨¡æ‹Ÿ-è®°å½•ä¸€é“å‘é¢˜/</id>
    <published>2018-09-01T02:56:35.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<div class="note default"><p>æ˜¨å¤©çš„ä¸€åœºæ¨¡æ‹Ÿï¼Œç¬¬äºŒé¢˜æœ¬æ¥åº”è¯¥æ˜¯ä¸€é“å¾ˆæ°´çš„é¢˜ï¼Œç„¶è€Œæœ€åæ‰“å´©äº†ï¼Œå½’æ ¹ç»“åº•è¿˜æ˜¯è‡ªå·±ä¸å¤Ÿä»”ç»†ï¼Œé¢˜ç›®å®¡é”™ï¼Œæœ€åå¯¼è‡´æ–¹æ³•ç”¨é”™ã€‚</p></div><a id="more"></a><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p><strong>[é—®é¢˜æè¿°]</strong></p><pre><code>ç¥å³å°†å¸¦é¢†ä¸€äº›äººå»ä»–ä»¬çš„å­¤å¯‚ä¹‹å¢ƒï¼Œç”±äºè¿™ä¸ªä¸–ç•Œçš„ä¸ç¨³å®šï¼Œåœ°ç‚¹ä¹‹é—´çš„æœ‰å‘é“è·¯ä¼šä¸å®šæœŸåœ°æ¯åï¼Œå‡ºäºå·¥ä½œå‡†å¤‡ï¼Œç¥æƒ³çŸ¥é“åœ¨æŸäº›é“è·¯æ¯åä¹‹åæŸä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ã€‚å°±æ˜¯ç»™å®šä¸€ä¸ªæœ‰å‘å›¾ï¼Œç°æœ‰ä¸¤ä¸ªæ“ä½œï¼Œæ“ä½œ1 æ˜¯åˆ é™¤ä¸€æ¡è¾¹ï¼ˆä¸€æ¡è¾¹å¯é‡å¤åˆ é™¤ï¼‰ï¼Œæ“ä½œ2æ˜¯è¯¢é—®ä¸¤ä¸ªç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯ã€‚</code></pre><p><strong>[è¾“å…¥æ ¼å¼]</strong></p><pre><code>è¾“å…¥æ–‡ä»¶åä¸ºjourney.inã€‚ç¬¬1 è¡Œä¸¤ä¸ªæ­£æ•´æ•°n, mï¼Œåˆ†åˆ«è¡¨ç¤ºå›¾çš„ç‚¹æ•°å’Œæ“ä½œæ•°ã€‚ç¬¬2 è¡Œè‡³ç¬¬n + 1 è¡Œæ¯è¡Œn ä¸ªæ­£æ•´æ•°ï¼Œä¸ºå›¾çš„é‚»æ¥çŸ©é˜µï¼Œç¬¬i è¡Œç¬¬j åˆ—çš„æ•°è¡¨ç¤ºç‚¹i å’Œç‚¹j é—´è·ç¦»ï¼Œä¿è¯å¯¹è§’çº¿ä¸º0ã€‚æ¥ä¸‹æ¥m è¡Œæ¯è¡Œä¸‰ä¸ªæ­£æ•´æ•°c, x, yï¼› c è¡¨ç¤ºæ“ä½œç§ç±»ï¼Œä¸º1 æˆ–2ï¼Œå½“c = 1 æ—¶è¡¨ç¤ºåˆ é™¤xä¸y ç›¸è¿çš„è¾¹ï¼Œå½“ c = 2 æ—¶è¡¨ç¤ºè¯¢é—® x åˆ° y çš„æœ€çŸ­è·¯ï¼Œè‹¥ä¸å¯è¾¾åˆ™è¾“å‡º -1ã€‚</code></pre><p><strong>[è¾“å‡ºæ ¼å¼]</strong></p><pre><code>è¾“å‡ºæ–‡ä»¶åä¸ºjourney.outè¾“å‡ºè‹¥å¹²è¡Œï¼Œæ¯ä¸ª 2 æ“ä½œå¯¹åº”ä¸€è¡Œï¼Œç­”æ¡ˆä¸ºè¯¢é—®ä¸­ x åˆ° y çš„æœ€çŸ­è·¯æˆ– -1</code></pre><p><strong>[æ ·ä¾‹]</strong></p><pre><code>è§ä¸‹å‘/girls/girls.in(out)ã€‚</code></pre><p><strong>[æ•°æ®è§„æ¨¡ä¸çº¦å®š]</strong></p><pre><code>å¯¹äº30% çš„æ•°æ®ï¼šn, m &lt;= 10å¯¹äº50% çš„æ•°æ®ï¼šn, m &lt;= 50å¯¹äº100% çš„æ•°æ®ï¼šn &lt;= 200; m &lt;= 100000, æ“ä½œ1 ä¸è¶…è¿‡200 æ¬¡ï¼Œè¾¹æƒä¸è¶…è¿‡10000</code></pre><h3 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h3><p>ä¸€ç¢°åˆ°æŸ¥æ‰¾çš„é¢˜ï¼Œé‚£è‚¯å®šå°±æ˜¯ä¸¤æ¡è·¯äº†ï¼Œç¦»çº¿å’Œåœ¨çº¿ä¸¤ç§æ€è·¯ï¼Œä¹ä¸€çœ‹è¿™ $n$ çš„æ•°æ®èŒƒå›´ï¼Œå¹¶ä¸”é¢˜ç›®ä¸­è¿˜è¯´è¾“å…¥é‚»æ¥çŸ©é˜µï¼Œé‚£æ±‚æœ€çŸ­è·¯è‚¯å®šæ˜¯ Floyd äº†ï¼Œå†ä¸€æƒ³ï¼Œå¦‚æœæ˜¯åœ¨çº¿æŸ¥è¯¢é‚£åªæœ‰æœ´ç´ ç®—æ³•äº†ï¼ŒæŸ¥ä¸€æ¬¡æ±‚ä¸€æ¬¡å…¨æºæœ€çŸ­è·¯ï¼Œç„¶åè¿™ç§æ–¹æ³•å°± <code>TLE</code> äº†ï¼Œä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 210</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line">  x = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">bool</span> sign = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">    sign |= (ch == <span class="string">'-'</span>);</span><br><span class="line">    ch = getchar();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">    x = (x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + (ch ^ <span class="number">48</span>);</span><br><span class="line">    ch = getchar();</span><br><span class="line">  &#125;</span><br><span class="line">  x = sign ? -x : x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x &lt; <span class="number">0</span>) &#123; <span class="built_in">putchar</span>(<span class="string">'-'</span>); x = -x; &#125;</span><br><span class="line">  <span class="keyword">if</span> (x &gt; <span class="number">9</span>) write(x / <span class="number">10</span>);</span><br><span class="line">  <span class="built_in">putchar</span>(x % <span class="number">10</span> + <span class="string">'0'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">writeln</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span>&#123; write(x); <span class="built_in">puts</span>(<span class="string">""</span>); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b)</span> </span>&#123; read(a); read(b); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b, <span class="keyword">int</span> &amp;c)</span> </span>&#123; read(a); read(b); read(c); &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> g[maxn][maxn], d[maxn][maxn], n, m, c, x, y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Floyd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; ++k)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">        g[i][j] = min(g[i][j], g[i][k] + g[k][j]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  freopen(<span class="string">"journey.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">  freopen(<span class="string">"journey.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">  <span class="built_in">memset</span>(d, INF, <span class="keyword">sizeof</span>(d));</span><br><span class="line">  read(n, m);</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">      read(g[i][j]);</span><br><span class="line">  <span class="keyword">while</span> (m--) &#123;</span><br><span class="line">    read(c, x, y);</span><br><span class="line">    <span class="keyword">switch</span> (c) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">1</span>: &#123; g[x][y] = INF; <span class="keyword">break</span>; &#125;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">2</span>: &#123;</span><br><span class="line">        <span class="built_in">memcpy</span>(d, g, <span class="keyword">sizeof</span>(g));</span><br><span class="line">        Floyd();</span><br><span class="line">        <span class="keyword">if</span> (g[x][y] == INF) <span class="built_in">puts</span>(<span class="string">"-1"</span>);</span><br><span class="line">        <span class="keyword">else</span> writeln(g[x][y]);</span><br><span class="line">        <span class="built_in">memcpy</span>(g, d, <span class="keyword">sizeof</span>(d));</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥æ­£è§£è‚¯å®šå°±æ˜¯ç¦»çº¿æ“ä½œäº†ï¼Œå…ˆæŠŠè¯¥åˆ çš„è¾¹éƒ½ç»™åˆ æ‰ï¼Œç„¶åä»æœ€åä¸€ä¸ªæ“ä½œå¼€å§‹å¤„ç†ï¼Œé‡åˆ°æ“ä½œä¸€å°±åŠ è¾¹ï¼Œæ±‚ä¸€æ¬¡æœ€çŸ­è·¯ï¼Œå½“ç„¶è¿™é‡Œä¸æ˜¯ç”¨ Floyd è€Œæ˜¯ç”¨ä¸€ä¸ª $\mathcal{O}(n^2)$ çš„æ–¹æ³•ï¼Œé™„ä¸Šä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 210</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxm 100010</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">op</span> &#123;</span> <span class="keyword">int</span> c, x, y; &#125;;</span><br><span class="line"><span class="comment">// op ç»“æ„ä½“ï¼Œè®°å½•æ“ä½œ</span></span><br><span class="line">op ops[maxm];</span><br><span class="line"><span class="keyword">int</span> g[maxn][maxn], d[maxn][maxn];</span><br><span class="line"><span class="keyword">int</span> w[maxm], ans[maxm];</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line">  x = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">bool</span> sign = <span class="literal">false</span>;</span><br><span class="line">  <span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">    sign |= (ch == <span class="string">'-'</span>);</span><br><span class="line">    ch = getchar();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">    x = (x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + (ch ^ <span class="number">48</span>);</span><br><span class="line">    ch = getchar();</span><br><span class="line">  &#125;</span><br><span class="line">  x = sign ? -x : x;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (x &lt; <span class="number">0</span>) &#123; <span class="built_in">putchar</span>(<span class="string">'-'</span>); x = -x; &#125;</span><br><span class="line">  <span class="keyword">if</span> (x &gt; <span class="number">9</span>) write(x / <span class="number">10</span>);</span><br><span class="line">  <span class="built_in">putchar</span>(x % <span class="number">10</span> + <span class="string">'0'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">writeln</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123; write(x); <span class="built_in">puts</span>(<span class="string">""</span>); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b)</span> </span>&#123; read(a); read(b); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;a, <span class="keyword">int</span> &amp;b, <span class="keyword">int</span> &amp;c)</span> </span>&#123; read(a); read(b); read(c); &#125;</span><br><span class="line"><span class="comment">// å¿«è¯»å¿«å†™é»‘ç§‘æŠ€</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Floyd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; ++k)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">        d[i][j] = min(d[i][j], d[i][k] + d[k][j]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Floyd å¯¹ d[][] æ“ä½œæ±‚æœ€çŸ­è·¯</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  freopen(<span class="string">"journey.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">  freopen(<span class="string">"journey.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line">  read(n, m);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">      read(g[i][j]);</span><br><span class="line">  <span class="built_in">memcpy</span>(d, g, <span class="keyword">sizeof</span>(g));</span><br><span class="line">  <span class="comment">// è¾“å…¥ï¼Œg[][] ç”¨æ¥å¤‡ä»½åŸé‚»æ¥çŸ©é˜µ</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line">    read(ops[i].c, ops[i].x, ops[i].y);</span><br><span class="line">    <span class="keyword">if</span> (ops[i].c == <span class="number">1</span>) &#123;</span><br><span class="line">      w[i] = g[ops[i].x][ops[i].y];</span><br><span class="line">      d[ops[i].x][ops[i].y] = INF;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  Floyd();</span><br><span class="line">  <span class="comment">// è¯»å…¥æ‰€æœ‰æ“ä½œå Floyd</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> k = m; k &gt; <span class="number">0</span>; --k) &#123;</span><br><span class="line">  <span class="comment">// æ³¨æ„å¾ªç¯é¡ºåºï¼Œä»æœ€åä¸€ä¸ªå¼€å§‹</span></span><br><span class="line">    <span class="keyword">int</span> x = ops[k].x;</span><br><span class="line">    <span class="keyword">int</span> y = ops[k].y;</span><br><span class="line">    <span class="keyword">if</span> (ops[k].c == <span class="number">2</span>) ans[++cnt] = (d[x][y] == INF ? <span class="number">-1</span> : d[x][y]);</span><br><span class="line">    <span class="comment">// é¢˜ç›®ä¸­è¦æ±‚å¦‚æœä¸è¿é€šè¾“å‡º -1ï¼Œæ‰€ä»¥è¿™é‡Œç‰¹åˆ¤ä¸€ä¸‹</span></span><br><span class="line">    <span class="comment">// æ ‡ç¨‹ä¸­ä¼¼ä¹æ²¡æœ‰è¿™ä¸€å¥ï¼Œè‡ªå·±æäº†ä¸€ä¸ªæ•°æ®æŠŠæ ‡ç¨‹ç»™å¡æ‰äº†ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦åŠ çš„</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// æ±‚ä¸€æ¬¡æœ€çŸ­è·¯ï¼Œåªè¦æŠŠ d[x][y] åŠ è¿›å»å†æ¯”è¾ƒä¸€ä¸‹å°±å¯ä»¥äº†</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j) &#123;</span><br><span class="line">          <span class="keyword">int</span> tmp = d[i][x] + d[y][j] + w[k];</span><br><span class="line">          <span class="keyword">if</span> (tmp &lt; d[i][j]) d[i][j] = tmp;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// æœ€åè¾“å‡ºè¦æ³¨æ„é¡ºåº</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = cnt; i &gt; <span class="number">0</span>; --i) writeln(ans[i]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ä»¥åçœ‹åˆ°è¿™ç§é¢˜å¿…é¡»è¦è¯»æ¸…æ¥šé¢˜æ„ï¼Œç„¶åå†³å®šæ˜¯å¦ç¦»çº¿æ“ä½œï¼Œè€ƒè¯•çš„æ—¶å€™æˆ‘æ ¹æœ¬å°±æ˜¯æ™ºéšœäº†ï¼Œç›´æ¥åœ¨æ•°ç»„ $d$ ä¸Šé¢åˆ è¾¹ï¼Œæ±‚æœ€çŸ­è·¯ï¼Œç„¶å GGã€‚å¹¸å¥½æœ€åé†’æ‚Ÿè¿‡æ¥æ‰“äº†ä¸ªæš´åŠ›ã€‚é‚»é˜¶çŸ©é˜µå°±æ˜¯è¿™ç‚¹å¤ªå‘ã€‚ã€‚ã€‚å®¹æ˜“è®©äººè¯¯æ“ä½œã€‚ã€‚ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;&lt;p&gt;æ˜¨å¤©çš„ä¸€åœºæ¨¡æ‹Ÿï¼Œç¬¬äºŒé¢˜æœ¬æ¥åº”è¯¥æ˜¯ä¸€é“å¾ˆæ°´çš„é¢˜ï¼Œç„¶è€Œæœ€åæ‰“å´©äº†ï¼Œå½’æ ¹ç»“åº•è¿˜æ˜¯è‡ªå·±ä¸å¤Ÿä»”ç»†ï¼Œé¢˜ç›®å®¡é”™ï¼Œæœ€åå¯¼è‡´æ–¹æ³•ç”¨é”™ã€‚&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="NOIP" scheme="http://walesexcitedmei.github.io/categories/NOIP/"/>
    
    
      <category term="NOIP æ¨¡æ‹Ÿ" scheme="http://walesexcitedmei.github.io/tags/NOIP-%E6%A8%A1%E6%8B%9F/"/>
    
  </entry>
  
  <entry>
    <title>[HEXO] NexT ä¸»é¢˜æé«˜åšå®¢é¢œå€¼</title>
    <link href="http://walesexcitedmei.github.io/2018/08/30/HEXO-NexT-%E4%B8%BB%E9%A2%98%E6%8F%90%E9%AB%98%E5%8D%9A%E5%AE%A2%E9%A2%9C%E5%80%BC/"/>
    <id>http://walesexcitedmei.github.io/2018/08/30/HEXO-NexT-ä¸»é¢˜æé«˜åšå®¢é¢œå€¼/</id>
    <published>2018-08-30T12:37:23.000Z</published>
    <updated>2018-09-25T12:58:18.144Z</updated>
    
    <content type="html"><![CDATA[<div class="note default"><p>ä»Šå¤©æ˜¯æŠŠåšå®¢å¥½å¥½åœ°ç¾åŒ–äº†ä¸€æŠŠï¼Œä»Šå¤©å°±æ¥è®²ä¸€ä¸‹ hexo åšå®¢ç¾åŒ–è¿‡ç¨‹ä¸­çš„å¿ƒå¾—ï¼Œå› ä¸ºè‡ªå·±ä½¿ç”¨çš„æ˜¯ NexT ä¸»é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œçš„æœ‰äº›è¿‡ç¨‹ä»…ä¾›åˆ«çš„ä¸»é¢˜çš„ç”¨æˆ·åšå‚è€ƒã€‚</p></div><a id="more"></a><h3 id="æ–‡ç« çš„æ¨¡æ¿æ–‡ä»¶"><a href="#æ–‡ç« çš„æ¨¡æ¿æ–‡ä»¶" class="headerlink" title="æ–‡ç« çš„æ¨¡æ¿æ–‡ä»¶"></a>æ–‡ç« çš„æ¨¡æ¿æ–‡ä»¶</h3><p>ä¸ºäº†æ¯æ¬¡æ›´æ–°æ–¹ä¾¿ï¼Œæˆ‘ç›´æ¥æ”¹äº† <code>blog/scaffolds/</code> ä¸‹çš„ <code>post.md</code>ï¼Œæ¯æ¬¡ç”Ÿæˆçš„æ—¶å€™æ¨¡æ¿å°±éƒ½æœ‰äº†ï¼Œä¸éœ€è¦è‡ªå·±å†å»å¼„ã€‚è¿™ä¸ªæ˜¯æˆ‘çš„æ¨¡æ¿ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">mathjax: true</span><br><span class="line">copyright: true</span><br><span class="line">comment: true</span><br><span class="line">photo: </span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&#123;% note default %&#125;</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line"></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- more --&gt;</span></span></span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>è¯´æ˜ä¸€ä¸‹ï¼Œè¿™ä¸ª <code>note</code> è¦åœ¨ <code>next\_config.yml</code> ä¸­å¼€å¯æ‰å¯ä»¥å†™ã€‚ä¸‹é¢ä¼šè®²åˆ°ã€‚<code>photo</code> æ˜¯æ–‡ç« å¼€å¤´çš„å›¾ç‰‡ï¼Œå°±åƒè¿™ç¯‡æ–‡ç« å¼€å¤´é‚£æ ·ï¼Œæ³¨æ„ä¸€å®šè¦åŠ ç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘è¿™å¼ å›¾ç‰‡å­˜åœ¨æ–‡ç« çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œé‚£ä¹ˆè·¯å¾„å°±æ˜¯ <code>/2018/08/30/HEXO-NexT-ä¸»é¢˜æé«˜åšå®¢é¢œå€¼/photo1.jpg</code>ã€‚<code>copyright</code> è¿™ä¸€é¡¹ä¹Ÿæ˜¯è¦å¼€å¯ä¹‹åæ‰è¡Œï¼Œæˆ‘çš„åšå®¢çš„ copyright æ˜¯è‡ªå·±é‡æ–°å†™çš„ï¼Œåé¢ä¼šè®²åˆ°ã€‚æœ€åè¿™ä¸ª <code>---</code> æ˜¯ç»“æŸç¬¦ï¼Œå’Œæœ€åçš„ç»“æŸè¯­ä¸€èµ·ç”¨ã€‚</p><h3 id="Markdown-æŠ€å·§ä¸å†…ç½®æ ·å¼"><a href="#Markdown-æŠ€å·§ä¸å†…ç½®æ ·å¼" class="headerlink" title="Markdown æŠ€å·§ä¸å†…ç½®æ ·å¼"></a>Markdown æŠ€å·§ä¸å†…ç½®æ ·å¼</h3><p><a href="https://segmentfault.com/markdown" target="_blank" rel="noopener">åŸºç¡€çš„è¯­æ³•</a>å°±ä¸æäº†ï¼Œç‚¹è¿›æ¥çš„åº”è¯¥éƒ½ä¼šäº†ã€‚è¿™é‡Œå°±è®²è®²ä¸€äº›æŠ€å·§ã€‚</p><h4 id="ç¼–è¾‘å™¨"><a href="#ç¼–è¾‘å™¨" class="headerlink" title="ç¼–è¾‘å™¨"></a>ç¼–è¾‘å™¨</h4><p>æˆ‘ç”¨çš„ Markdown ç¼–è¾‘å™¨æ˜¯ <a href="https://typora.io/" target="_blank" rel="noopener">Typora</a>ï¼Œæœ‰äº›è¡Œå†…å…¬å¼çš„æ˜¾ç¤ºå¯ä»¥åœ¨è®¾ç½®é‡Œæ‰“å¼€ã€‚è¿™æ˜¯æˆ‘ç”¨è¿‡çš„æœ€å¥½çš„ Markdownç¼–è¾‘å™¨</p><h4 id="åˆ†éš”çº¿å’Œç©ºè¡Œ"><a href="#åˆ†éš”çº¿å’Œç©ºè¡Œ" class="headerlink" title="åˆ†éš”çº¿å’Œç©ºè¡Œ"></a>åˆ†éš”çº¿å’Œç©ºè¡Œ</h4><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯æ–‡å­—</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span></span><br><span class="line">ä¸Šé¢æ˜¯åˆ†éš”çº¿</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line">ä¸Šé¢æ˜¯ç©ºè¡Œ</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p>è¿™æ˜¯æ–‡å­—</p><p><hr><br>ä¸Šé¢æ˜¯åˆ†éš”çº¿<br><br><br>ä¸Šé¢æ˜¯ç©ºè¡Œ</p><h4 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h4><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></span>å¼•ç”¨å†…å®¹<span class="xml"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- å¦‚æœå‰åé—´éš™å¾ˆå°ï¼Œå¯ä»¥åƒä¸‹é¢è¿™æ ·å†™ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">blockquote</span>&gt;</span></span>å¼•ç”¨å†…å®¹<span class="xml"><span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><blockquote>å¼•ç”¨å†…å®¹</blockquote></p><p><blockquote>å¼•ç”¨å†…å®¹</blockquote></p><h4 id="å±…ä¸­å’Œå³å¯¹é½"><a href="#å±…ä¸­å’Œå³å¯¹é½" class="headerlink" title="å±…ä¸­å’Œå³å¯¹é½"></a>å±…ä¸­å’Œå³å¯¹é½</h4><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- å±…ä¸­ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span>å†…å®¹<span class="xml"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- å³å¯¹é½ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:right"</span>&gt;</span></span>å†…å®¹<span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><p><center>å†…å®¹</center></p><div style="text-align:right">å†…å®¹</div><h4 id="å­—ä½“å¤§å°å’Œé¢œè‰²"><a href="#å­—ä½“å¤§å°å’Œé¢œè‰²" class="headerlink" title="å­—ä½“å¤§å°å’Œé¢œè‰²"></a>å­—ä½“å¤§å°å’Œé¢œè‰²</h4><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"#187892"</span> <span class="attr">size</span>=<span class="string">"number"</span>&gt;</span></span>å†…å®¹<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- è¯¦ç»†è¯·æŸ¥çœ‹ http://www.w3school.com.cn/tags/tag_font.asp --&gt;</span></span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><font color="#187892" size="number">å†…å®¹</font><h4 id="Todo-list"><a href="#Todo-list" class="headerlink" title="Todo list"></a>Todo list</h4><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> å·²å®Œæˆ<span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> æœªå®Œæˆ<span class="xml"><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><ul><br><li><i class="fa fa-check-square"></i> å·²å®Œæˆ</li><br><li><i class="fa fa-square"></i> æœªå®Œæˆ</li><br></ul><h4 id="Note-åµŒå¥—-Todo-list"><a href="#Note-åµŒå¥—-Todo-list" class="headerlink" title="Note åµŒå¥— Todo list"></a>Note åµŒå¥— Todo list</h4><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- ä¸€å…±æœ‰ä¸¤ç§å†™æ³•ï¼Œæ•ˆæœçœ‹ä¸‹é¢ --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note primary"</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> å·²å®Œæˆ</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> å·²å®Œæˆ</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> å·²å®Œæˆ</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> å·²å®Œæˆ</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> å·²å®Œæˆ</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> æœªå®Œæˆ</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> æœªå®Œæˆ</span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> æœªå®Œæˆ</span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note primary"</span>&gt;</span></span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-check-square"&gt;&lt;/i&gt; å·²å®Œæˆ</span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-check-square"&gt;&lt;/i&gt; å·²å®Œæˆ</span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-check-square"&gt;&lt;/i&gt; å·²å®Œæˆ</span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-check-square"&gt;&lt;/i&gt; å·²å®Œæˆ</span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-check-square"&gt;&lt;/i&gt; å·²å®Œæˆ</span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-square"&gt;&lt;/i&gt; æœªå®Œæˆ</span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-square"&gt;&lt;/i&gt; æœªå®Œæˆ</span></span><br><span class="line"><span class="code">    &lt;i class="fa fa-square"&gt;&lt;/i&gt; æœªå®Œæˆ</span></span><br><span class="line">  <span class="xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><div class="note primary"><br>  <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>  <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>  <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>  <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>  <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>  <i class="fa fa-square"></i> æœªå®Œæˆ<br>  <i class="fa fa-square"></i> æœªå®Œæˆ<br>  <i class="fa fa-square"></i> æœªå®Œæˆ<br></div><br><div class="note primary"><br>  <p><br>    <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>    <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>    <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>    <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>    <i class="fa fa-check-square"></i> å·²å®Œæˆ<br>    <i class="fa fa-square"></i> æœªå®Œæˆ<br>    <i class="fa fa-square"></i> æœªå®Œæˆ<br>    <i class="fa fa-square"></i> æœªå®Œæˆ<br>  </p><br></div><p>è¿™ä¸¤ä¸ªå†™æ³•ç†Ÿæ‚‰ HTML çš„åŒå­¦åº”è¯¥æ˜¯æ˜ç™½çš„ï¼Œè¿™é‡Œ<del>å› ä¸ºæˆ‘å¤ªèœäº†</del>å°±ä¸è®²äº†ã€‚ä¸»è¦è¯´ä¸€ä¸‹ <code>&lt;i class=&quot;fa fa-square&quot;&gt;&lt;/i&gt;</code> æ˜¯ä» <a href="https://fontawesome.com/" target="_blank" rel="noopener">Font Awesome</a> ä¸Šè·å–å›¾æ ‡çš„æ–¹æ³•ï¼Œä¸è¿‡æœ‰äº›å›¾æ ‡ä¼¼ä¹æ˜¯ä¸èƒ½åŠ è½½çš„ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚</p><h4 id="Font-Awesome"><a href="#Font-Awesome" class="headerlink" title="Font Awesome"></a>Font Awesome</h4><p>Font Awesome æ›´å¤šçš„ä½¿ç”¨å¯ä»¥çœ‹<a href="https://fontawesome.com/how-to-use/on-the-web/setup/getting-started?using=web-fonts-with-css" target="_blank" rel="noopener">å®˜ç½‘ç¤ºä¾‹</a>ï¼Œè¿™é‡Œè®²ä¸€ä¸ªæ”¾å¤§å›¾æ ‡çš„æ–¹æ³•</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-download"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> æ™®é€š</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-download fa-lg"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> å˜å¤§ 33%</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-download fa-2x"</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span> ä¸¤å€å¤§</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><i class="fa fa-download"></i> æ™®é€š<br><i class="fa fa-download fa-lg"></i> å˜å¤§ 33%<br><i class="fa fa-download fa-2x"></i> ä¸¤å€å¤§</p><h4 id="ä»£ç é«˜äº®"><a href="#ä»£ç é«˜äº®" class="headerlink" title="ä»£ç é«˜äº®"></a>ä»£ç é«˜äº®</h4><p>ä¸»é¢˜è‡ªå¸¦æ ·å¼ ä»£ç å—é«˜äº®<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">```[language] [title] [url] [link-text]</span><br><span class="line">`ä»£ç `</span><br></pre></td></tr></table></figure></p><p><code>[language]</code> æ˜¯ä»£ç è¯­è¨€çš„åç§°ï¼Œç”¨æ¥è®¾ç½®ä»£ç å—é¢œè‰²é«˜äº®ï¼Œéå¿…é¡»ï¼›<br><code>[title]</code> æ˜¯é¡¶éƒ¨å·¦è¾¹çš„è¯´æ˜ï¼Œéå¿…é¡»ï¼›<br><code>[url]</code> æ˜¯é¡¶éƒ¨å³è¾¹çš„è¶…é“¾æ¥åœ°å€ï¼Œéå¿…é¡»ï¼›<br><code>[link text]</code> å¦‚å®ƒçš„å­—é¢æ„æ€ï¼Œè¶…é“¾æ¥çš„åç§°ï¼Œéå¿…é¡»ã€‚<br>äº²æµ‹è¿™ 4 é¡¹åº”è¯¥æ˜¯æ ¹æ®ç©ºæ ¼æ¥åˆ†éš”ï¼Œè€Œä¸æ˜¯[]ï¼Œæ•…è¯·ä¸è¦åŠ []ã€‚é™¤éå¦‚æœä½ æƒ³å†™åé¢ä¸¤ä¸ªï¼Œä½†ä¸æƒ³å†™å‰é¢ä¸¤ä¸ªï¼Œé‚£ä¹ˆå°±å¿…é¡»åŠ  <code>[]</code> äº†ï¼Œè¦è¿™æ ·å†™ï¼š<code>[] [] [url] [link text]</code>ã€‚</p><p>é¦–å…ˆå…³äºä»£ç å—é¢œè‰²é«˜äº®ï¼Œé«˜äº®çš„æ¨¡å¼å¯ä»¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Code Highlight theme</span></span><br><span class="line"><span class="comment"># Available value:</span></span><br><span class="line"><span class="comment">#    normal | night | night eighties | night blue | night bright</span></span><br><span class="line"><span class="comment"># https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"></span><br><span class="line"><span class="attr">highlight_theme:</span> <span class="string">night</span> <span class="string">eighties</span></span><br></pre></td></tr></table></figure></p><p>è¦é¢œè‰²æ­£ç¡®é«˜äº®ï¼Œä»£ç è¯­è¨€çš„åç§°è‚¯å®šè¦å†™å¯¹ï¼Œå„ç§æ”¯æŒè¯­è¨€çš„åç§°å¯ä»¥æŸ¥çœ‹<a href="https://almostover.ru/2016-07/hexo-highlight-code-styles/" target="_blank" rel="noopener">è¿™ç¯‡æ–‡ç« </a>ã€‚å½“ç„¶ï¼Œå¦‚æœä½ å’Œæˆ‘ä¸€æ ·æ‡’ï¼Œå¯ä»¥åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ <code>_config.yml</code> ä¸­è®¾ç½®è‡ªåŠ¨é«˜äº®ï¼ˆä¸è¿‡è¿™ä¸ªè‡ªåŠ¨é«˜äº®ä¼¼ä¹æœ‰é—®é¢˜ï¼Œä¸å»ºè®®æ‰“å¼€ï¼‰ï¼š<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">highlight:</span><br><span class="line">  enable: true</span><br><span class="line">  line_number: true</span><br><span class="line"># ä»£ç è‡ªåŠ¨é«˜äº®</span><br><span class="line"><span class="deletion">-  auto_detect: false</span></span><br><span class="line"><span class="addition">+  auto_detect: true</span></span><br></pre></td></tr></table></figure></p><p>ä»ç½‘ä¸Šæ‰¾åˆ°çš„ä¸€ä¸ªæ–‡æœ¬æ•ˆæœå¦‚ä¸‹ï¼ˆåˆ«è·Ÿæˆ‘è¯´ä½ ä¸çŸ¥é“ <code>diff</code> æ˜¯ä»€ä¹ˆï¼‰ï¼š<br><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">Index: languages/ini.js</span></span><br><span class="line"><span class="comment">===================================================================</span></span><br><span class="line"><span class="comment">--- languages/ini.js    (revision 199)</span></span><br><span class="line"><span class="comment">+++ languages/ini.js    (revision 200)</span></span><br><span class="line"><span class="meta">@@ -1,8 +1,7 @@</span></span><br><span class="line"> hljs.LANGUAGES.ini =</span><br><span class="line"> &#123;</span><br><span class="line"><span class="deletion">-   case_insensitive: true,</span></span><br><span class="line"><span class="deletion">-  defaultMode:</span></span><br><span class="line">   &#123;</span><br><span class="line"><span class="addition">+  defaultMode: &#123;</span></span><br><span class="line"><span class="deletion">-     contains: ['comment', 'title', 'setting'],</span></span><br><span class="line"><span class="addition">+     illegal: '[^\\s]'</span></span><br><span class="line"><span class="addition">+   &#125;,</span></span><br><span class="line"><span class="comment">*** /path/to/original timestamp</span></span><br><span class="line"><span class="comment">--- /path/to/new      timestamp</span></span><br><span class="line"><span class="comment">***************</span></span><br><span class="line"><span class="meta">*** 1,3 ****</span></span><br><span class="line"><span class="meta">--- 1,9 ----</span></span><br><span class="line"><span class="addition">+ This is an important</span></span><br><span class="line"><span class="addition">+ notice! It should</span></span><br><span class="line"><span class="addition">+ therefore be located at</span></span><br><span class="line"><span class="addition">+ the beginning of this</span></span><br><span class="line"><span class="addition">+ document!</span></span><br><span class="line"><span class="addition">! compress the size of the</span></span><br><span class="line"><span class="addition">! changes.</span></span><br><span class="line">  It is important to spell</span><br></pre></td></tr></table></figure></p><p>ä»£ç ä»…ä»…é«˜äº®è‚¯å®šæ˜¯ä¸å¤Ÿåœ°ï¼Œä»£ç å—åœ°åŠŸèƒ½ä¹Ÿå¾ˆé‡è¦ï¼Œæ¯”å¦‚å¤åˆ¶è¿™ä¸ªåŠŸèƒ½ã€‚åªè¦åœ¨ <code>_config.yml</code> é‡Œæ‰“å¼€å°±è¡Œå•¦ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Manual define the border radius in codeblock</span></span><br><span class="line">  <span class="comment"># Leave it empty for the default 1</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">3</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line"><span class="attr">  copy_button:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Show text copy result</span></span><br><span class="line"><span class="attr">    show_result:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><h4 id="Note-æ ‡ç­¾"><a href="#Note-æ ‡ç­¾" class="headerlink" title="Note æ ‡ç­¾"></a>Note æ ‡ç­¾</h4><p>åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶_config.ymlé‡Œæœ‰ä¸€ä¸ªå…³äºè¿™ä¸ªçš„é…ç½®:<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Note tag (bs-callout).</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># é£æ ¼</span></span><br><span class="line"><span class="attr">  style:</span> <span class="string">flat</span></span><br><span class="line">  <span class="comment"># è¦ä¸è¦å›¾æ ‡</span></span><br><span class="line"><span class="attr">  icons:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># åœ†è§’çŸ©å½¢</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">3</span></span><br><span class="line"><span class="attr">  light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p><p>ç”¨ HTML å†™å°±æ˜¯è¿™ä¸ªæ ·å­<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note default"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>default<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note primary"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>primary<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note success"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>success<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note info"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>info<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note warning"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>warning<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note danger"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>danger<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note danger no-icon"</span>&gt;</span><span class="tag">&lt;<span class="name">p</span>&gt;</span>danger no-icon<span class="tag">&lt;/<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>ç”¨ swig è¯­æ³•å†™å°±æ˜¯è¿™æ ·</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% note [class] %&#125;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">[class] : default | primary | success | info | warning | danger.</span><br><span class="line">          May be not defined.</span><br></pre></td></tr></table></figure><p>é‡Œé¢çš„ä¸‰ç§é£æ ¼é•¿å•¥æ ·ï¼Ÿå¼€å¯å›¾æ ‡é•¿å•¥æ ·ï¼Ÿå¯ä»¥æŸ¥çœ‹<a href="https://github.com/iissnan/hexo-theme-next/pull/1697" target="_blank" rel="noopener">è¿™ä¸ªé¡µé¢</a>ï¼Œæ›´å¤šçš„ä»‹ç»ä¹Ÿåœ¨è¿™ä¸ªé¡µé¢ï¼Œè¯·è‡ªè¡ŒæŸ¥çœ‹</p><p>æœ€åçš„å‡ ç§æ•ˆæœï¼š</p><div class="note default"><p>default</p></div><br><div class="note primary"><p>primary</p></div><br><div class="note success"><p>success</p></div><br><div class="note info"><p>info</p></div><br><div class="note warning"><p>warning</p></div><br><div class="note danger"><p>danger</p></div><br><div class="note danger no-icon"><p>danger no-icon</p></div><h4 id="Label-æ ‡ç­¾"><a href="#Label-æ ‡ç­¾" class="headerlink" title="Label æ ‡ç­¾"></a>Label æ ‡ç­¾</h4><p><code>label</code> æ ‡ç­¾ä¸å»ºè®®åŠ åœ¨æ®µé¦–, é¦–å…ˆå¯ä»¥åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æœ‰é…ç½®ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Label tag.</span><br><span class="line">label: true</span><br></pre></td></tr></table></figure></p><p>ç„¶åæ•ˆæœå¦‚ä¸‹ï¼ˆ<code>@</code>å‰é¢çš„æ˜¯labelçš„åå­—ï¼Œåé¢çš„æ˜¯è¦æ˜¾ç¤ºçš„æ–‡å­—ï¼‰</p><span class="label default">default</span><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label default@default %&#125;</span><br></pre></td></tr></table></figure><span class="label primary">primary</span><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label primary@primary %&#125;</span><br></pre></td></tr></table></figure><span class="label success">success</span><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label success@success %&#125;</span><br></pre></td></tr></table></figure><span class="label info">info</span><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label info@info %&#125;</span><br></pre></td></tr></table></figure><span class="label warning">warning</span><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label warning@warning %&#125;</span><br></pre></td></tr></table></figure><span class="label danger">danger</span><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% label danger@danger %&#125;</span><br></pre></td></tr></table></figure><h4 id="Tab-é€‰é¡¹å¡"><a href="#Tab-é€‰é¡¹å¡" class="headerlink" title="Tab é€‰é¡¹å¡"></a>Tab é€‰é¡¹å¡</h4><p>å½“ç„¶ä¹Ÿæ˜¯è¦å…ˆé…ç½®ä¸€ä¸‹ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tabs tag.</span></span><br><span class="line"><span class="attr">tabs:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  transition:</span></span><br><span class="line"><span class="attr">    tabs:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    labels:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure></p><p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;% tabs é€‰é¡¹å¡, 2 %&#125;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**è¿™æ˜¯é€‰é¡¹å¡ 1** å‘µå‘µå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**è¿™æ˜¯é€‰é¡¹å¡ 2** é¢ã€‚ã€‚ã€‚</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&lt;!-- tab --&gt;</span><br><span class="line">**è¿™æ˜¯é€‰é¡¹å¡ 3** å“‡ï¼Œä½ æ‰¾åˆ°æˆ‘äº†ï¼</span><br><span class="line">&lt;!-- endtab --&gt;</span><br><span class="line">&#123;% endtabs %&#125;</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š<br><div class="tabs" id="é€‰é¡¹å¡"><ul class="nav-tabs"><li class="tab"><a href="#é€‰é¡¹å¡-1">é€‰é¡¹å¡ 1</a></li><li class="tab active"><a href="#é€‰é¡¹å¡-2">é€‰é¡¹å¡ 2</a></li><li class="tab"><a href="#é€‰é¡¹å¡-3">é€‰é¡¹å¡ 3</a></li></ul><div class="tab-content"><div class="tab-pane" id="é€‰é¡¹å¡-1"><p><strong>è¿™æ˜¯é€‰é¡¹å¡ 1</strong> å‘µå‘µå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</p></div><div class="tab-pane active" id="é€‰é¡¹å¡-2"><p><strong>è¿™æ˜¯é€‰é¡¹å¡ 2</strong> é¢ã€‚ã€‚ã€‚</p></div><div class="tab-pane" id="é€‰é¡¹å¡-3"><p><strong>è¿™æ˜¯é€‰é¡¹å¡ 3</strong> å“‡ï¼Œä½ æ‰¾åˆ°æˆ‘äº†ï¼</p></div></div></div></p><p>ä¸Šé¢æºç ä¸­ï¼Œ2 è¡¨ç¤ºä¸€å¼€å§‹åœ¨ç¬¬äºŒä¸ªé€‰é¡¹å¡ï¼Œéå¿…é¡»ï¼Œè‹¥æ•°å€¼ä¸º -1 åˆ™éšè—é€‰é¡¹å¡å†…å®¹ã€‚</p><h4 id="æŒ‰é’®æ ·å¼"><a href="#æŒ‰é’®æ ·å¼" class="headerlink" title="æŒ‰é’®æ ·å¼"></a>æŒ‰é’®æ ·å¼</h4><p>ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn https://almostover.ru/2016-01/hexo-theme-next-test/#Button-tag-test, æ›´å¤šå…³äºæŒ‰é’®çš„ä½¿ç”¨ç‚¹è¿™é‡Œ, download fa-lg fa-fw %&#125;</span><br></pre></td></tr></table></figure></p><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><a class="btn" href="https://almostover.ru/2016-01/hexo-theme-next-test/#Button-tag-test" target="_blank" rel="noopener"><i class="fa fa-download fa-lg fa-fw"></i>æ›´å¤šå…³äºæŒ‰é’®çš„ä½¿ç”¨ç‚¹è¿™é‡Œ</a><h3 id="æ›´å¤šçš„ä¸»é¢˜é…ç½®"><a href="#æ›´å¤šçš„ä¸»é¢˜é…ç½®" class="headerlink" title="æ›´å¤šçš„ä¸»é¢˜é…ç½®"></a>æ›´å¤šçš„ä¸»é¢˜é…ç½®</h3><h4 id="è¿”å›é¡¶éƒ¨æŒ‰é’®ä¸é˜…è¯»è¿›åº¦"><a href="#è¿”å›é¡¶éƒ¨æŒ‰é’®ä¸é˜…è¯»è¿›åº¦" class="headerlink" title="è¿”å›é¡¶éƒ¨æŒ‰é’®ä¸é˜…è¯»è¿›åº¦"></a>è¿”å›é¡¶éƒ¨æŒ‰é’®ä¸é˜…è¯»è¿›åº¦</h4><p>åœ¨ <code>next/_config.yml</code> é‡Œæ‰¾åˆ° <code>b2t</code> è¿™ä¸ªåœ°æ–¹è¿›è¡Œå¦‚ä¸‹é…ç½®ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Back to top in sidebar (only for Pisces | Gemini).</span></span><br><span class="line"><span class="attr">b2t:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line"><span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><h4 id="æ·»åŠ -RSS-è®¢é˜…"><a href="#æ·»åŠ -RSS-è®¢é˜…" class="headerlink" title="æ·»åŠ  RSS è®¢é˜…"></a>æ·»åŠ  RSS è®¢é˜…</h4><p>é¦–å…ˆå®‰è£…ä¸€ä¸ªæ¨¡å—<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨<strong>æ ¹ç›®å½•</strong>ä¸‹çš„ <code>_config.yml</code> é‡Œæ·»åŠ ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins:</span> <span class="string">hexo-generate-feed</span></span><br></pre></td></tr></table></figure></p><p>æœ€ååœ¨ <code>next\_config.yml</code> é‡Œé…ç½®ï¼š<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Set rss to false to disable feed link.</span></span><br><span class="line"><span class="comment"># Leave rss as empty to use site's feed link, and install hexo-generator-feed: `npm install hexo-generator-feed --save`.</span></span><br><span class="line"><span class="comment"># Set rss to specific value if you have burned your feed already.</span></span><br><span class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span></span><br></pre></td></tr></table></figure></p><p>é‡æ–°ç”Ÿæˆå°±å¯ä»¥ä½¿ç”¨ RSS äº†ã€‚</p><h3 id="è¯„è®ºç³»ç»Ÿé‡é…ç½®"><a href="#è¯„è®ºç³»ç»Ÿé‡é…ç½®" class="headerlink" title="è¯„è®ºç³»ç»Ÿé‡é…ç½®"></a>è¯„è®ºç³»ç»Ÿé‡é…ç½®</h3><p>ä»¥å‰ç”¨çš„æ˜¯ Disqusï¼Œç„¶è€Œéœ€è¦ç¿»å¢™ï¼Œæ‰€ä»¥å†³å®šæ¢æˆ Valineã€‚è¿™ä¸ª Valine è¦å…ˆåœ¨ <a href="https://leancloud.cn/" target="_blank" rel="noopener">LeanCloud</a> é‡Œæ³¨å†Œå¹¶åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°.ç„¶ååœ¨ <code>next\_config.yml</code> é‡Œé…ç½®ã€‚æ³¨æ„ï¼šå¾—åœ¨ <code>LeanCloud -&gt; åº”ç”¨ -&gt; è®¾ç½® -&gt; åº”ç”¨ Key</code> ä¸­æŠŠ AppID å’Œ AppKey ç»™å¤åˆ¶åˆ° <code>next\_config.yml</code> é‡Œé¢å»ï¼Œå¹¶ä¸”åœ¨ <code>LeanCloud -&gt; åº”ç”¨ -&gt; è®¾ç½® -&gt; å®‰å…¨ä¸­å¿ƒ</code> é‡Œå°†è‡ªå·±çš„åŸŸåæ·»åŠ åˆ° <code>Web å®‰å…¨åŸŸå</code> ä¸­ã€‚</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">valine:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span> <span class="comment"># When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version.</span></span><br><span class="line"><span class="attr">  appid:</span> <span class="comment"># your leancloud application appid</span></span><br><span class="line"><span class="attr">  appkey:</span> <span class="comment"># your leancloud application appkey</span></span><br><span class="line"><span class="attr">  notify:</span> <span class="literal">true</span> <span class="comment"># mail notifier , https://github.com/xCss/Valine/wiki</span></span><br><span class="line"><span class="attr">  verify:</span> <span class="literal">true</span> <span class="comment"># Verification code</span></span><br><span class="line"><span class="attr">  placeholder:</span> <span class="string">ğŸ˜çœ‹äº†è¿™ä¹ˆå¤šï¼Œä¸æƒ³è¯´ç‚¹ä»€ä¹ˆå˜›ğŸ˜‰</span> <span class="comment"># comment box placeholder</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="string">mm</span> <span class="comment"># gravatar style</span></span><br><span class="line"><span class="attr">  guest_info:</span> <span class="string">nick,mail,link</span> <span class="comment"># custom comment header</span></span><br><span class="line"><span class="attr">  pageSize:</span> <span class="number">10</span> <span class="comment"># pagination size</span></span><br><span class="line"><span class="attr">  visitor:</span> <span class="literal">false</span> <span class="comment"># leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors' for counter compatibility. Article reading statistic https://valine.js.org/visitor.html</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ª LeanCloud ä¹Ÿæ˜¯æ¯”è¾ƒè‰¯å¿ƒçš„å•Šï¼Œå¯ä»¥å…è´¹ä½¿ç”¨ï¼Œå½“ç„¶æˆ‘ç”¨çš„æ˜¯å¼€å‘ç‰ˆï¼Œæ‰€ä»¥å¤§å®¶ä¸è¦å¤ªç€æ€¥ğŸ¤£ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;&lt;p&gt;ä»Šå¤©æ˜¯æŠŠåšå®¢å¥½å¥½åœ°ç¾åŒ–äº†ä¸€æŠŠï¼Œä»Šå¤©å°±æ¥è®²ä¸€ä¸‹ hexo åšå®¢ç¾åŒ–è¿‡ç¨‹ä¸­çš„å¿ƒå¾—ï¼Œå› ä¸ºè‡ªå·±ä½¿ç”¨çš„æ˜¯ NexT ä¸»é¢˜ï¼Œæ‰€ä»¥è¿™é‡Œçš„æœ‰äº›è¿‡ç¨‹ä»…ä¾›åˆ«çš„ä¸»é¢˜çš„ç”¨æˆ·åšå‚è€ƒã€‚&lt;/p&gt;&lt;/div&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://walesexcitedmei.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://walesexcitedmei.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>[æ‚è°ˆ] ç¼–ç¨‹è§„èŒƒé‚£äº›äº‹</title>
    <link href="http://walesexcitedmei.github.io/2018/08/29/%E6%9D%82%E8%B0%88-%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83%E9%82%A3%E4%BA%9B%E4%BA%8B/"/>
    <id>http://walesexcitedmei.github.io/2018/08/29/æ‚è°ˆ-ç¼–ç¨‹è§„èŒƒé‚£äº›äº‹/</id>
    <published>2018-08-29T14:28:29.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä¸€ç›´å¾ˆæƒ³å†™ä¸€ç¯‡åšå®¢æ¥æ™®åŠä¸€ä¸‹â€œç¼–ç¨‹è§„èŒƒâ€è¿™ä¸ªçœ‹ä¼¼ä¸é‡è¦å…¶å®å¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œé¦–å…ˆï¼Œå®ƒæ˜¯å›¢é˜Ÿåˆä½œçš„åŸºç¡€ï¼Œæœ‰äº› OI ç«èµ›ä¹Ÿæ˜¯æœ‰å›¢é˜Ÿåˆä½œçš„ã€‚å…¶æ¬¡ï¼Œä¸‹åˆ° OI ä¸­å‡ åè¡Œçš„ç¨‹åºï¼Œä¸Šåˆ°å¤§é¡¹ç›®ä¸­å‡ åƒè¡Œç”šè‡³å‡ ä¸‡è¡Œä¹ƒè‡³ä¸Šäº¿ï¼ˆé¢ï¼Œè¿™ä¸ªä¼¼ä¹å¾ˆå°‘è§ï¼‰ï¼Œå¦‚æœå†™å¾—å¤ªéš¾çœ‹é‚£å°±ä¼šè®©äººå®åœ¨æ˜¯æ— æ³•å¿å—ï¼ˆæ¯”å¦‚åœ¨å†™ DP çš„æ—¶å€™ç¡¬æ˜¯å°†ä¸€ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹å‹æˆäº†ä¸€è¡Œï¼Œè¡Œæ•°æ¯”åˆ—æ•°è¿˜å¤šä¸€å€ï¼‰ã€‚å¯è§ç¼–ç¨‹è§„èŒƒæ˜¯å¤šä¹ˆçš„é‡è¦!</p><a id="more"></a><h3 id="Google-C-ç¼–ç¨‹è§„èŒƒ"><a href="#Google-C-ç¼–ç¨‹è§„èŒƒ" class="headerlink" title="Google C++ ç¼–ç¨‹è§„èŒƒ"></a>Google C++ ç¼–ç¨‹è§„èŒƒ</h3><p>Google çš„é¡¹ç›®ä¸€ç›´éƒ½è®©äººçœ‹èµ·æ¥èµå¿ƒæ‚¦ç›®ï¼Œå³ä½¿æœ‰äº›æ··ä¹±çš„å®å®šä¹‰ä¹Ÿè®©äººçœ‹èµ·æ¥èµå¿ƒæ‚¦ç›®ï¼Œé¦–å…ˆè´´ä¸€å¼ å›¾ï¼Œè½¬è‡ª <a href="https://blog.csdn.net/voidccc/article/details/37599203" target="_blank" rel="noopener">CSDN ä¸Šçš„ä¸€ç¯‡åšå®¢</a></p><div style="slign: center"> <img src="pic1.jpg"> </div><p>ç„¶åè´´ä¸Šè°·æ­Œç¼–ç¨‹æŒ‡å—çš„<a href="https://zh-google-styleguide.readthedocs.io/en/latest/" target="_blank" rel="noopener">è¯¦ç»†è¯´æ˜</a></p><h3 id="è¯„ä»·"><a href="#è¯„ä»·" class="headerlink" title="è¯„ä»·"></a>è¯„ä»·</h3><p>Google çš„ç¼–ç¨‹æŒ‡å—çœŸçš„æ˜¯é«˜å¦™ï¼Œçœ‹èµ·æ¥èµå¿ƒæ‚¦ç›®ï¼Œä½†ä¸ªäººè§‰å¾—è¿˜æ˜¯è¦å»å…¶ç³Ÿç²•çš„ï¼Œæ¯”å¦‚â€œä¸ç”¨å…¨å±€å˜é‡â€è¿™ç§ï¼Œåœ¨ç«èµ›ä¸­å°±å¯ä»¥ç›´æ¥å¿½è§†äº†ï¼Œè¿˜æ˜¯ä»¥ä»£ç çš„æ˜“ç”¨æ€§ä¸ºç¬¬ä¸€è¦åŠ¡ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;ä¸€ç›´å¾ˆæƒ³å†™ä¸€ç¯‡åšå®¢æ¥æ™®åŠä¸€ä¸‹â€œç¼–ç¨‹è§„èŒƒâ€è¿™ä¸ªçœ‹ä¼¼ä¸é‡è¦å…¶å®å¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œé¦–å…ˆï¼Œå®ƒæ˜¯å›¢é˜Ÿåˆä½œçš„åŸºç¡€ï¼Œæœ‰äº› OI ç«èµ›ä¹Ÿæ˜¯æœ‰å›¢é˜Ÿåˆä½œçš„ã€‚å…¶æ¬¡ï¼Œä¸‹åˆ° OI ä¸­å‡ åè¡Œçš„ç¨‹åºï¼Œä¸Šåˆ°å¤§é¡¹ç›®ä¸­å‡ åƒè¡Œç”šè‡³å‡ ä¸‡è¡Œä¹ƒè‡³ä¸Šäº¿ï¼ˆé¢ï¼Œè¿™ä¸ªä¼¼ä¹å¾ˆå°‘è§ï¼‰ï¼Œå¦‚æœå†™å¾—å¤ªéš¾çœ‹é‚£å°±ä¼šè®©äººå®åœ¨æ˜¯æ— æ³•å¿å—ï¼ˆæ¯”å¦‚åœ¨å†™ DP çš„æ—¶å€™ç¡¬æ˜¯å°†ä¸€ä¸ªçŠ¶æ€è½¬ç§»æ–¹ç¨‹å‹æˆäº†ä¸€è¡Œï¼Œè¡Œæ•°æ¯”åˆ—æ•°è¿˜å¤šä¸€å€ï¼‰ã€‚å¯è§ç¼–ç¨‹è§„èŒƒæ˜¯å¤šä¹ˆçš„é‡è¦!&lt;/p&gt;
    
    </summary>
    
      <category term="æ‚è°ˆ" scheme="http://walesexcitedmei.github.io/categories/%E6%9D%82%E8%B0%88/"/>
    
    
      <category term="æ‚è°ˆ" scheme="http://walesexcitedmei.github.io/tags/%E6%9D%82%E8%B0%88/"/>
    
      <category term="ç¼–ç¨‹è§„èŒƒ" scheme="http://walesexcitedmei.github.io/tags/%E7%BC%96%E7%A8%8B%E8%A7%84%E8%8C%83/"/>
    
  </entry>
  
  <entry>
    <title>[HEXO] hexo ä¸­æ’å…¥è§†é¢‘çš„æ–¹æ³•</title>
    <link href="http://walesexcitedmei.github.io/2018/08/29/HEXO-hexo-%E4%B8%AD%E6%8F%92%E5%85%A5%E8%A7%86%E9%A2%91%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://walesexcitedmei.github.io/2018/08/29/HEXO-hexo-ä¸­æ’å…¥è§†é¢‘çš„æ–¹æ³•/</id>
    <published>2018-08-29T12:31:30.000Z</published>
    <updated>2018-09-25T12:58:18.160Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä»¥å‰ä¸€ç›´ä»¥ä¸º hexo æ˜¯ä¸èƒ½æ’å…¥è§†é¢‘çš„ï¼Œä»Šå¤©çªç„¶çŸ¥é“äº†ï¼ŒåŸæ¥æ’å…¥è§†é¢‘æ˜¯å¯ä»¥çš„ï¼ï¼æœ¬ç¯‡åšå®¢ä¸»è¦è®²è§£ä¸€ä¸‹ hexo åšå®¢å¦‚ä½•æ’å…¥è§†é¢‘ã€‚</p><a id="more"></a><h3 id="æ’å…¥-Youtube-è§†é¢‘"><a href="#æ’å…¥-Youtube-è§†é¢‘" class="headerlink" title="æ’å…¥ Youtube è§†é¢‘"></a>æ’å…¥ Youtube è§†é¢‘</h3><p>æ’å…¥ Youtube è§†é¢‘å…¶å®å¾ˆç®€å•ï¼Œåœ¨ YouTube è§†é¢‘çš„ä¸‹æ–¹çš„â€œå…±äº«â€ä¸­ï¼Œé€‰æ‹©åµŒå…¥å³å¯è·å–ç±»ä¼¼è¿™æ ·çš„é“¾æ¥ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">width</span>=<span class="string">"560"</span> <span class="attr">height</span>=<span class="string">"315"</span> <span class="attr">src</span>=<span class="string">"https://www.youtube-nocookie.com/embed/7gJ8mGFjeqA"</span> <span class="attr">frameborder</span>=<span class="string">"0"</span> <span class="attr">allow</span>=<span class="string">"autoplay; encrypted-media"</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼ˆè¦æ¢¯å­ï¼‰ï¼š</p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/7gJ8mGFjeqA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe><p>å¯ä»¥å°† <code>width</code> æˆ– <code>height</code> æ”¹ä¸º <code>&quot;100%&quot;</code>ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ä¸¤ä¸ªéƒ½æ”¹ï¼Œå…·ä½“æ•ˆæœè¯•äº†æ‰çŸ¥é“ï¼Œè¿™ä¸ªæ•°å€¼æ˜¯å¯ä»¥éšä¾¿æ”¹çš„ï¼‰</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"350"</span> <span class="attr">src</span>=<span class="string">"https://www.youtube-nocookie.com/embed/7gJ8mGFjeqA"</span> <span class="attr">frameborder</span>=<span class="string">"0"</span> <span class="attr">allow</span>=<span class="string">"autoplay; encrypted-media"</span> <span class="attr">allowfullscreen</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼ˆè¦æ¢¯å­ï¼‰ï¼š</p><iframe width="100%" height="350" src="https://www.youtube-nocookie.com/embed/7gJ8mGFjeqA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe><h3 id="æ’å…¥-Bilibili-è§†é¢‘"><a href="#æ’å…¥-Bilibili-è§†é¢‘" class="headerlink" title="æ’å…¥ Bilibili è§†é¢‘"></a>æ’å…¥ Bilibili è§†é¢‘</h3><p>å…¶å®ä¹Ÿæ˜¯ä¸€æ ·ï¼Œç‚¹å‡»â€œåˆ†äº«â€ï¼Œè·å– <code>iframe</code> è¿™ä¸ªä»£ç å°±å¯ä»¥äº†</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"//player.bilibili.com/player.html?aid=19448254&amp;cid=31715906&amp;page=1"</span> <span class="attr">scrolling</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">framespacing</span>=<span class="string">"0"</span> <span class="attr">allowfullscreen</span>=<span class="string">"true"</span>&gt;</span> <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><iframe src="//player.bilibili.com/player.html?aid=19448254&cid=31715906&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p>è‡ªå®šä¹‰äº†å¤§å°ä¹‹åçš„æ•ˆæœï¼š</p><iframe width="100%" height="350" src="//player.bilibili.com/player.html?aid=19448254&cid=31715906&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><h3 id="é€šç”¨æ–¹æ³•"><a href="#é€šç”¨æ–¹æ³•" class="headerlink" title="é€šç”¨æ–¹æ³•"></a>é€šç”¨æ–¹æ³•</h3><p>ç›´æ¥æŠŠè§†é¢‘æ–‡ä»¶æ”¾åœ¨èµ„æºæ–‡ä»¶å¤¹é‡Œï¼Œç„¶åç›´æ¥å†™ HTML ä»£ç ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">video</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">height</span>=<span class="string">"400"</span> <span class="attr">src</span>=<span class="string">"movie.mp4"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">The `<span class="tag">&lt;<span class="name">video</span>&gt;</span>` tag is not supported by your browser.</span><br><span class="line"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><video width="100%" height="400" src="movie.mp4" controls="controls"><br>The <code>&lt;video&gt;</code> tag is not supported by your browser.<br></video><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å—¯â€¦â€¦ HTML å¤§æ³•å¥½ï¼Œåœ¨ Markdown é‡Œç”¨ HTML æ§ä»¶ç®€ç›´ç¾æ»‹æ»‹ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;ä»¥å‰ä¸€ç›´ä»¥ä¸º hexo æ˜¯ä¸èƒ½æ’å…¥è§†é¢‘çš„ï¼Œä»Šå¤©çªç„¶çŸ¥é“äº†ï¼ŒåŸæ¥æ’å…¥è§†é¢‘æ˜¯å¯ä»¥çš„ï¼ï¼æœ¬ç¯‡åšå®¢ä¸»è¦è®²è§£ä¸€ä¸‹ hexo åšå®¢å¦‚ä½•æ’å…¥è§†é¢‘ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="hexo" scheme="http://walesexcitedmei.github.io/categories/hexo/"/>
    
    
      <category term="hexo" scheme="http://walesexcitedmei.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>[å›¾è®º] Dijkstra æœ€çŸ­è·¯è®¡æ•°</title>
    <link href="http://walesexcitedmei.github.io/2018/08/29/%E5%9B%BE%E8%AE%BA-Dijkstra-%E6%9C%80%E7%9F%AD%E8%B7%AF%E8%AE%A1%E6%95%B0/"/>
    <id>http://walesexcitedmei.github.io/2018/08/29/å›¾è®º-Dijkstra-æœ€çŸ­è·¯è®¡æ•°/</id>
    <published>2018-08-29T09:58:02.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æœ€çŸ­è·¯è®¡æ•°æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„é—®é¢˜ï¼Œä»Šå¤©åˆšå¥½åšåˆ°äº†è¿™æ ·ä¸€é“é¢˜ï¼Œå°±æ¥æ€»ç»“ä¸€ä¸‹ã€‚</p><a id="more"></a><h3 id="æœ€çŸ­è·¯è®¡æ•°"><a href="#æœ€çŸ­è·¯è®¡æ•°" class="headerlink" title="æœ€çŸ­è·¯è®¡æ•°"></a>æœ€çŸ­è·¯è®¡æ•°</h3><p><a href="https://www.luogu.org/problemnew/show/P1144" target="_blank" rel="noopener">é¢˜ç›®ï¼šæ´›è°· P1144 æœ€çŸ­è·¯è®¡æ•°</a><br>æœ€çŸ­è·¯è®¡æ•°æœ¬è´¨ä¸Šè¿˜æ˜¯æ±‚æœ€çŸ­è·¯ï¼Œåªä¸è¿‡åœ¨è¿­ä»£çš„åŒæ—¶æ¥æ›´æ–°æœ€çŸ­è·¯æ•°é‡ã€‚é¦–å…ˆæ¥å›å¿†ä¸€ä¸‹ Dijkstra æ±‚æœ€çŸ­è·¯çš„æ›´æ–°æ¡ä»¶ï¼Œå¯¹äºä¸€æ¡æœ‰å‘è¾¹ $(u,v,w)$ï¼Œæˆ‘ä»¬æ›´æ–°åˆ° $v$ çš„æœ€çŸ­è·¯çš„æ¡ä»¶æ˜¯ï¼š<br>$$<br>dist[v] &gt; dist[u] + w<br>$$<br>åœ¨æœ€çŸ­è·¯è®¡æ•°çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œè®° $num[x]$ è¡¨ç¤ºåˆ° $x$ çš„æœ€çŸ­è·¯çš„æ•°é‡ï¼Œé‚£ä¹ˆï¼š</p><ol><li>è‹¥ $dist[v] = dist[u] + w$ æˆ‘ä»¬æ›´æ–° $num[v] = num[v] + num[u]$ï¼Œå³æœ‰å¦å¤–ä¸€æ¡è·¯å¾„ã€‚</li><li>è‹¥ $dist[v] &gt; dist[u] + w$ æˆ‘ä»¬æ›´æ–° $num[v] = num[u]$ï¼Œå³æœ‰æ›´çŸ­çš„è·¯å¾„ï¼Œå‰é¢çš„å…¨éƒ¨ä½œåºŸã€‚</li></ol><p>æ‰€ä»¥è¿™é“é¢˜çš„ä»£ç å°±å‘¼ä¹‹æ¬²å‡ºäº†ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxm 2000010</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1000010</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> modn 100003</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7f7f7f7f</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">heapNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> u, d;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> heapNode &amp;b) <span class="keyword">const</span> &#123; <span class="keyword">return</span> d &gt; b.d; &#125;</span><br><span class="line"><span class="comment">// è¿™é‡Œä¼¼ä¹æ˜¯ä¸€å®šè¦åŠ  constï¼Œå¦åˆ™ä¼š CE</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edgeNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> vertexTo;</span><br><span class="line"><span class="keyword">int</span> edgeNext;</span><br><span class="line"><span class="keyword">int</span> weight;</span><br><span class="line">&#125; edges[maxm &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> numEdges = <span class="number">0</span>, heads[maxn];</span><br><span class="line">priority_queue&lt;heapNode&gt; Q;</span><br><span class="line"><span class="keyword">int</span> dist[maxn], num[maxn];</span><br><span class="line"><span class="keyword">int</span> n, m, x, y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">numEdges = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">memset</span>(heads, <span class="number">-1</span>, <span class="keyword">sizeof</span>(heads));</span><br><span class="line"><span class="built_in">memset</span>(dist, INF, <span class="keyword">sizeof</span>(dist));</span><br><span class="line"><span class="built_in">memset</span>(num, <span class="number">0</span>, <span class="keyword">sizeof</span>(num));</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) Q.pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">numEdges++;</span><br><span class="line">edges[numEdges].vertexTo = vertex2;</span><br><span class="line">edges[numEdges].weight = weight;</span><br><span class="line">edges[numEdges].edgeNext = heads[vertex1];</span><br><span class="line">heads[vertex1] = numEdges;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addDuplexEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">addEdge(vertex1, vertex2, weight);</span><br><span class="line">addEdge(vertex2, vertex1, weight);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">dist[x] = <span class="number">0</span>;</span><br><span class="line">num[x] = <span class="number">1</span>;</span><br><span class="line">Q.push((heapNode)&#123; x, <span class="number">0</span> &#125;);</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) &#123;</span><br><span class="line">heapNode f = Q.top();</span><br><span class="line">Q.pop();</span><br><span class="line"><span class="keyword">int</span> u = f.u;</span><br><span class="line"><span class="keyword">int</span> d = f.d;</span><br><span class="line"><span class="keyword">if</span> (d != dist[u]) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[u]; i != <span class="number">-1</span>; i = edges[i].edgeNext) &#123;</span><br><span class="line"><span class="keyword">int</span> j = edges[i].vertexTo;</span><br><span class="line"><span class="keyword">int</span> w = edges[i].weight;</span><br><span class="line"><span class="keyword">if</span> (dist[j] == dist[u] + w) &#123;</span><br><span class="line">num[j] += num[u]; <span class="comment">// æ›´æ–°æƒ…å†µä¸€</span></span><br><span class="line">num[j] %= modn; <span class="comment">// é¢˜ç›®è¦æ±‚å–æ¨¡</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (dist[j] &gt; dist[u] + w) &#123;</span><br><span class="line">num[j] = num[u]; <span class="comment">// æ›´æ–°æƒ…å†µäºŒ</span></span><br><span class="line">dist[j] = dist[u] + w;</span><br><span class="line">Q.push((heapNode)&#123; j, dist[j] &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">init();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y;</span><br><span class="line"><span class="keyword">if</span> (x == y) <span class="keyword">continue</span>;</span><br><span class="line">addDuplexEdge(x, y, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">Dijkstra(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123; <span class="built_in">cout</span> &lt;&lt; num[i] &lt;&lt; <span class="built_in">endl</span>; &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç”±è¿™ä¸ªæœ€çŸ­è·¯è®¡æ•°æˆ‘ä»¬å¯ä»¥çœ‹å‡ºåŠ¨æ€è§„åˆ’å®åœ¨æ˜¯å®ç”¨å•Šï¼</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;æœ€çŸ­è·¯è®¡æ•°æ˜¯ä¸€ä¸ªå¾ˆç»å…¸çš„é—®é¢˜ï¼Œä»Šå¤©åˆšå¥½åšåˆ°äº†è¿™æ ·ä¸€é“é¢˜ï¼Œå°±æ¥æ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å›¾è®º" scheme="http://walesexcitedmei.github.io/categories/%E5%9B%BE%E8%AE%BA/"/>
    
    
      <category term="å›¾è®º" scheme="http://walesexcitedmei.github.io/tags/%E5%9B%BE%E8%AE%BA/"/>
    
      <category term="æœ€çŸ­è·¯" scheme="http://walesexcitedmei.github.io/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
      <category term="æœ€çŸ­è·¯è®¡æ•°" scheme="http://walesexcitedmei.github.io/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF%E8%AE%A1%E6%95%B0/"/>
    
      <category term="Dijkstra" scheme="http://walesexcitedmei.github.io/tags/Dijkstra/"/>
    
  </entry>
  
  <entry>
    <title>[å¹³è¡¡æ ‘] Treap æ€»ç»“</title>
    <link href="http://walesexcitedmei.github.io/2018/08/25/%E5%B9%B3%E8%A1%A1%E6%A0%91-Treap-%E6%80%BB%E7%BB%93/"/>
    <id>http://walesexcitedmei.github.io/2018/08/25/å¹³è¡¡æ ‘-Treap-æ€»ç»“/</id>
    <published>2018-08-25T00:21:53.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä¸ºäº†ç»§ç»­å®Œå–„è‡ªå·±çš„æ•°æ®ç»“æ„æœ‰å…³çš„çŸ¥è¯†ï¼Œå†³å®šå…ˆæ€»ç»“ä¸€æ³¢ Treapã€‚Treap æ˜¯æˆ‘å­¦çš„ç¬¬ä¸€ä¸ªå¹³è¡¡æ ‘ç»“æ„ï¼ŒèŠ±äº†å¾ˆé•¿æ—¶é—´æ‰<del>æŠŠæ¿å­èƒŒä¸‹æ¥</del>æŠŠå®ƒçœŸæ­£ç†è§£äº†ï¼Œä¸ç¦æ„Ÿå¹æ•°æ®ç»“æ„çœŸçš„æ˜¯ç¥å¥‡å•Šï¼</p><a id="more"></a><h3 id="BST-äºŒå‰æŸ¥æ‰¾æ ‘çš„æ€§è´¨"><a href="#BST-äºŒå‰æŸ¥æ‰¾æ ‘çš„æ€§è´¨" class="headerlink" title="BST äºŒå‰æŸ¥æ‰¾æ ‘çš„æ€§è´¨"></a>BST äºŒå‰æŸ¥æ‰¾æ ‘çš„æ€§è´¨</h3><p>å› ä¸ºæƒ³é‡ç‚¹æ€»ç»“çš„æ˜¯ Treap è€Œä¸æ˜¯<a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E5%85%83%E6%90%9C%E5%B0%8B%E6%A8%B9" target="_blank" rel="noopener">æ™®é€š BST</a>ï¼Œæ‰€ä»¥è¿™é‡Œåªç¨å¾®æä¸€ä¸‹å®ƒçš„æ€§è´¨ï¼š</p><ol><li>è‹¥ä»»æ„èŠ‚ç‚¹çš„å·¦å­æ ‘ä¸ç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Š<strong>æ‰€æœ‰èŠ‚ç‚¹</strong>çš„å€¼å‡<strong>å°äº</strong>å®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼›</li><li>è‹¥ä»»æ„èŠ‚ç‚¹çš„å³å­æ ‘ä¸ç©ºï¼Œåˆ™å³å­æ ‘ä¸Š<strong>æ‰€æœ‰èŠ‚ç‚¹</strong>çš„å€¼å‡<strong>å¤§äº</strong>å®ƒçš„æ ¹èŠ‚ç‚¹çš„å€¼ï¼›</li><li>ä»»æ„èŠ‚ç‚¹çš„å·¦ã€å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘ï¼›</li><li><strong>æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹ã€‚</strong></li></ol><p>BST æ˜¯ Treap å­¦ä¹ çš„åŸºç¡€ï¼Œæ›´å¤šå†…å®¹å¯ä»¥çœ‹<a href="https://lufficc.com/blog/binary-search-tree" target="_blank" rel="noopener">è¿™ç¯‡åšå®¢</a>ã€‚<br>ä¸Šé¢è¿™äº›æ€§è´¨ï¼Œå¯ä»¥ä½¿å¾—åœ¨ BST ä¸ŠæŸ¥æ‰¾å‰é©± / åç»§æ›´ä¸ºæ–¹ä¾¿ã€‚è¿™äº›æ€§è´¨æ˜¯æ„å»º BST çš„åŸºç¡€ï¼Œä½†æ˜¯ä¹Ÿä½¿å¾— BST ä¸èƒ½å¾ˆå¥½åœ°ä¿æŒæ ‘çš„å¹³è¡¡ï¼Œå³å·¦å³å­æ ‘çš„å¤§å°ç›¸å·®å¤ªå¤§ï¼Œæœ€æç«¯çš„æƒ…å†µå°±æ˜¯ä¸€æ¡é“¾ï¼Œä¸ºäº†ä¿æŒ BST çš„å¹³è¡¡ï¼Œè¯ç”Ÿäº†å„ç§å¹³è¡¡æ ‘ã€‚</p><h3 id="Treap"><a href="#Treap" class="headerlink" title="Treap"></a>Treap</h3><h4 id="Zig-å’Œ-Zag"><a href="#Zig-å’Œ-Zag" class="headerlink" title="Zig å’Œ Zag"></a>Zig å’Œ Zag</h4><p>ä¿æŒ Treap å¹³è¡¡çš„æ–¹å¼å°±æ˜¯æ”¹å˜ Treap çš„å½¢æ€ï¼ŒåŒæ—¶åˆå¿…é¡»ä¿è¯ Treap ä»ç„¶å…·å¤‡ BST çš„æ€§è´¨ï¼Œäºæ˜¯ Zig å’Œ Zag æ“ä½œå°±è¯ç”Ÿäº†</p><div style="align: center"> <img src="zigzag.png"> </div><p>å¯è§è¿™å¹¶ä¸æ˜¯ç®€å•çš„æ—‹è½¬ï¼Œå®ƒè¿˜å°†æŸä¸ªèŠ‚ç‚¹å‘æ ¹èŠ‚ç‚¹ç§»åŠ¨ï¼Œè¿™ä¸ªè¿‡ç¨‹åªå¯æ„ä¼šä¸å¯è¨€ä¼ ï¼Œè¿˜æ˜¯å¥½å¥½ç†è§£ä¸Šå›¾ã€‚æ—‹è½¬çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zig</span><span class="params">(<span class="keyword">int</span> &amp;p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> q = treap[p].lChild;</span><br><span class="line">treap[p].lChild = treap[q].rChild;</span><br><span class="line">treap[q].rChild = p;</span><br><span class="line">p = q;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zag</span><span class="params">(<span class="keyword">int</span> &amp;p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> q = treap[p].rChild;</span><br><span class="line">treap[p].rChild = treap[q].lChild;</span><br><span class="line">treap[q].lChild = p;</span><br><span class="line">p = q;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="ä¿è¯-Treap-çš„å¹³è¡¡"><a href="#ä¿è¯-Treap-çš„å¹³è¡¡" class="headerlink" title="ä¿è¯ Treap çš„å¹³è¡¡"></a>ä¿è¯ Treap çš„å¹³è¡¡</h4><p>ä»€ä¹ˆæ ·çš„æ—‹è½¬æ‰èƒ½ä¿è¯å®ƒçš„å¹³è¡¡å‘¢ï¼ŸTreap æ˜¯ Tree å’Œ Heap çš„å¤åˆåè¯ï¼Œæ‰€ä»¥å®ƒè¿˜æ»¡è¶³å †æ€§è´¨ã€‚å®ƒåˆ©ç”¨â€œéšæœºâ€æ¥åˆ›é€ å¹³è¡¡çš„æ¡ä»¶ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªéšæœºç”Ÿæˆçš„é¢å¤–æƒå€¼ï¼ŒTreap åœ¨æ»¡è¶³ BST æ€§è´¨çš„åŒæ—¶è¿˜é€šè¿‡æ—‹è½¬ä½¿å¾—æƒå€¼æ»¡è¶³å¤§æ ¹å †çš„æ€§è´¨ã€‚ç‰¹åˆ«çš„ï¼Œåœ¨åˆ é™¤ Treap çš„èŠ‚ç‚¹æ—¶ï¼Œå¯ä»¥ç›´æ¥æŠŠè¿™ä¸ªèŠ‚ç‚¹æ—‹è½¬åˆ°å¶èŠ‚ç‚¹æ¥ç›´æ¥åˆ é™¤ï¼Œè¿™æ ·å°±å…å»äº†å¾ˆå¤šå¤æ‚çš„æ“ä½œã€‚</p><h4 id="ä»ä¸€é“ä¾‹é¢˜çœ‹ä»£ç å®ç°"><a href="#ä»ä¸€é“ä¾‹é¢˜çœ‹ä»£ç å®ç°" class="headerlink" title="ä»ä¸€é“ä¾‹é¢˜çœ‹ä»£ç å®ç°"></a>ä»ä¸€é“ä¾‹é¢˜çœ‹ä»£ç å®ç°</h4><p>é¢˜ç›®åœ¨è¿™ï¼š<a href="https://www.luogu.org/problemnew/show/P3369" target="_blank" rel="noopener">æ´›è°· P3369 ã€æ¨¡æ¿ã€‘æ™®é€šå¹³è¡¡æ ‘</a></p><p>å› ä¸ºé¢˜ç›®ä¸­åŒä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½æœ‰å¤šä¸ªï¼Œæ‰€ä»¥å¯ä»¥ä¸ºæ¯ä¸ªèŠ‚ç‚¹å¢åŠ ä¸€ä¸ªâ€œå‰¯æœ¬æ•°â€ï¼ŒåŒæ—¶åœ¨è·å– Rank çš„æ—¶å€™åˆ«å¿˜äº†å‡ä¸€ï¼Œå› ä¸ºåˆå§‹åŒ–çš„æ—¶å€™æœ‰ä¸€ä¸ªæ­£æ— ç©·ï¼Œä¸€ä¸ªè´Ÿæ— ç©·ï¼Œå®ƒä»¬åªæ˜¯ä¸ºäº†ä¿è¯ BST æ€§è´¨ï¼Œå¹¶ä¸æ˜¯å®é™…çš„èŠ‚ç‚¹ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 100010</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x7fffffff</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">treapNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> lChild, rChild; <span class="comment">// å·¦å³å­èŠ‚ç‚¹ä¸‹æ ‡</span></span><br><span class="line"><span class="keyword">int</span> value, weight;  <span class="comment">// èŠ‚ç‚¹å…³é”®ç åŠæƒå€¼</span></span><br><span class="line"><span class="keyword">int</span> count, size;    <span class="comment">// å‰¯æœ¬æ•°åŠå­æ ‘å¤§å°</span></span><br><span class="line">&#125; treap[maxn];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> numNodes, root, n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">newNode</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">numNodes++;</span><br><span class="line">treap[numNodes].value = val;</span><br><span class="line">treap[numNodes].weight = rand(); <span class="comment">// éšæœºæƒå€¼</span></span><br><span class="line">treap[numNodes].count = treap[numNodes].size = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> numNodes;</span><br><span class="line">&#125; <span class="comment">// å»ºç«‹ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line">treap[p].size = treap[treap[p].lChild].size +</span><br><span class="line">treap[treap[p].rChild].size +</span><br><span class="line">treap[p].count;</span><br><span class="line">&#125; <span class="comment">// æ›´æ–°æŸä¸€ä¸ªç‚¹çš„ size æ–¹ä¾¿è·å–æ’å</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">()</span> </span>&#123;</span><br><span class="line">newNode(-INF); <span class="comment">// ä¿è¯ BST æ€§è´¨çš„ä¸¤ä¸ªç‚¹</span></span><br><span class="line">newNode(INF);</span><br><span class="line">root = <span class="number">1</span>;</span><br><span class="line">treap[root].rChild = <span class="number">2</span>;</span><br><span class="line">update(root);</span><br><span class="line">&#125; <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getRankByVal</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (val == treap[p].value)</span><br><span class="line"><span class="keyword">return</span> treap[treap[p].lChild].size + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (val &lt; treap[p].value)</span><br><span class="line"><span class="keyword">return</span> getRankByVal(treap[p].lChild, val);</span><br><span class="line"><span class="keyword">return</span> getRankByVal(treap[p].rChild, val) +</span><br><span class="line">treap[treap[p].lChild].size +</span><br><span class="line">treap[p].count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸Šä¸‹ä¸¤ä¸ªå‡½æ•°å¾ˆå¥½ç†è§£ï¼Œä¸ä½œèµ˜è¿°</span></span><br><span class="line"><span class="comment">// ä¸€åˆ‡ä» BST æ€§è´¨å‡ºå‘</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getValByRank</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> rnk)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">0</span>) <span class="keyword">return</span> INF;</span><br><span class="line"><span class="keyword">if</span> (treap[treap[p].lChild].size &gt;= rnk)</span><br><span class="line"><span class="keyword">return</span> getValByRank(treap[p].lChild, rnk);</span><br><span class="line"><span class="keyword">if</span> (treap[treap[p].lChild].size + treap[p].count &gt;= rnk)</span><br><span class="line"><span class="keyword">return</span> treap[p].value;</span><br><span class="line"><span class="keyword">return</span> getValByRank(treap[p].rChild,</span><br><span class="line">rnk - treap[treap[p].lChild].size - treap[p].count);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zig</span><span class="params">(<span class="keyword">int</span> &amp;p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> q = treap[p].lChild;</span><br><span class="line">treap[p].lChild = treap[q].rChild;</span><br><span class="line">treap[q].rChild = p;</span><br><span class="line">p = q;</span><br><span class="line">update(treap[p].rChild);</span><br><span class="line">update(p); <span class="comment">// åˆ«å¿˜è®°æ›´æ–°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">zag</span><span class="params">(<span class="keyword">int</span> &amp;p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> q = treap[p].rChild;</span><br><span class="line">treap[p].rChild = treap[q].lChild;</span><br><span class="line">treap[q].lChild = p;</span><br><span class="line">p = q;</span><br><span class="line">update(treap[p].lChild);</span><br><span class="line">update(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> &amp;p, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">0</span>) &#123;</span><br><span class="line">p = newNode(val);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (val == treap[p].value) &#123;</span><br><span class="line">treap[p].count++;</span><br><span class="line">update(p);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (val &lt; treap[p].value) &#123;</span><br><span class="line">insert(treap[p].lChild, val);</span><br><span class="line"><span class="keyword">if</span> (treap[p].weight &lt; treap[treap[p].lChild].weight) zig(p);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">insert(treap[p].rChild, val);</span><br><span class="line"><span class="keyword">if</span> (treap[p].weight &lt; treap[treap[p].rChild].weight) zag(p);</span><br><span class="line">&#125; <span class="comment">// zig å’Œ zag æ“ä½œï¼Œä¿è¯æ»¡è¶³å¤§æ ¹å †æ€§è´¨</span></span><br><span class="line">update(p);</span><br><span class="line">&#125; <span class="comment">// æ’å…¥ä¸€ä¸ªç‚¹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPre</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> p = root;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (val == treap[p].value) &#123;</span><br><span class="line"><span class="keyword">if</span> (treap[p].lChild &gt; <span class="number">0</span>) &#123;</span><br><span class="line">p = treap[p].lChild; <span class="comment">// å·¦å­æ ‘ä¸Šä¸æ–­å‘å³èµ°ï¼Œè·å–æœ€å¤§çš„å‰é©±</span></span><br><span class="line"><span class="keyword">while</span> (treap[p].rChild &gt; <span class="number">0</span>) p = treap[p].rChild;</span><br><span class="line">ans = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (treap[p].value &lt; val &amp;&amp;</span><br><span class="line">treap[p].value &gt; treap[ans].value) ans = p; <span class="comment">// å°è¯•æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">p = val &lt; treap[p].value ? treap[p].lChild : treap[p].rChild;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> treap[ans].value;</span><br><span class="line">&#125; <span class="comment">// è·å–å‰é©±</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getNext</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> p = root;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (val == treap[p].value) &#123;</span><br><span class="line"><span class="keyword">if</span> (treap[p].rChild &gt; <span class="number">0</span>) &#123;</span><br><span class="line">p = treap[p].rChild; <span class="comment">// å³å­æ ‘ä¸Šä¸æ–­å‘å·¦èµ°ï¼Œè·å–æœ€å°çš„åç»§</span></span><br><span class="line"><span class="keyword">while</span> (treap[p].lChild &gt; <span class="number">0</span>) p = treap[p].lChild;</span><br><span class="line">ans = p;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (treap[p].value &gt; val &amp;&amp;</span><br><span class="line">treap[p].value &lt; treap[ans].value) ans = p; <span class="comment">// å°è¯•æ›´æ–°ç­”æ¡ˆ</span></span><br><span class="line">p = val &lt; treap[p].value ? treap[p].lChild : treap[p].rChild;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> treap[ans].value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">remove</span><span class="params">(<span class="keyword">int</span> &amp;p, <span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span> (val == treap[p].value) &#123;</span><br><span class="line"><span class="keyword">if</span> (treap[p].count &gt; <span class="number">1</span>) &#123;</span><br><span class="line">treap[p].count--;</span><br><span class="line">update(p);</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (treap[p].lChild != <span class="number">0</span> || treap[p].rChild != <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (treap[p].rChild == <span class="number">0</span> ||</span><br><span class="line">treap[treap[p].lChild].weight &gt; treap[treap[p].rChild].weight) &#123;</span><br><span class="line">zig(p);</span><br><span class="line">remove(treap[p].rChild, val);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">zag(p);</span><br><span class="line">remove(treap[p].lChild, val);</span><br><span class="line">&#125; <span class="comment">// é€šè¿‡æ—‹è½¬æ¥åˆ é™¤èŠ‚ç‚¹</span></span><br><span class="line">update(p);</span><br><span class="line">&#125; <span class="keyword">else</span> p = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (val &lt; treap[p].value) remove(treap[p].lChild, val);</span><br><span class="line"><span class="keyword">else</span> remove(treap[p].rChild, val);</span><br><span class="line">update(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">cin</span>.tie(<span class="literal">NULL</span>);</span><br><span class="line">numNodes = <span class="number">0</span>;</span><br><span class="line">build();</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">int</span> opt, x;</span><br><span class="line"><span class="keyword">while</span> (n--) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; opt &gt;&gt; x;</span><br><span class="line"><span class="keyword">switch</span> (opt) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>: &#123; insert(root, x); <span class="keyword">break</span>; &#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>: &#123; remove(root, x); <span class="keyword">break</span>; &#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>: &#123; <span class="built_in">cout</span> &lt;&lt; getRankByVal(root, x) - <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>; <span class="keyword">break</span>; &#125; <span class="comment">// å‡ä¸€</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>: &#123; <span class="built_in">cout</span> &lt;&lt; getValByRank(root, x + <span class="number">1</span>) &lt;&lt; <span class="built_in">endl</span>; <span class="keyword">break</span>; &#125; <span class="comment">// åŠ ä¸€</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>: &#123; <span class="built_in">cout</span> &lt;&lt; getPre(x) &lt;&lt; <span class="built_in">endl</span>; <span class="keyword">break</span>; &#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>: &#123; <span class="built_in">cout</span> &lt;&lt; getNext(x) &lt;&lt; <span class="built_in">endl</span>; <span class="keyword">break</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>ç­é‡Œçš„æŸä¸ªå¤§ä½¬å’Œæˆ‘è¯´ Treap æ²¡æœ‰ ZigZagï¼Œè¿™è®©æˆ‘å¾ˆæ‡µé€¼ã€‚ä½†æ˜¯ Zig å’Œ Zag æ“ä½œçš„ç¡®æ˜¯å¾ˆé‡è¦çš„ï¼Œä¼¼ä¹åœ¨å­¦ Splay çš„æ—¶å€™ä¹Ÿä¼šç”¨åˆ°ï¼Œå¤šå­¦æ— å®³ã€‚Treap è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œ<del>å…³é”®æ—¶å€™å¯ä»¥æ•‘å‘½</del>ã€‚ </p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;ä¸ºäº†ç»§ç»­å®Œå–„è‡ªå·±çš„æ•°æ®ç»“æ„æœ‰å…³çš„çŸ¥è¯†ï¼Œå†³å®šå…ˆæ€»ç»“ä¸€æ³¢ Treapã€‚Treap æ˜¯æˆ‘å­¦çš„ç¬¬ä¸€ä¸ªå¹³è¡¡æ ‘ç»“æ„ï¼ŒèŠ±äº†å¾ˆé•¿æ—¶é—´æ‰&lt;del&gt;æŠŠæ¿å­èƒŒä¸‹æ¥&lt;/del&gt;æŠŠå®ƒçœŸæ­£ç†è§£äº†ï¼Œä¸ç¦æ„Ÿå¹æ•°æ®ç»“æ„çœŸçš„æ˜¯ç¥å¥‡å•Šï¼&lt;/p&gt;
    
    </summary>
    
      <category term="å¹³è¡¡æ ‘" scheme="http://walesexcitedmei.github.io/categories/%E5%B9%B3%E8%A1%A1%E6%A0%91/"/>
    
    
      <category term="æ ‘å½¢ç»“æ„" scheme="http://walesexcitedmei.github.io/tags/%E6%A0%91%E5%BD%A2%E7%BB%93%E6%9E%84/"/>
    
      <category term="Treap" scheme="http://walesexcitedmei.github.io/tags/Treap/"/>
    
      <category term="å¹³è¡¡æ ‘" scheme="http://walesexcitedmei.github.io/tags/%E5%B9%B3%E8%A1%A1%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>[æ•°è®º] OI ä¸­ç´ æ•°æœ‰å…³çš„ç®—æ³•æ•´ç†</title>
    <link href="http://walesexcitedmei.github.io/2018/08/22/%E6%95%B0%E8%AE%BA-OI-%E4%B8%AD%E7%B4%A0%E6%95%B0%E6%9C%89%E5%85%B3%E7%9A%84%E7%AE%97%E6%B3%95%E6%95%B4%E7%90%86/"/>
    <id>http://walesexcitedmei.github.io/2018/08/22/æ•°è®º-OI-ä¸­ç´ æ•°æœ‰å…³çš„ç®—æ³•æ•´ç†/</id>
    <published>2018-08-22T10:26:19.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æœ¬æ¥æ˜¯æƒ³æ€»ç»“ä¸€é“æ•°è®ºç¥é¢˜çš„ï¼Œä½†æ˜¯æ€ä¹ˆè¯æ˜ä¼¼ä¹éƒ½ä¸æ˜¯å¾ˆå®Œç¾ï¼Œè€Œä¸”ä»£ç çš„å®ç°æ¶‰åŠåˆ°å¾ˆå¤šæ•°è®ºæœ‰å…³çš„ç®—æ³•ï¼Œäºæ˜¯æƒ³ç°æ€»ç»“ä¸€ä¸‹ä¸ç´ æ•°æœ‰å…³çš„ç®—æ³•ã€‚</p><a id="more"></a><h3 id="ç´ æ•°çš„åˆ¤å®š"><a href="#ç´ æ•°çš„åˆ¤å®š" class="headerlink" title="ç´ æ•°çš„åˆ¤å®š"></a>ç´ æ•°çš„åˆ¤å®š</h3><h4 id="Brute-Force-æœ´ç´ ç®—æ³•"><a href="#Brute-Force-æœ´ç´ ç®—æ³•" class="headerlink" title="Brute-Force æœ´ç´ ç®—æ³•"></a>Brute-Force æœ´ç´ ç®—æ³•</h4><p>é¢ï¼Œè¿™ä¸ªå°±ä¸å¤šè¯´äº†å§ï¼Œæœ€æ— è„‘çš„ï¼Œ$2\thicksim n$ æšä¸¾æ‰€æœ‰å°äº $n$ çš„æ•°æ¥è¿›è¡Œåˆ¤å®šã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n; ++i)</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (isPrime(n) ? <span class="string">"Yes"</span> : <span class="string">"No"</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Optimized-Brute-Force-ä¼˜åŒ–è¿‡çš„æœ´ç´ ç®—æ³•"><a href="#Optimized-Brute-Force-ä¼˜åŒ–è¿‡çš„æœ´ç´ ç®—æ³•" class="headerlink" title="Optimized-Brute-Force ä¼˜åŒ–è¿‡çš„æœ´ç´ ç®—æ³•"></a>Optimized-Brute-Force ä¼˜åŒ–è¿‡çš„æœ´ç´ ç®—æ³•</h4><p>å¦‚æœä¸€ä¸ªæ•°ä¸æ˜¯ç´ æ•°æ˜¯åˆæ•°ï¼Œ é‚£ä¹ˆä¸€å®šå¯ä»¥ç”±ä¸¤ä¸ªå¤§äº $1$ è‡ªç„¶æ•°ç›¸ä¹˜å¾—åˆ°ï¼Œ å…¶ä¸­ä¸€ä¸ªå¤§äºæˆ–ç­‰äºå®ƒçš„å¹³æ–¹æ ¹ï¼Œä¸€ä¸ªå°äºæˆ–ç­‰äºå®ƒçš„å¹³æ–¹æ ¹ã€‚å¹¶ä¸”æˆå¯¹å‡ºç°ã€‚æ‰€ä»¥å¯ä»¥ä¼˜åŒ–æœ´ç´ ç®—æ³•</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPrime</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt; n; ++i)</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (isPrime(n) ? <span class="string">"Yes"</span> : <span class="string">"No"</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç­›æ³•æ±‚ç´ æ•°"><a href="#ç­›æ³•æ±‚ç´ æ•°" class="headerlink" title="ç­›æ³•æ±‚ç´ æ•°"></a>ç­›æ³•æ±‚ç´ æ•°</h4><p>ä¸Šé¢ä¸¤ä¸ªèœé¸¡æ–¹æ³•åªèƒ½é’ˆå¯¹æ•°å¾ˆå°çš„æƒ…å†µï¼Œè¿™äº›æƒ…å†µåœ¨ OI ä¸­å‡ºç°çš„è¯å‡ºå·è€å¸ˆä¼š<del>æ­»å¾—å¾ˆæƒ¨</del>å˜æˆå¹¿å¤§ OIer çš„æ©äººï¼Œç„¶è€Œè¿™ç§æƒ…å†µæ˜¯ä¸å¯èƒ½çš„ã€‚äºæ˜¯åˆæœ‰äº†æ›´é«˜æ•ˆçš„æ–¹æ³•â€”â€”ç­›æ³•ã€‚å®ƒçš„æ€æƒ³å°±æ˜¯å°†ä¸€ä¸ªèŒƒå›´å†…çš„ç´ æ•°å…¨éƒ¨ç­›å‡ºæ¥ï¼Œé¢„å¤„ç†ä¹‹åæ–¹ä¾¿æŸ¥æ‰¾å’Œåˆ¤å®šã€‚æœ€æœ´ç´ çš„ç­›æ³•è«è¿‡äº Eratosthenes ç­›æ³•äº†<del>ï¼ˆä¸è¦çº ç»“è¿™ä¸ªåå­—æ€ä¹ˆè¯»ï¼Œå› ä¸ºæˆ‘ä¹Ÿä¸ä¼šï¼‰</del>ï¼Œå®ƒæ˜¯å°†æ‰€æœ‰ç´ æ•°çš„å€æ•°éƒ½ç»™ç­›æ‰ï¼Œå‰©ä¸‹çš„å°±æ˜¯ç´ æ•°äº†ã€‚æ—¶é—´å¤æ‚åº¦ä¸º $O(N\log\log N)$ æ¥è¿‘çº¿æ€§</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1000010</span></span><br><span class="line"><span class="keyword">bool</span> prime[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Eratosthenes</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(prime, <span class="literal">true</span>, <span class="keyword">sizeof</span>(prime));</span><br><span class="line">prime[<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= maxn; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (!prime[i]) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt;= maxn / i; ++j) &#123;</span><br><span class="line"><span class="comment">// è¿™é‡Œæ˜¯ä¸€ä¸ªå°ä¼˜åŒ–ï¼Œå› ä¸ºå°äº i^2 çš„æ•°åœ¨å‰é¢è‚¯å®šå·²ç»ç­›è¿‡äº†</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥ j ä» i å¼€å§‹å–</span></span><br><span class="line">prime[j * i] = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">Eratosthenes();</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; (prime[n] ? <span class="string">"Yes"</span> : <span class="string">"No"</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç„¶è€Œï¼ŒEratosthenes ç­›ä¼šé‡å¤æ ‡è®°ç´ æ•°ï¼Œé€ æˆæ—¶é—´å¤æ‚åº¦å†—ä½™ï¼Œå¦‚æœå¯¹äºæ¯ä¸ªæ•°æœ‰å”¯ä¸€çš„æ–¹æ³•ç¡®å®šå®ƒï¼Œé‚£ä¹ˆå°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ç”±æ­¤å¼•å‡ºäº†çº¿æ€§ç­›è¿™ä¸ªæ–¹æ³•ï¼Œå®ƒé€šè¿‡ä»å¤§åˆ°å°ç´¯è®¡è´¨å› å­çš„æ–¹æ³•æ ‡è®°æ¯ä¸€ä¸ªåˆæ•°ï¼Œå³è®© $12$ åªæœ‰ $2\times 2\times 3$ è¿™ç§äº§ç”Ÿæ–¹å¼ã€‚è®¾æ•°ç»„ $fac$ è®°å½•æ¯ä¸ªæ•°çš„æœ€å°è´¨å› å­ï¼Œæˆ‘ä»¬æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤æ¥ç»´æŠ¤ $fac$ï¼š</p><ol><li>ä¾æ¬¡è€ƒè™‘ $1\thicksim n$ ä¹‹è§çš„æ¯ä¸€ä¸ªæ•° $i$</li><li>è‹¥ $fac[i]=i$ è¯´æ˜ $i$ æ˜¯è´¨æ•°ï¼Œå°†å®ƒä¿å­˜ä¸‹æ¥</li><li>æ‰«æä¸å¤§äº $fac[i]$ çš„æ¯ä¸ªè´¨æ•° $p$ï¼Œä»¤ $fac[i\times p]=p$ï¼Œå³åœ¨ $i$ çš„åŸºç¡€ä¸Šç´¯ç§¯ä¸€ä¸ªè´¨å› å­ $p$ï¼Œå› ä¸º $p\leqslant fac[i]$ï¼Œæ‰€ä»¥ $p$ ä¸ºåˆæ•° $i\times p$ çš„æœ€å°è´¨å› å­ã€‚</li></ol><p>è¿™æ ·å­ï¼Œæ¯ä¸ªåˆæ•°åªä¼šè¢«å®ƒçš„æœ€å°è´¨å› å­ $p$ ç­›ä¸€æ¬¡ï¼Œæ—¶é—´å¤æ‚åº¦ä¸ºçº¿æ€§ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1000010</span></span><br><span class="line"><span class="keyword">int</span> fac[maxn], prime[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">LinearSieve</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(fac, <span class="number">0</span>, <span class="keyword">sizeof</span>(fac));</span><br><span class="line"><span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (fac[i] == <span class="number">0</span>) &#123; fac[i] = i; prime[++m] = i; &#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= m; ++j) &#123;</span><br><span class="line"><span class="comment">// è·³å‡ºå¾ªç¯çš„æ¡ä»¶</span></span><br><span class="line"><span class="keyword">if</span> (prime[j] &gt; fac[i] || prime[j] &gt; n / i) <span class="keyword">break</span>;</span><br><span class="line">fac[i * prime[j]] = prime[j];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) <span class="built_in">cout</span> &lt;&lt; prime[i] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">LinearSieve(<span class="number">100000</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çº¿æ€§ç­›åˆå<strong>æ¬§æ‹‰ç­›</strong>ã€‚</p><h4 id="ä¼ªç´ æ•°æµ‹è¯•"><a href="#ä¼ªç´ æ•°æµ‹è¯•" class="headerlink" title="ä¼ªç´ æ•°æµ‹è¯•"></a>ä¼ªç´ æ•°æµ‹è¯•</h4><p>åœ¨å¼€å§‹ Miller-Rabin ç®—æ³•ä¹‹å‰æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ä¼ªç´ æ•°æµ‹è¯•ï¼Œé¦–å…ˆè¦äº†è§£è´¹é©¬å°å®šç†ï¼š $a^{p-1}\equiv1(\bmod p)$ å½“ $p$ ä¸ºç´ æ•°æ—¶ä¸” $gcd(a,p)=1$ æ—¶ã€‚è´¹é©¬å°å®šç†çš„é€†å‘½é¢˜è™½ç„¶ä¸æ˜¯çœŸå‘½é¢˜ï¼Œä½†æ˜¯å‡ ä¹æˆç«‹ï¼Œè€Œä¸æˆç«‹çš„æ—¶å€™ï¼Œå³å¦‚æœ $n$ æ˜¯ä¸€ä¸ªåˆæ•°ä¸” $a^{n-1}\equiv 1(\bmod n)$ï¼Œé‚£ä¹ˆç§° $n$ ä¸ºåŸºä¸º $a$ çš„<strong>ä¼ªç´ æ•°</strong>ã€‚<br>å¦‚æœæˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ª $a$ ä½¿å¾— $n$ ä¸æ»¡è¶³ä¸Šè¿°ç­‰å¼ï¼Œé‚£ä¹ˆ $n$ å¿…å®šä¸ºåˆæ•°ï¼Œé‚£å¦‚æœæ»¡è¶³å‘¢ï¼Ÿ$n$ ä¸ä¸€å®šæ˜¯ç´ æ•°ï¼Œè¿™æ ·çš„æ•°è¢«ç§°ä½œ Carmicheal æ•°ï¼Œä½†æ˜¯è¿™ç§æ•°ååˆ†ç¨€å°‘ï¼Œå‰ $10000$ ä¸ª $n$ ä¸­åªæœ‰ $22â€‹$ ä¸ªæ•°ä¸º Carmicheal æ•°ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•è¿˜æ˜¯æ¯”è¾ƒå¯é çš„ã€‚é™„ä¸Šç®—æ³•å¯¼è®ºä¸­çš„ä¼ªä»£ç ï¼š</p><div style="align: center"> <img src="pic1.png"> </div><p>å› ä¸º Carmicheal æ•°çš„å­˜åœ¨ï¼Œäººä»¬å¯»æ±‚æ›´å¥½çš„ï¼Œæ›´å‡†ç¡®çš„ç´ æ•°åˆ¤å®šæ–¹æ³•ï¼Œäºæ˜¯å°±æœ‰äº† Miller-Rabin ç®—æ³•</p><h4 id="Miller-Rabin-ç®—æ³•"><a href="#Miller-Rabin-ç®—æ³•" class="headerlink" title="Miller-Rabin ç®—æ³•"></a>Miller-Rabin ç®—æ³•</h4><p>é€šè¿‡è´¹é©¬å°å®šç†æˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªæ¨è®ºï¼Œè‹¥ $p$ ä¸ºä¸€ä¸ªå¥‡ç´ æ•°ï¼Œé‚£ä¹ˆæœ‰ï¼š<br>$$<br>a^p\equiv a\pmod p,1\leqslant a\leqslant p<br>$$</p><p>æˆ‘ä»¬è®°<br>$$<br>p-1=2^kq,2\nmid q<br>$$<br>è®¾ $a$ æ˜¯ä¸è¢« $p$ æ•´é™¤çš„æ•°ï¼Œé‚£ä¹ˆä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ä¹‹ä¸€å¿…ç„¶æˆç«‹ï¼š</p><ul><li>$a^q \equiv 1 \pmod p$</li><li>$a^q, a^{2q}, a^{2^2q}, \dots, a^{2^{k-1}q} \equiv -1 \pmod p$ ä¹‹ä¸­æœ‰ä¸€ä¸ªç­‰å¼æˆç«‹</li></ul><p>æ ¹æ®å¦‚ä¸‹å‘½é¢˜ï¼š<br>$$<br>a^2 \equiv 1 \pmod p \Rightarrow a \equiv \pm 1 \pmod p<br>$$<br>åˆå› ä¸ºä¸Šé¢ç¬¬äºŒä¸ªæ¡ä»¶ä¸­çš„æ•°ï¼Œæ¯ä¸€ä¸ªéƒ½æ˜¯å‰ä¸€ä¸ªçš„å¹³æ–¹ï¼Œä¸”æœ€åä¸€ä¸ªæ•°çš„å¹³æ–¹æ˜¯ $1$ï¼Œæ‰€ä»¥å¦‚æœè¡¨ä¸­ä¸€ä¸ªæ•°å®ƒæ¨¡ $p$ ä¸ä½™ $1$ï¼Œä½†æ˜¯å®ƒçš„å¹³æ–¹æ¨¡ $p$ ä½™ $1$ï¼Œé‚£ä¹ˆé‚£ä¸ªæ•°ä¸€å®šæ˜¯ $-1$ï¼Œæ‰€ä»¥åœ¨è¿™ç§æƒ…å†µä¸‹è¡¨ä¸­åŒ…å« $ -1$ï¼Œåˆæˆ–è€…è¡¨ä¸­å…¨æ˜¯ $1$ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªæ¡ä»¶å°±ä¼šæˆç«‹ã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬å¾—åˆ°äº† Miller-Rabin ç´ æ€§æµ‹è¯•çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªæ•°ä¸æ»¡è¶³ä¸Šé¢çš„æ€§è´¨ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯å’Œæ•°ï¼Œè¿™ä¸ª $a$ å°±æˆä¸ºè¯æ®ã€‚è€Œ Miller-Rabin çš„è¯æ®å’Œä¸Šé¢æåˆ°çš„æ–¹æ³•çš„è¯æ®ä¸åŒï¼Œå®ƒèƒ½å¤Ÿä¿è¯æ¯ä¸€ä¸ªå¥‡åˆæ•° $p$ éƒ½ä¼šæœ‰ä¸å°‘äº $\frac{(pâˆ’1)}{2}$ä¸ªè¯æ®ï¼ˆå…·ä½“è¯æ˜è¯¦è§ç®—æ³•å¯¼è®ºï¼‰ã€‚</p><p>æˆ‘ä»¬åªè¦éšæœº $50$ ä¸ªæ•°æ¥æµ‹è¯•ï¼Œé‚£ä¹ˆæµ‹è¯•å¤±è´¥çš„æ¦‚ç‡ä¸€å®šå°äº $2^{âˆ’50}$ï¼Œå¤§çº¦æ˜¯ $8.9â‹…10^{âˆ’16}$ï¼Œå¦‚æœä½ è§‰å¾—ä¸å¤Ÿï¼Œè¿˜å¯ä»¥æ‰¾æ›´å¤šçš„æ•°æ¥æµ‹è¯•ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span>  int64;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> int64 <span class="title">rand64</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="built_in">abs</span>((int64)rand() &lt;&lt; <span class="number">32</span> | rand()); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> int64 <span class="title">random</span><span class="params">(int64 x, int64 y)</span> </span>&#123; <span class="keyword">return</span> x + rand64() % (y - x + <span class="number">1</span>); &#125;</span><br><span class="line"><span class="comment">// éšæœºæ•°ç”Ÿæˆå‡½æ•°</span></span><br><span class="line"><span class="function">int64 <span class="title">montgomery</span><span class="params">(int64 a, int64 b, int64 c)</span> </span>&#123;</span><br><span class="line">int64 result = <span class="number">1</span>;</span><br><span class="line">int64 temp = a;</span><br><span class="line"><span class="keyword">while</span> (b &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (b &amp; <span class="number">1</span>) result = (result * temp) % c;</span><br><span class="line">temp = (temp * temp) % c;</span><br><span class="line">b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">witness</span><span class="params">(int64 a, int64 p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">0</span>;</span><br><span class="line">int64 q = p - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> ((q &amp; <span class="number">1</span>) == <span class="number">0</span>) &#123; k++; q &gt;&gt;=<span class="number">1</span>; &#125;</span><br><span class="line">int64 v = montgomery(a, q, p); <span class="comment">// åˆ¤æ–­ä¸€</span></span><br><span class="line"><span class="keyword">if</span> (v == <span class="number">1</span> || v == p - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">while</span> (k--) &#123;</span><br><span class="line">v = v * v % p;</span><br><span class="line"><span class="keyword">if</span> (v == p - <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// åˆ¤æ–­äºŒ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">MillerRabin</span><span class="params">(int64 p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">1</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (p == <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span> (p % <span class="number">2</span> == <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="comment">// è¿™é‡Œå…¶å®å¯ä»¥åŠ æ›´å¤šçš„ç‰¹åˆ¤æ¥èŠ‚çº¦æ—¶é—´</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">50</span>; ++i)</span><br><span class="line"><span class="keyword">if</span> (witness(random(<span class="number">1</span>, p - <span class="number">1</span>), p)) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line"><span class="keyword">if</span> (MillerRabin(i)) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="comment">// è¾“å‡º 1 ~ n ä¹‹é—´çš„æ‰€æœ‰ç´ æ•°</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºå¤§çš„ç´ æ•°ï¼Œä¸ºäº†èŠ‚çº¦åˆ¤å®šçš„æ—¶é—´ï¼Œæˆ‘ä»¬åªèƒ½é€€è€Œæ±‚å…¶æ¬¡é€‰æ‹©éå®Œç¾ç®—æ³•æ¥è¿›è¡ŒéªŒè¯ï¼Œä¸è¿‡ä¸å¾—ä¸è¯´ï¼ŒMiller-Rabin å…¶å®å·²ç»å¾ˆå®Œå¤‡äº†ã€‚</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>äº‹å®ä¸Šï¼Œå¯¹äºç´ æ•°çš„åˆ¤å®šè¿˜æœ‰å¾ˆå¤šç®—æ³•ï¼Œä¾‹å¦‚ <a href="https://en.wikipedia.org/wiki/Solovay%E2%80%93Strassen_primality_test" target="_blank" rel="noopener">Solovay-Strassen ç®—æ³•</a>å’Œ <a href="https://en.wikipedia.org/wiki/AKS_primality_test" target="_blank" rel="noopener">AKS ç®—æ³•</a>ï¼Œç„¶è€Œè¿™ä¸¤ä¸ªä¼¼ä¹éƒ½è¶…å‡ºäº† OI çš„èŒƒå›´ï¼Œä¸€èˆ¬ä¸ä¼šç”¨å¾—åˆ°ï¼Œè¿™é‡Œä¹Ÿå°±ä¸å†èµ˜è¿°ã€‚</p><h3 id="è´¨å› æ•°åˆ†è§£"><a href="#è´¨å› æ•°åˆ†è§£" class="headerlink" title="è´¨å› æ•°åˆ†è§£"></a>è´¨å› æ•°åˆ†è§£</h3><h4 id="è¯•é™¤æ³•"><a href="#è¯•é™¤æ³•" class="headerlink" title="è¯•é™¤æ³•"></a>è¯•é™¤æ³•</h4><p>ç»“åˆç´ æ•°åˆ¤å®šçš„â€œè¯•é™¤æ³•â€å’Œâ€œEratosthenes ç­›æ³•â€ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«æ $2\thicksim\lfloor\sqrt{n}\rfloor$ ä¸­çš„æ¯ä¸ªæ•° $d$ï¼Œè‹¥ $d$ èƒ½æ•´é™¤ $n$ï¼Œåˆ™ä» $n$ ä¸­é™¤æ‰æ‰€æœ‰çš„å› å­ $d$ï¼ŒåŒæ—¶ç´¯è®¡ä¸ªæ•°ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> p[maxn], c[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> m = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i * i &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (n % i == <span class="number">0</span>) &#123;</span><br><span class="line">p[++m] = i;</span><br><span class="line">c[m] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (n % i == <span class="number">0</span>) &#123; n /= i; c[m]++; &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (n &gt; <span class="number">1</span>) &#123; p[++m] = n; c[m] = <span class="number">1</span> &#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) <span class="built_in">cout</span> &lt;&lt; p[i] &lt;&lt; <span class="string">'^'</span> &lt;&lt; c[i] &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Pollard-Rho-ç®—æ³•"><a href="#Pollard-Rho-ç®—æ³•" class="headerlink" title="Pollard-Rho ç®—æ³•"></a>Pollard-Rho ç®—æ³•</h4><p>Pollard-Rho ä¹Ÿæ˜¯ä¸€ä¸ªä¸å®Œç¾ç®—æ³•ï¼Œä¸å®Œç¾ä¹‹å¤„åœ¨æ—¶é—´å¤æ‚åº¦ä¸Šä½“ç°ã€‚Pollard-Rhoç®—æ³•åˆ†è§£ä¸€ä¸ªæ•° $n$ çš„è¿‡ç¨‹å¤§ä½“ä¸Šæ˜¯è¿™æ ·å­çš„ï¼š</p><ol><li>æ‰¾åˆ°ä¸€ä¸ªæ•° $p$ï¼Œä½¿å¾— $p|n$ï¼Œå°† $n$ åˆ†è§£ä¸º $p$ ä¸ $\frac{n}{p}$</li><li>å¦‚æœ $p$ æˆ– $\frac{n}{p}$ ä¸ä¸ºè´¨æ•°ï¼Œå°†å…¶å¸¦å…¥é€’å½’ä¸Šè¿°è¿‡ç¨‹</li><li>å¦‚æœå…¶æ˜¯è´¨æ•°ï¼Œå°†å…¶è®°å½•å¹¶é€€å‡º</li></ol><p>é‚£æœ‰äººå°±ä¼šé—®äº†ï¼šè¿™è·Ÿæš´åŠ›åˆ†è§£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¥½åƒæ—¶é—´å¤æ‚åº¦æ¯”æš´åŠ›è¿˜é«˜å•Šï¼ï¼ï¼Ÿï¼Ÿæ‰€ä»¥ï¼Œä¸‹é¢çš„ä¼˜åŒ–æ‰æ˜¯å…³é”®ã€‚ç¬¬ä¸€ä¸ªä¼˜åŒ–ï¼Œä½¿ç”¨ Miller-Rabin åˆ¤å®šå…¶æ˜¯å¦ä¸ºè´¨æ•°ã€‚ç¬¬äºŒä¸ªä¼˜åŒ–æ‰æ˜¯æœ€å…³é”®çš„ï¼šå¯¹äºä¸€ä¸ªå¤§æ•´æ•°nï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°ä¸€ä¸ª $p$ æ»¡è¶³ $p|n$ï¼Œè¿™å¦‚åŒå¤§æµ·æé’ˆã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬è¦æ‰¾å‡º $p_1$ã€$p_2$ï¼Œä½¿å¾— $(|p_1âˆ’p_2|)|n$ï¼Œè¿™çœ‹èµ·æ¥ä¼¼ä¹è¦å®¹æ˜“ä¸€äº›ã€‚å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦æ‰¾å‡º $\gcd((|p1âˆ’p2|),n)&gt;1$çš„ $p_1$ã€$p_2$ï¼Œåˆ™å…¶ $\gcd$ å€¼è‚¯å®šä¸ºnçš„çº¦æ•°ã€‚è¿™çœ‹èµ·æ¥åˆå®¹æ˜“äº†ä¸€äº›ã€‚å®é™…ä¸Šï¼Œè¿™è®©æ•´ä¸ªç®—æ³•å®¹æ˜“è®¸å¤šã€‚æ ¹æ®<a href="https://zh.wikipedia.org/wiki/%E7%94%9F%E6%97%A5%E5%95%8F%E9%A1%8C" target="_blank" rel="noopener">ç”Ÿæ—¥æ‚–è®º</a>ï¼Œè¿™ç§ä¸¤ä¸¤æ¯”è¾ƒçš„æ–¹å¼ï¼Œåœ¨åŠ å…¥æ¯”è¾ƒçš„æ•°è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œå…¶æ•ˆç‡ä¼šå¤§å¤§æå‡ï¼Œæ¯”æ‰¾ä¸€ä¸ªæ•°çš„æ•ˆç‡å¿«å¾ˆå¤šã€‚äºæ˜¯ï¼Œæ‰¾ $p$ çš„è¿‡ç¨‹å˜æˆäº†è¿™ä¸ªæ ·å­ï¼š</p><ol><li>æ‰¾åˆ°ä¸€ä¸ªæ•° $p_1$</li><li>é€šè¿‡æŸç§ç„å­¦æ¨å¯¼æ‰‹æ®µæ‰¾å‡ºä¸€ä¸ªä¸ $p_1$ å¯¹åº”çš„ $p_2$</li><li>åˆ¤æ–­ $\gcd((|p1âˆ’p2|),n)$ æ˜¯å¦å¤§äº $1$ï¼Œä¸å¤§äºåˆ™å°† $p_2$ä½œä¸ºæ–°çš„ $p_1$ï¼Œé‡å¤è¿‡ç¨‹ï¼Œå¦åˆ™å°±æ‰¾åˆ°äº†</li></ol><p>ä¸ºä»€ä¹ˆè¦ç”¨ç„å­¦æ‰‹æ®µï¼Ÿå› ä¸ºåªæœ‰é€šè¿‡æ¨å¯¼æ‰‹æ®µï¼Œæ‰èƒ½ä¿è¯ä¸åšé‡å¤åˆ¤æ–­ã€‚ç†è®ºä¸Šçš„æ¨å¯¼æ‰‹æ®µå¯ä»¥æœ‰å¾ˆå¤šï¼Œä½†å®é™…ä½¿ç”¨ä¸­ä¸€èˆ¬ä½¿ç”¨å¦‚ä¸‹å…¬å¼æ¨å¯¼ï¼š<br>$$<br>p_2=(p_1^2+c)\bmod n<br>$$<br>å…¶ä¸­ $c$ ä¸ºéšæœºå¸¸æ•°ã€‚<br>è¿™ä¸ªå…¬å¼çš„å¥½å¤„:</p><ol><li>æ¨å¯¼å‡ºæ¥çš„ $p_2-p_1$ å·®å€¼åŸºæœ¬ä¸ä¼šç›¸ç­‰ã€‚</li><li>å¯ä»¥è¯æ˜ï¼Œè¯¥æ¨å¯¼ç»“æœä¼šå‡ºç°å¾ªç¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å‡ºç°å¾ªç¯ä¹‹å‰ï¼Œç»“æœä¸ä¼šé‡å¤ï¼Œå°‘åšäº†è®¸å¤šæ— ç”¨çš„åˆ¤æ–­ã€‚</li></ol><p>å‡ºç°å¾ªç¯äº†æ€ä¹ˆåŠï¼Ÿæ¢ä¸€ä¸ªéšæœºå¸¸æ•°å†æã€‚è¿™å°±æ˜¯è¯¥ç®—æ³•â€œéå®Œç¾â€çš„åœ°æ–¹ï¼Œ<del>æ—¶é—´å¤æ‚åº¦è¦çœ‹è„¸çš„</del>ã€‚é‚£ä¹ˆå¦‚ä½•åˆ¤ç¯å‘¢ï¼Ÿè¿™é‡Œä»‹ç»ä¸€ä¸ªç®—æ³•ï¼š<a href="https://zh.wikipedia.org/wiki/Floyd%E5%88%A4%E5%9C%88%E7%AE%97%E6%B3%95" target="_blank" rel="noopener">Floyd åˆ¤åœˆ</a>ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¹‹æ‰€ä»¥ä¸èƒ½ä¸€ä¸ªæ ‡è®°å®šåœ¨åŸåœ°ï¼Œæ˜¯å› ä¸ºå¾ªç¯èŠ‚ä¸ä¸€å®šåœ¨å¼€å¤´å°±äº§ç”Ÿï¼Œå¯èƒ½èµ°ç€èµ°ç€æ‰é‡åˆ°å¾ªç¯ã€‚è¿™æ¡è·¯å¾„å°±ç±»ä¼¼äº $\rho$ï¼ŒPollard-Rho ç®—æ³•ä¹Ÿæ˜¯å› æ­¤å¾—åçš„ã€‚é¡ºä¾¿é™„ä¸Šç®—æ³•å¯¼è®ºä¸­çš„ä¸€å¼ ç„å­¦å›¾ï¼š</p><div style="align: center"> <img src="pic2.png"> </div><p>æ³¨æ„ï¼Œåœ¨å°æ•°åˆ†è§£çš„æ—¶å€™å°±åˆ«ç”¨è¿™ä¸ªäº†ï¼Œè€è€å®å®ç”¨è¯•é™¤æ³•å§ã€‚</p><h3 id="æœªå®Œå¾…ç»­â€¦â€¦"><a href="#æœªå®Œå¾…ç»­â€¦â€¦" class="headerlink" title="æœªå®Œå¾…ç»­â€¦â€¦"></a>æœªå®Œå¾…ç»­â€¦â€¦</h3><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;æœ¬æ¥æ˜¯æƒ³æ€»ç»“ä¸€é“æ•°è®ºç¥é¢˜çš„ï¼Œä½†æ˜¯æ€ä¹ˆè¯æ˜ä¼¼ä¹éƒ½ä¸æ˜¯å¾ˆå®Œç¾ï¼Œè€Œä¸”ä»£ç çš„å®ç°æ¶‰åŠåˆ°å¾ˆå¤šæ•°è®ºæœ‰å…³çš„ç®—æ³•ï¼Œäºæ˜¯æƒ³ç°æ€»ç»“ä¸€ä¸‹ä¸ç´ æ•°æœ‰å…³çš„ç®—æ³•ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°è®º" scheme="http://walesexcitedmei.github.io/categories/%E6%95%B0%E8%AE%BA/"/>
    
    
      <category term="æ•°è®º" scheme="http://walesexcitedmei.github.io/tags/%E6%95%B0%E8%AE%BA/"/>
    
      <category term="ç´ æ•°" scheme="http://walesexcitedmei.github.io/tags/%E7%B4%A0%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>[æ•°è®º] OI ä¸­çš„æ¨¡è¿ç®—è®¡ç®—æ–¹æ³•</title>
    <link href="http://walesexcitedmei.github.io/2018/08/19/%E6%95%B0%E8%AE%BA-OI-%E4%B8%AD%E7%9A%84%E6%A8%A1%E8%BF%90%E7%AE%97%E8%AE%A1%E7%AE%97%E6%96%B9%E6%B3%95/"/>
    <id>http://walesexcitedmei.github.io/2018/08/19/æ•°è®º-OI-ä¸­çš„æ¨¡è¿ç®—è®¡ç®—æ–¹æ³•/</id>
    <published>2018-08-19T03:01:03.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æ¨¡è¿ç®—åœ¨ OI ä¸­æ˜¯éå¸¸ç¥å¥‡çš„å­˜åœ¨ï¼Œæœ‰æ—¶å€™é¢˜ç›®ä¼šéå¸¸å¥½ï¼ˆmï¼‰å¿ƒï¼ˆmï¼‰åœ°ï¼ˆpï¼‰è®©æˆ‘ä»¬å°†ç­”æ¡ˆå–æ¨¡ï¼Œç„¶è€Œè®¡ç®—æ¨¡çš„æ–¹æ³•éšç€é¢˜ç›®çš„å˜åŒ–è€Œå˜åŒ–ï¼Œç½‘ä¸Šå¾ˆå¤šåšå®¢åˆå¤ªé›¶æ•£ï¼Œè¿™é‡Œç—›ä¸‹å†³å¿ƒæ€»ç»“ä¸€ä¸‹ã€‚</p><a id="more"></a><h3 id="é¢„å¤‡çŸ¥è¯†"><a href="#é¢„å¤‡çŸ¥è¯†" class="headerlink" title="é¢„å¤‡çŸ¥è¯†"></a>é¢„å¤‡çŸ¥è¯†</h3><ul><li>æ’ç­‰å¼ï¼š<ul><li>$(a\bmod n)\bmod n=a\bmod n$</li><li>å¯¹äºæ‰€æœ‰çš„æ­£æ•° $x$ æœ‰ï¼š$n^x\bmod n = 0$</li><li>å¦‚æœ p æ˜¯ä¸€ä¸ªè´¨æ•°ï¼Œä¸”ä¸ä¸º b çš„å› æ•°ï¼Œæ­¤æ—¶ç”±è´¹é©¬å°å®šç†æœ‰ï¼š$ab^{pâˆ’1}\bmod p=a\bmod p$</li></ul></li><li>åˆ†é…å¾‹<ul><li>$(a-b)\bmod n=(a\bmod n-b\bmod n)\bmod n$</li><li>$(a+b)\bmod n=(a\bmod n+b\bmod n)\bmod n$</li><li>$ab\bmod n=(a\bmod n)(b\bmod n)\bmod n$</li></ul></li></ul><h3 id="é«˜æ¬¡å¹‚å‡½æ•°çš„å–æ¨¡"><a href="#é«˜æ¬¡å¹‚å‡½æ•°çš„å–æ¨¡" class="headerlink" title="é«˜æ¬¡å¹‚å‡½æ•°çš„å–æ¨¡"></a>é«˜æ¬¡å¹‚å‡½æ•°çš„å–æ¨¡</h3><h4 id="æš´åŠ›å–æ¨¡æ³•"><a href="#æš´åŠ›å–æ¨¡æ³•" class="headerlink" title="æš´åŠ›å–æ¨¡æ³•"></a>æš´åŠ›å–æ¨¡æ³•</h4><p>ç”±äºæˆ‘ä»¬çš„é«˜æ¬¡å¹‚å‡½æ•°å¾€å¾€æ‹¥æœ‰å¾ˆé«˜çš„å¹‚ï¼Œè€Œæˆ‘ä»¬åœ¨è®¡ç®—æœºä¸­åªæœ‰<code>int</code>ã€<code>float</code>ã€<code>double</code>ã€<code>long long</code>è¿™å‡ ç§å˜é‡ç±»å‹ï¼Œè¿œè¿œä¸èƒ½æ»¡è¶³æˆ‘ä»¬å¯¹äºå¤§æ•°å­—è¿ç®—çš„è¦æ±‚ï¼Œä»è€Œå¯¼è‡´æ•°æ®æº¢å‡ºæ— æ³•å®Œæˆè¿ç®—ã€‚<br>æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡è¿­ä»£å–æ¨¡çš„è¿‡ç¨‹ä¸­è¿›è¡Œå–æ¨¡è¿ç®—ï¼Œä»è€Œä¿è¯æ•°æ®ä¸ä¼šæº¢å‡ºã€‚ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">pow</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">long</span> <span class="keyword">long</span> c)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> % c;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (b--) result = result * a % c;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¡ç®— a^b % c</span></span><br></pre></td></tr></table></figure></p><p>è¿™ç§ç®—æ³•çš„æ­£ç¡®æ€§æ¯‹åº¸ç½®ç–‘ï¼Œä½†æ˜¯å¦‚æœå¹‚æŒ‡æ•°å¤ªå¤§çš„è¯ï¼Œéœ€è¦è€—è´¹çš„æ—¶é—´å°±æ›´éå¸¸å¤šï¼Œç›´æ¥å¯¼è‡´è¿ç®—æ•ˆç‡ä½ä¸‹ï¼Œæ‰€ä»¥åªé€‚ç”¨äºæŒ‡æ•°ä¸å¤§çš„æƒ…å†µä¸‹ä½¿ç”¨ã€‚</p><h4 id="äºŒåˆ†å¹‚"><a href="#äºŒåˆ†å¹‚" class="headerlink" title="äºŒåˆ†å¹‚"></a>äºŒåˆ†å¹‚</h4><p>è¦æ±‚ $a^n$ï¼Œå¦‚æœçŸ¥é“äº† $a^{\frac{n}{2}}$ é‚£ä¹ˆå†å¹³æ–¹å°±è¡Œäº†ã€‚<br>ä»¤ $A=a^{\lfloor\frac{n}{2}\rfloor}$<br>è‹¥ $n$ ä¸ºå¶æ•°ï¼Œé‚£ä¹ˆ $Result=A^2$<br>è‹¥ $n$ ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆ $Result=a\times A^2$<br>è¿™æ ·å­å¤æ‚åº¦ä» $O(n)$ é™åˆ°äº† $O(\log n)$</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">pow</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">long</span> <span class="keyword">long</span> c)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> % c;</span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> x = <span class="built_in">pow</span>(a, b / <span class="number">2</span>, c);</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> ans = (<span class="keyword">long</span> <span class="keyword">long</span>)x * x % m;</span><br><span class="line"><span class="keyword">if</span> (b % <span class="number">2</span> == <span class="number">1</span>) ans = ans * a % m;</span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">long</span> <span class="keyword">long</span>)ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è’™å“¥é©¬åˆ©ç®—æ³•"><a href="#è’™å“¥é©¬åˆ©ç®—æ³•" class="headerlink" title="è’™å“¥é©¬åˆ©ç®—æ³•"></a>è’™å“¥é©¬åˆ©ç®—æ³•</h4><p>å…·ä½“è¯¦ç»†ä»‹ç»è§<a href="https://en.wikipedia.org/wiki/Montgomery_modular_multiplication" target="_blank" rel="noopener">ç»´åŸºç™¾ç§‘</a>ï¼Œè¿™é‡Œç›´æ¥ä¸Šä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Montgomery</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">long</span> <span class="keyword">long</span> c)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> % c;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> temp = a;</span><br><span class="line"><span class="keyword">while</span> (b &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (b &amp; <span class="number">1</span>) result = (result * temp) % c;</span><br><span class="line">temp = (temp * temp) % c;</span><br><span class="line">b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç»„åˆæ•°å–æ¨¡"><a href="#ç»„åˆæ•°å–æ¨¡" class="headerlink" title="ç»„åˆæ•°å–æ¨¡"></a>ç»„åˆæ•°å–æ¨¡</h3><h4 id="æ–¹æ³•ä¸€ï¼šæ¨è¾‰ä¸‰è§’é€’æ¨"><a href="#æ–¹æ³•ä¸€ï¼šæ¨è¾‰ä¸‰è§’é€’æ¨" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæ¨è¾‰ä¸‰è§’é€’æ¨"></a>æ–¹æ³•ä¸€ï¼šæ¨è¾‰ä¸‰è§’é€’æ¨</h4><p>ä½¿ç”¨é€’æ¨å…¬å¼ï¼š$C_n^m=C_{n-1}^m+C_{n-1}^{m-1}$<br>å†™æˆæ•°ç»„ï¼š$C[n][m]=C[n-1][m]+C[n-1][m-1]$<br>è¿™ä¹Ÿæ˜¯æ¨è¾‰ä¸‰è§’çš„é€’æ¨å…¬å¼ï¼Œæ‰€ä»¥è¾¹ç•Œä¸º $C[0][0]=1$ã€‚ä¸‹é¢ç»™å‡ºæ±‚ä¸€ä¸ªç»„åˆæ•°çš„æ–¹æ³•ï¼š<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> c[<span class="number">10010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">m = min(m, n - m);</span><br><span class="line"><span class="comment">// å› ä¸º c[n][m] == c[n][n - m]</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥å–æœ€å°å€¼å‡å°‘è¿ç®—ã€‚</span></span><br><span class="line">c[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = m; j &gt;= <span class="number">1</span>; --j)</span><br><span class="line">c[j] = c[j] + c[j - <span class="number">1</span>];</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; c[m];</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å› ä¸ºåªæ±‚ä¸€ä¸ªç»„åˆæ•°ï¼Œæ‰€ä»¥ä½¿ç”¨äº†æ»šåŠ¨æ•°ç»„çš„æ–¹å¼</span></span><br></pre></td></tr></table></figure></p><p>ç”±äºé€’æ¨æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ï¼Œæ‰€ä»¥åªé€‚ç”¨äºå°æ•°æ®çš„æƒ…å†µã€‚</p><h4 id="æ–¹æ³•äºŒï¼šä¹˜æ³•é€†å…ƒ"><a href="#æ–¹æ³•äºŒï¼šä¹˜æ³•é€†å…ƒ" class="headerlink" title="æ–¹æ³•äºŒï¼šä¹˜æ³•é€†å…ƒ"></a>æ–¹æ³•äºŒï¼šä¹˜æ³•é€†å…ƒ</h4><p>åœ¨æ•°æ®å¾ˆå¤§çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹ç»„åˆæ•°å–æ¨¡å°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œå› ä¸ºæ•°æ®ä¸ä¸€å®šèƒ½å­˜ä¸‹ï¼Œè€Œä¸”é€šè¿‡è§‚å¯Ÿç»„åˆæ•°çš„å…¬å¼ï¼š<br>$$<br>C_n^m=\frac{n!}{m!(n-m)!}=\frac{n\times (n-1)\timesâ€¦\times(n-m+1)}{m!}<br>$$<br>æˆ‘ä»¬å‘ç°ç»„åˆæ•°æ˜¯å¸¦æœ‰é™¤æ³•çš„ï¼Œä¸èƒ½èµ°ä¸€æ­¥å–ä¸€æ¬¡æ¨¡ï¼Œä¸ºäº†è§£å†³é™¤æ³•å–æ¨¡çš„é—®é¢˜ï¼Œäººä»¬å‘æ˜äº†é€†å…ƒè¿™ä¸ª<a href="https://en.wikipedia.org/wiki/Inverse_element" target="_blank" rel="noopener">ä¸œè¥¿</a>ã€‚<br>è‹¥ $a\times b\equiv1\pmod p$ åˆ™ç§° $b$ ä¸º $a$ åœ¨æ¨¡ $p$ ä¸‹çš„ä¹˜æ³•é€†å…ƒï¼Œä¸€èˆ¬è®¤ä¸ºï¼Œ$b &lt; p$ï¼Œ$b$ è®°ä¸º $a^{-1}$ã€‚<strong>æ³¨æ„ï¼Œæ­¤å¤„ $a$ ä¸ $p$ å¿…é¡»äº’è´¨ï¼Œå¦åˆ™ä¹˜æ³•é€†å…ƒä¸å­˜åœ¨ã€‚</strong>é‚£ä¹ˆé€†å…ƒè¯¥æ€ä¹ˆç”¨å‘¢ï¼Ÿå½“ç„¶æ˜¯å€ŸåŠ©å®ƒå°†é™¤æ³•è½¬ä¸ºä¹˜æ³•ï¼Œå†ç”¨åˆ†é…å¾‹æ¥è®¡ç®—äº†ã€‚<br>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå¼å­ï¼š<br>$$<br>\frac{a}{b}\equiv\frac{a}{b}\times b\times b^{-1}\equiv a\times b^{-1}\pmod p<br>$$<br>è¿™æ ·å°±å¯ä»¥æŠŠé—®é¢˜è½¬åŒ–ä¸ºæ±‚ä¸€ä¸ªæ•°çš„é€†å…ƒï¼Œå†è½¬åŒ–ä¸ºä¹˜æ³•è¿ç®—ã€‚</p><h5 id="é€’æ¨æ±‚é€†å…ƒ"><a href="#é€’æ¨æ±‚é€†å…ƒ" class="headerlink" title="é€’æ¨æ±‚é€†å…ƒ"></a>é€’æ¨æ±‚é€†å…ƒ</h5><p>æ±‚ $iâ€‹$ åœ¨æ¨¡ $pâ€‹$ ä¸‹çš„ä¹˜æ³•é€†å…ƒï¼Œæ»¡è¶³ $gcd(i, p)=1, i&lt; pâ€‹$<br>ä½¿ç”¨æ¬§å‡ é‡Œå¾—é™¤æ³•çš„å½¢å¼ï¼Œä»¤ $p=k\times i+râ€‹$ï¼Œåˆ™ $k=\lfloor\frac{p}{i}\rfloor,r=p\bmod iâ€‹$<br>æ˜¾ç„¶ï¼Œ$k\times i+r\equiv 0(\bmod p)â€‹$<br>ä¸¤è¾¹åŒä¹˜ $i^{-1}\times r^{-1}â€‹$ï¼Œå¾— $k\times r^{-1}+i^{-1}\equiv 0\pmod pâ€‹$<br>ç§»é¡¹ï¼Œæ•´ç†ï¼š$i^{-1}\equiv -k\times r^{-1}\equiv (p-k)\times r^{-1}\pmod pâ€‹$<br>å°† $kâ€‹$ å’Œ $râ€‹$ ç”¨ $pâ€‹$ æ¥æ›¿æ¢ï¼š$i^{-1}\equiv (p-\lfloor\frac{p}{i}\rfloor)\times (p\bmod i)^{-1}\pmod pâ€‹$<br>ä½¿ç”¨ <code>inv[i]</code> æ¥è¡¨ç¤º <code>i</code> çš„é€†å…ƒï¼Œæœ‰ <code>inv[i] = (p - p / i) * inv[p % i]</code><br>æ—¶é—´å¤æ‚çš„ä¸ºçº¿æ€§ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> inv[<span class="number">10000010</span>];</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getInverse</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (inv[x] != <span class="number">0</span>) <span class="keyword">return</span> inv[x];</span><br><span class="line">inv[x] = (p - p / i) * getInverse(p % x, p) % p;</span><br><span class="line"><span class="keyword">return</span> inv[x];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è´¹é©¬å°å®šç†æ±‚é€†å…ƒ"><a href="#è´¹é©¬å°å®šç†æ±‚é€†å…ƒ" class="headerlink" title="è´¹é©¬å°å®šç†æ±‚é€†å…ƒ"></a>è´¹é©¬å°å®šç†æ±‚é€†å…ƒ</h5><p>è´¹é©¬å°å®šç†ï¼š<del>å¦‚æ­¤å¯çˆ±çš„å®šç†åç§°</del> $a^{p-1}\equiv1\pmod p$ å½“ $p$ ä¸ºç´ æ•°æ—¶ä¸” $gcd(a,p)=1$ æ—¶ã€‚<br>æ‰€ä»¥æ±‚ $a$ çš„é€†å…ƒæ—¶ï¼Œåªè¦æ±‚å‡º $a^{p-2}$ çš„å€¼å°±å¯ä»¥äº†ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Montgomery</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">long</span> <span class="keyword">long</span> c)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> % c;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> temp = a;</span><br><span class="line"><span class="keyword">while</span> (b &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (b &amp; <span class="number">1</span>) result = (result * temp) % c;</span><br><span class="line">temp = (temp * temp) % c;</span><br><span class="line">b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getinverse</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> Montgomery(x, p - <span class="number">2</span>, p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="é€†å…ƒæ±‚ç»„åˆæ•°"><a href="#é€†å…ƒæ±‚ç»„åˆæ•°" class="headerlink" title="é€†å…ƒæ±‚ç»„åˆæ•°"></a>é€†å…ƒæ±‚ç»„åˆæ•°</h5><p>ä»ç»„åˆæ•°åŸå…¬å¼å‡ºå‘<br>$$<br>C_n^m=\frac{n!}{m!(n-m)!}=\frac{n\times (n-1)\timesâ€¦\times(n-m+1)}{m!}<br>$$</p><p>å¯¹äºåˆ†å­ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¼ ç»Ÿæ–¹æ³•ï¼Œè¾¹ä¹˜è¾¹æ¨¡ï¼Œå¯¹äºåˆ†æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æ±‚é€†å…ƒå†ä¹˜åˆ†å­ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Montgomery</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">long</span> <span class="keyword">long</span> c)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> % c;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> temp = a;</span><br><span class="line"><span class="keyword">while</span> (b &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (b &amp; <span class="number">1</span>) result = (result * temp) % c;</span><br><span class="line">temp = (temp * temp) % c;</span><br><span class="line">b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getInverse</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> x, <span class="keyword">long</span> <span class="keyword">long</span> p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> Montgomery(x, p - <span class="number">2</span>, p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">c</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> n, <span class="keyword">long</span> <span class="keyword">long</span> m, <span class="keyword">long</span> <span class="keyword">long</span> p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> x = <span class="number">1</span>, y = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = n; i &gt;= n - m + <span class="number">1</span>; --i) x = x * i % p;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">long</span> <span class="keyword">long</span> i = <span class="number">1</span>; i &lt;= m; ++i) y = y * i % p;</span><br><span class="line"><span class="keyword">return</span> x * getInverse(y, p) % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> n, m, p;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; p;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; c(n, m, p);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼š$p$ ä¸€å®šè¦æ˜¯å¤§è´¨æ•°ï¼Œèµ·ç å¾—å¤§äº $m$ã€‚è‹¥è¦æ±‚ $a$ åœ¨æ¨¡ $p$ ä¸‹çš„ä¹˜æ³•é€†å…ƒï¼Œå¿…é¡»è¦ä¿è¯ $a$ ä¸ $p$ äº’è´¨ã€‚åœ¨æ­¤é¢˜ä¸­ï¼Œè¦æ±‚ $m!$ çš„ä¹˜æ³•é€†å…ƒï¼Œé‚£ä¹ˆ $p$ å¿…é¡»ä¸ $m!$ äº’è´¨ï¼Œæ‰€ä»¥ $p$ è¦å¤§äº $m$ï¼Œä¸”æ˜¯ä¸ªè´¨æ•°ã€‚<del>æˆ‘ä¸€å¼€å§‹å¿˜è®°äº†è¿™ç‚¹ï¼Œå¯¼è‡´è°ƒäº†ä¸€å¹´</del></strong></p><h4 id="æ–¹æ³•ä¸‰ï¼šå¢å¡æ–¯å®šç†"><a href="#æ–¹æ³•ä¸‰ï¼šå¢å¡æ–¯å®šç†" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šå¢å¡æ–¯å®šç†"></a>æ–¹æ³•ä¸‰ï¼šå¢å¡æ–¯å®šç†</h4><p><strong>é€‚ç”¨äºå¯¹ç­”æ¡ˆæ¨¡ä¸€ä¸ªè´¨æ•°çš„æƒ…å†µã€‚</strong><br>ä¸é€†å…ƒä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•ä¸è¦æ±‚ $p$ æ˜¯ä¸ªå¾ˆå¤§çš„ç´ æ•°ï¼Œå› æ­¤ï¼Œé€‚ç”¨èŒƒå›´æ›´å¹¿ï¼ˆä¹Ÿè®¸å§ï¼‰ã€‚<br><strong><a href="https://zh.wikipedia.org/wiki/%E5%8D%A2%E5%8D%A1%E6%96%AF%E5%AE%9A%E7%90%86" target="_blank" rel="noopener">å¢å¡æ–¯å®šç†</a></strong>ï¼š<br>å¯¹äºéè´Ÿæ•´æ•° $m$ å’Œ $n$ åŠç´ æ•° $p$ï¼Œæœ‰åŒä½™å¼ï¼š<br>$$<br>\binom{n}{m}\equiv\prod_{i=0}^k\binom{n_i}{m_i} \pmod p<br>$$<br>æˆç«‹ã€‚å…¶ä¸­ï¼š<br>$$<br>n=n_kp^k+n_{k-1}p^{k-1}+â€¦+n_1p+n_0<br>$$<br>å¹¶ä¸”<br>$$<br>m=m_kp^k+m_{k-1}p^{k-1}+â€¦+m_1p+m_0<br>$$<br>ä»¥ä¸Šä¸¤ä¸ªå¼å­æ˜¯ $n$ å’Œ $m$ çš„ $p$ è¿›åˆ¶å±•å¼€ã€‚å½“ $m &lt; n$ æ—¶ï¼ŒäºŒé¡¹å¼ç³»æ•° $\binom{n}{m}=0$ã€‚<br>å¯ä»¥é€šè¿‡<a href="https://www.luogu.org/blog/user28007/lucas" target="_blank" rel="noopener">ä¸€ç³»åˆ—çš„æ¨å¯¼</a>å¾—å‡ºä¸‹é¢è¿™ä¸ªç»“è®ºï¼š<br>$$<br>\binom{n}{m}\equiv\binom{\lfloor\frac{n}{p}\rfloor}{\lfloor\frac{m}{p}\rfloor}\times \binom{n\bmod p}{m\bmod p} \pmod p<br>$$<br>ç”±è¿™ä¸ªå…¬å¼æˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š<strong>åœ¨ $n$ å’Œ $m$ éƒ½å°äº $p$ æ—¶ï¼Œå…¬å¼ä¸€ç‚¹ç”¨éƒ½æ²¡æœ‰ã€‚ï¼ˆå•¥ï¼Ÿä½ é—®æˆ‘ä¸ºä»€ä¹ˆï¼Ÿ$\binom{0}{0}=1$ å•Šï¼ï¼‰</strong>æ‰€ä»¥è¿™ä¸ªå…¬å¼æ˜¯åœ¨ $n\geqslant p$ æˆ– $m\geqslant p$ çš„æƒ…å†µä¸‹ä½¿ç”¨çš„ã€‚è¿™æ ·å¯ä»¥å‡å° $n$ å’Œ $m$ï¼Œä½¿ä¹‹å°äº $p$ï¼Œå†ç”¨ä¹˜æ³•é€†å…ƒå»æ±‚ç»„åˆæ•°ã€‚ </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">Montgomery</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b, <span class="keyword">long</span> <span class="keyword">long</span> c)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (b == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> % c;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> result = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> temp = a;</span><br><span class="line"><span class="keyword">while</span> (b &gt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (b &amp; <span class="number">1</span>) result = (result * temp) % c;</span><br><span class="line">temp = (temp * temp) % c;</span><br><span class="line">b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">getInverse</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a, <span class="keyword">long</span> <span class="keyword">long</span> b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> Montgomery(a, b - <span class="number">2</span>, b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">c</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> m, <span class="keyword">int</span> p)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (m == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span> % p;</span><br><span class="line"><span class="keyword">if</span> (n == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (n &gt;= p || m &gt;= p) <span class="keyword">return</span> c(n / p, m / p, p) * c(n % p, m % p, p) % p;</span><br><span class="line"><span class="comment">// æ ¸å¿ƒè¯­å¥</span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> x = <span class="number">1</span>, y = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = n; i &gt;= n - m + <span class="number">1</span>; --i) x = x * i % p;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) y = y * i % p;</span><br><span class="line"><span class="keyword">return</span> x * getInverse(y, p) % p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> n, m, p;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; p;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; c(n, m, p);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœªå®Œå¾…ç»­â€¦â€¦"><a href="#æœªå®Œå¾…ç»­â€¦â€¦" class="headerlink" title="æœªå®Œå¾…ç»­â€¦â€¦"></a>æœªå®Œå¾…ç»­â€¦â€¦</h3><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;æ¨¡è¿ç®—åœ¨ OI ä¸­æ˜¯éå¸¸ç¥å¥‡çš„å­˜åœ¨ï¼Œæœ‰æ—¶å€™é¢˜ç›®ä¼šéå¸¸å¥½ï¼ˆmï¼‰å¿ƒï¼ˆmï¼‰åœ°ï¼ˆpï¼‰è®©æˆ‘ä»¬å°†ç­”æ¡ˆå–æ¨¡ï¼Œç„¶è€Œè®¡ç®—æ¨¡çš„æ–¹æ³•éšç€é¢˜ç›®çš„å˜åŒ–è€Œå˜åŒ–ï¼Œç½‘ä¸Šå¾ˆå¤šåšå®¢åˆå¤ªé›¶æ•£ï¼Œè¿™é‡Œç—›ä¸‹å†³å¿ƒæ€»ç»“ä¸€ä¸‹ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°è®º" scheme="http://walesexcitedmei.github.io/categories/%E6%95%B0%E8%AE%BA/"/>
    
    
      <category term="æ•°è®º" scheme="http://walesexcitedmei.github.io/tags/%E6%95%B0%E8%AE%BA/"/>
    
      <category term="æ¨¡è¿ç®—" scheme="http://walesexcitedmei.github.io/tags/%E6%A8%A1%E8%BF%90%E7%AE%97/"/>
    
  </entry>
  
  <entry>
    <title>[C++ å¥‡æŠ€æ·«å·§] æµè¿­ä»£å™¨ä½¿ç”¨</title>
    <link href="http://walesexcitedmei.github.io/2018/08/17/C-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7-%E6%B5%81%E8%BF%AD%E4%BB%A3%E5%99%A8%E4%BD%BF%E7%94%A8/"/>
    <id>http://walesexcitedmei.github.io/2018/08/17/C-å¥‡æŠ€æ·«å·§-æµè¿­ä»£å™¨ä½¿ç”¨/</id>
    <published>2018-08-17T11:09:16.000Z</published>
    <updated>2018-09-25T12:58:18.144Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>è‡ªä»ç†ŸçŸ¥äº† STL åº“è¿™ä¸ªä¸œè¥¿ï¼Œæˆ‘å°±å†ä¹Ÿç¦»ä¸å¼€å®ƒäº†ï¼Œä»¥å‰ä¸€ç›´ä»¥ä¸º<strong>åªæœ‰å®¹å™¨æ‰ä¼šæœ‰è¿­ä»£å™¨å¯ä»¥ç”¨</strong>ï¼Œç„¶è€Œè¿™æ˜¯å› ä¸ºè‡ªå·±çš„çŸ¥è¯†æ°´å¹³è¿˜ä¸å¤Ÿé«˜ï¼Œä»Šå¤©å°±ä»‹ç»ä¸€ä¸‹æµè¿­ä»£å™¨è¿™ç§ç¥å¥‡çš„å­˜åœ¨ã€‚</p><a id="more"></a><h3 id="æµè¿­ä»£å™¨"><a href="#æµè¿­ä»£å™¨" class="headerlink" title="æµè¿­ä»£å™¨"></a>æµè¿­ä»£å™¨</h3><p><strong>iostream è¿­ä»£å™¨ï¼ˆiostream iteratorï¼‰</strong>ï¼šä¸è¾“å…¥æˆ–è¾“å‡ºæµç»‘å®šåœ¨ä¸€èµ·ï¼Œç”¨äºè¿­ä»£éå†æ‰€å…³è”çš„ IO æµã€‚</p><p>è™½ç„¶ <code>iostream</code> ç±»å‹ä¸æ˜¯å®¹å™¨ï¼Œä½†æ ‡å‡†åº“åŒæ ·æä¾›äº†åœ¨ <code>iostream</code> å¯¹è±¡ä¸Šä½¿ç”¨çš„è¿­ä»£å™¨ï¼š<code>istream_iterator</code> ç”¨äºè¯»å–è¾“å…¥æµï¼Œè€Œ <code>ostream_iterator</code> åˆ™ç”¨äºå†™è¾“å‡ºæµã€‚è¿™äº›è¿­ä»£å™¨å°†å®ƒä»¬æ‰€å¯¹åº”çš„æµè§†ä¸ºç‰¹å®šç±»å‹çš„<strong>å…ƒç´ åºåˆ—</strong>ã€‚</p><p>ä¸‹é¢åˆ—å‡ºæµè¿­ä»£å™¨çš„ä½¿ç”¨æ–¹æ³•ï¼š</p><table><thead><tr><th style="text-align:center"><code>iostream</code>  è¿­ä»£å™¨çš„æ„é€ å‡½æ•°</th><th style="text-align:center">å¯¹åº”çš„æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>istream_iterator&lt;T&gt; in(strm)</code></td><td style="text-align:center">åˆ›å»ºä»è¾“å…¥æµ <code>strm</code> ä¸­è¯»å–Tç±»å‹å¯¹è±¡çš„ <code>istream_iterator</code> å¯¹è±¡</td></tr><tr><td style="text-align:center"><code>istream_terator&lt;T&gt; in</code></td><td style="text-align:center"><code>istream_iterator</code> å¯¹è±¡çš„è¶…å‡ºæœ«ç«¯è¿­ä»£å™¨</td></tr><tr><td style="text-align:center"><code>ostream_iterator&lt;T&gt; out(strm)</code></td><td style="text-align:center">åˆ›å»ºå°†Tç±»å‹çš„å¯¹è±¡å†™åˆ°è¾“å‡ºæµ <code>strm</code> çš„ <code>ostream_iterator</code> å¯¹è±¡</td></tr><tr><td style="text-align:center"><code>ostream_iterator&lt;T&gt; out(str, delim)</code></td><td style="text-align:center">åˆ›å»ºå°† <code>T</code> ç±»å‹çš„å¯¹è±¡å†™åˆ°è¾“å‡ºæµ <code>strm</code> çš„ <code>ostream_iterator</code> å¯¹è±¡ï¼Œåœ¨å†™å…¥è¿‡ç¨‹ä¸­ä½¿ç”¨ <code>delim</code> ä½œä¸ºå…ƒç´ çš„åˆ†éš”ç¬¦ã€‚<code>delim</code> æ˜¯ä»¥ç©ºå­—ç¬¦ç»“æŸçš„å­—ç¬¦æ•°ç»„ï¼ˆCé£æ ¼å­—ç¬¦ä¸²ï¼‰ã€‚</td></tr></tbody></table><table><thead><tr><th style="text-align:center"><code>istream_iterator</code> çš„æ“ä½œ</th><th style="text-align:center">å¯¹åº”çš„æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>it1 == it2; it1 != it2</code></td><td style="text-align:center">æ¯”è¾ƒä¸¤ä¸Š <code>istream_iterator</code> å¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼ˆä¸ç­‰ï¼‰ã€‚è¿­ä»£å™¨è¯»å–çš„å¿…é¡»æ˜¯ç›¸åŒçš„ç±»å‹ã€‚å¦‚æœä¸¤ä¸ªè¿­ä»£å™¨éƒ½æ˜¯ <code>end</code> å€¼ï¼Œåˆ™å®ƒä»¬ç›¸ç­‰ã€‚å¯¹äºä¸¤ä¸ªéƒ½ä¸æŒ‡å‘æµç»“æŸä½ç½®çš„è¿­ä»£å™¨ï¼Œå¦‚æœå®ƒä»¬ä½¿ç”¨åŒä¸€ä¸ªè¾“å…¥æµæ„é€ ï¼Œåˆ™å®ƒä»¬ä¹Ÿç›¸ç­‰</td></tr><tr><td style="text-align:center"><code>*it</code></td><td style="text-align:center">è¿”å›ä»æµä¸­è¯»å–çš„å€¼</td></tr><tr><td style="text-align:center"><code>it-&gt;mem</code></td><td style="text-align:center">æ˜¯ <code>(*it).mem</code> çš„åŒä¹‰è¯ã€‚è¿”å›ä»æµä¸­è¯»å–çš„å¯¹è±¡çš„ mem æˆå‘˜</td></tr><tr><td style="text-align:center"><code>++it; it++</code></td><td style="text-align:center">é€šè¿‡ä½¿ç”¨å…ƒç´ ç±»å‹æä¾›çš„ <code>&gt;&gt;</code> æ“ä½œä»è¾“å…¥æµä¸­è¯»å–ä¸‹ä¸€ä¸ªå…ƒç´ å€¼ï¼Œä½¿è¿­ä»£å™¨å‘å‰ç§»åŠ¨ã€‚é€šå¸¸ï¼Œå‰ç¼€ç‰ˆæœ¬ä½¿ç”¨è¿­ä»£å™¨åœ¨æµä¸­å‘å‰ç§»åŠ¨ï¼Œå¹¶è¿”å›å¯¹åŠ  $1$ åçš„è¿­ä»£å™¨çš„å¼•ç”¨ã€‚è€Œåç¼€ç‰ˆæœ¬ä½¿è¿­ä»£å™¨åœ¨æµä¸­å‘å‰ç§»åŠ¨åï¼Œè¿”å›åŸå€¼</td></tr></tbody></table><p><strong>æ³¨ï¼šæµè¿­ä»£å™¨éƒ½æ˜¯ç±»æ¨¡æ¿ï¼šä»»ä½•å·²å®šä¹‰è¾“å…¥æ“ä½œç¬¦ï¼ˆ<code>&gt;&gt;</code> æ“ä½œç¬¦ï¼‰çš„ç±»å‹éƒ½å¯ä»¥å®šä¹‰istream_iteratorã€‚ä»»ä½•å·²å®šä¹‰è¾“å‡ºæ“ä½œç¬¦ï¼ˆ<code>&lt;&lt;</code> æ“ä½œç¬¦ï¼‰çš„ç±»å‹å¯å®šä¹‰ <code>ostream_iterator</code>ã€‚</strong> </p><h3 id="æµè¿­ä»£å™¨ä½¿ç”¨"><a href="#æµè¿­ä»£å™¨ä½¿ç”¨" class="headerlink" title="æµè¿­ä»£å™¨ä½¿ç”¨"></a>æµè¿­ä»£å™¨ä½¿ç”¨</h3><p><strong>æ³¨ï¼šè¿­ä»£å™¨çš„å¤´æ–‡ä»¶åˆ«å¿˜è®°å¼•å…¥ã€‚ <code>#include &lt;iterator&gt;</code></strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; cinIter(<span class="built_in">cin</span>);</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; endOfStream;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec;</span><br><span class="line"><span class="keyword">while</span> (cinIter != endOfStream)</span><br><span class="line"><span class="comment">//æ³¨æ„++å…ˆå¼•ç”¨åå¢å€¼ï¼Œä¸èƒ½å†™å‡ºå‰ç¼€</span></span><br><span class="line">vec.push_back(*cinIter++);</span><br><span class="line"><span class="comment">//ä¹Ÿå¯ä»¥å†™æˆ  vector&lt;int&gt; vec(cinIter, endOfStream);</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i != vec.size(); ++i) <span class="built_in">cout</span> &lt;&lt; vec[i];</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šå…¶ä¸­ <code>end_of_stream</code> å®šä¹‰ä¸ºç©ºçš„è¿­ä»£å™¨å¯¹è±¡ï¼Œç”¨ä½œç»“æŸè¿­ä»£å™¨ã€‚ç»‘å®šæµä¸Šçš„è¿­ä»£å™¨åœ¨é‡åˆ°æ–‡ä»¶ç»“æŸæˆ–æŸä¸ªé”™è¯¯æ—¶ï¼Œå°†ç­‰äºç»“æŸè¿­ä»£å™¨çš„å€¼ã€‚</strong> </p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line">ostream_iterator&lt;<span class="built_in">string</span>&gt; outIter(<span class="built_in">cout</span>, <span class="string">"\n"</span>);</span><br><span class="line">istream_iterator&lt;<span class="built_in">string</span>&gt; inIter(<span class="built_in">cin</span>), endOfStream;</span><br><span class="line"><span class="keyword">while</span>(endOfStream != inIter)</span><br><span class="line">*outIter++ = *inIter++; </span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨ï¼šæ‰§è¡Œé¡ºåºæ˜¯å…ˆ <code>iter++</code>ï¼Œè¿”å› <code>iter</code>ï¼Œæœ€å <code>*iter</code>ã€‚</strong><br><strong>æ³¨æ„è¾“å‡ºï¼Œè¾“å…¥ <code>1 2 3 4 5</code>ï¼ŒæŒ‰ <code>enter</code> è¾“å‡º <code>1\n2\n3\n4\n</code>ï¼ŒæŒ‰ <code>ctrl+z</code> è¾“å‡º <code>5</code>ã€‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line"><span class="function">ifstream <span class="title">infile</span><span class="params">(<span class="string">"in.txt"</span>)</span></span>;</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; cinIter(infile);</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; endOfStream;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(cinIter, endOfStream);</span><br><span class="line">sort(vec.begin(), vec.end());</span><br><span class="line">ostream_iterator&lt;<span class="keyword">int</span>&gt; output(<span class="built_in">cout</span>, <span class="string">" "</span>);</span><br><span class="line">unique_copy(vec.begin(), vec.end(), output);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹è¾“å…¥/è¾“å‡ºï¼š</p><pre><code>INPUT(in.txt): 1 2 2 2 5 5 6 6 7 8 9 10 9 100        OUTPUT: 1 2 5 6 7 8 9 10 100</code></pre><h3 id="æµè¿­ä»£å™¨çš„é™åˆ¶"><a href="#æµè¿­ä»£å™¨çš„é™åˆ¶" class="headerlink" title="æµè¿­ä»£å™¨çš„é™åˆ¶"></a>æµè¿­ä»£å™¨çš„é™åˆ¶</h3><ul><li>ä¸å¯èƒ½ä» <code>ostream_iterator</code> å¯¹è±¡è¯»å…¥ï¼Œä¹Ÿä¸å¯èƒ½å†™åˆ° <code>istream_iterator</code> å¯¹è±¡ä¸­ã€‚</li><li>ä¸€æ—¦ç»™ <code>ostream_iterator</code>å¯¹è±¡èµ‹äº†ä¸€ä¸ªå€¼ï¼Œå†™å…¥å°±æäº¤äº†ã€‚èµ‹å€¼åï¼Œæ²¡æœ‰åŠæ³•å†æ”¹å˜è¿™ä¸ªå€¼ã€‚æ­¤å¤–ï¼Œ<code>ostream_iterator</code> å¯¹è±¡ä¸­æ¯ä¸ªä¸åŒçš„å€¼éƒ½åªèƒ½æ­£å¥½è¾“å‡ºä¸€æ¬¡ã€‚</li><li><code>ostream_iterator</code> æ²¡æœ‰ <code>-&gt;</code> æ“ä½œç¬¦ã€‚</li></ul><h3 id="æµè¿­ä»£å™¨çš„é€Ÿåº¦"><a href="#æµè¿­ä»£å™¨çš„é€Ÿåº¦" class="headerlink" title="æµè¿­ä»£å™¨çš„é€Ÿåº¦"></a>æµè¿­ä»£å™¨çš„é€Ÿåº¦</h3><p>ä¸ºäº†æµ‹è¯•æµè¿­ä»£å™¨çš„é€Ÿåº¦ï¼Œæˆ‘å…ˆéšæœºç”Ÿæˆäº† $10000000$ ä¸ªæ•°æ®ï¼Œç”Ÿæˆä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="function">ofstream <span class="title">test</span><span class="params">(<span class="string">"in.txt"</span>)</span></span>;</span><br><span class="line">srand((<span class="keyword">unsigned</span>)time(<span class="literal">NULL</span>) * <span class="number">19260817</span>); <span class="comment">// +1s</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">10000000</span>; ++i)</span><br><span class="line">test &lt;&lt; rand() &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿­ä»£å™¨æµ‹è¯•"><a href="#è¿­ä»£å™¨æµ‹è¯•" class="headerlink" title="è¿­ä»£å™¨æµ‹è¯•"></a>è¿­ä»£å™¨æµ‹è¯•</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>::chrono;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line"><span class="keyword">auto</span> start = system_clock::now();</span><br><span class="line"><span class="function">ifstream <span class="title">infile</span><span class="params">(<span class="string">"in.txt"</span>)</span></span>;</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; cinIter(infile);</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; endOfStream;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(cinIter, endOfStream);</span><br><span class="line"><span class="keyword">auto</span> end = system_clock::now();</span><br><span class="line"><span class="keyword">auto</span> duration = duration_cast&lt;microseconds&gt;(end - start);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"cost: "</span> </span><br><span class="line"> &lt;&lt; <span class="keyword">double</span>(duration.count()) * microseconds::period::num / microseconds::period::den </span><br><span class="line"> &lt;&lt; <span class="string">" seconds"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><pre><code>cost: 10.7543 seconds</code></pre><p><strong>æ³¨ï¼šä¸ºäº†æµ‹è¯•æ—¶é—´å°½é‡ç²¾å‡†ï¼Œè¿™é‡Œå¼•å…¥äº† <code>chrono</code> åº“ï¼Œä½¿ç”¨äº†æ”¯æŒ C++ 11 çš„ gcc 7.3.0ï¼Œå¹¶ä¸”æ˜¯åœ¨ Linux(Ubuntu) ä¸Šç¼–è¯‘è¿è¡Œçš„ï¼Œé‰´äºç¼–è¯‘å™¨çš„ä¼˜åŒ–èƒ½åŠ›ä¸€ä¸ªç‰ˆæœ¬æ¯”ä¸€ä¸ªç‰ˆæœ¬å¼ºï¼Œæ­¤å¤„æ²¡æœ‰å¼€ä¼˜åŒ–ä½†ç»“æœä»å¯èƒ½æœ‰è¯¯å·®ï¼Œä¸ OI ä¸­ä½¿ç”¨è¿­ä»£å™¨çš„é€Ÿåº¦ä¸ä¸€æ ·ï¼Œè¯»è€…å¯ä»¥ä½¿ç”¨åˆ«çš„åº“å†è¿›è¡Œå®éªŒã€‚</strong></p><h4 id="å¼€äº†-O-2-ä¼˜åŒ–çš„æµè¿­ä»£å™¨"><a href="#å¼€äº†-O-2-ä¼˜åŒ–çš„æµè¿­ä»£å™¨" class="headerlink" title="å¼€äº† $O_2$ ä¼˜åŒ–çš„æµè¿­ä»£å™¨"></a>å¼€äº† $O_2$ ä¼˜åŒ–çš„æµè¿­ä»£å™¨</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">pragma</span> GCC optimize(2)</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iterator&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>::chrono;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line"><span class="keyword">auto</span> start = system_clock::now();</span><br><span class="line"><span class="function">ifstream <span class="title">infile</span><span class="params">(<span class="string">"in.txt"</span>)</span></span>;</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; cinIter(infile);</span><br><span class="line">istream_iterator&lt;<span class="keyword">int</span>&gt; endOfStream;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vec(cinIter, endOfStream);</span><br><span class="line"><span class="keyword">auto</span> end = system_clock::now();</span><br><span class="line"><span class="keyword">auto</span> duration = duration_cast&lt;microseconds&gt;(end - start);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"cost: "</span> </span><br><span class="line"> &lt;&lt; <span class="keyword">double</span>(duration.count()) * microseconds::period::num / microseconds::period::den </span><br><span class="line"> &lt;&lt; <span class="string">" seconds"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><pre><code>cost: 2.31234 seconds</code></pre><p><strong>æ³¨ï¼šå¼€äº†ä¼˜åŒ–çš„ç»“æœï¼Œè¯»è€…è‡ªè¡Œåˆ¤æ–­</strong></p><h4 id="OI-ä¸­å¿«è¯»çš„æ—¶é—´æµ‹è¯•"><a href="#OI-ä¸­å¿«è¯»çš„æ—¶é—´æµ‹è¯•" class="headerlink" title="OI ä¸­å¿«è¯»çš„æ—¶é—´æµ‹è¯•"></a>OI ä¸­å¿«è¯»çš„æ—¶é—´æµ‹è¯•</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;chrono&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cctype&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>::chrono;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line">x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">bool</span> sign = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">char</span> ch = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (!<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">sign |= (ch == <span class="string">'-'</span>);</span><br><span class="line">ch = getchar();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">while</span> (<span class="built_in">isdigit</span>(ch)) &#123;</span><br><span class="line">x = (x &lt;&lt; <span class="number">3</span>) + (x &lt;&lt; <span class="number">1</span>) + (ch ^ <span class="number">48</span>);</span><br><span class="line">ch = getchar();</span><br><span class="line">&#125;</span><br><span class="line">x = sign ? -x : x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> **argv)</span> </span>&#123;</span><br><span class="line"><span class="keyword">auto</span> start = system_clock::now();</span><br><span class="line">freopen(<span class="string">"in.txt"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; a;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000000</span>; ++i) &#123;</span><br><span class="line">read(x);</span><br><span class="line">a.push_back(x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">auto</span> end = system_clock::now();</span><br><span class="line"><span class="keyword">auto</span> duration = duration_cast&lt;microseconds&gt;(end - start);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="string">"cost: "</span> </span><br><span class="line"> &lt;&lt; <span class="keyword">double</span>(duration.count()) * microseconds::period::num / microseconds::period::den </span><br><span class="line"> &lt;&lt; <span class="string">" seconds"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœ</p><pre><code>cost: 2.61905 seconds</code></pre><p><strong>æ³¨ï¼šå¿«è¯»çš„å†™æ³•ä¹Ÿè®¸ä¸æ˜¯æœ€ä¼˜ï¼Œè¯»è€…å¯ä»¥è‡ªè¡Œå®éªŒã€‚</strong></p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>äº‹å®ä¸Šï¼ŒæŠ›å¼€ OI æ¯”èµ›ä¸è¯´ï¼ŒSTL çš„åº“ä½¿ç”¨ä¼˜åŒ–è¿˜æ˜¯å¾ˆå¼ºçš„ï¼Œä½†æ˜¯ OI ä¸­å˜›ï¼Œå¦‚æœä½œå¤§æ­»ç”¨è¿™ä¸ªä¹Ÿè®¸çœŸçš„ä¼šå´©ã€‚è‡³äºæœ‰å…³ STL é€Ÿåº¦çš„è®¨è®ºå¯ä»¥çœ‹<a href="https://www.zhihu.com/question/51650118" target="_blank" rel="noopener">è¿™é‡Œ</a>ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;è‡ªä»ç†ŸçŸ¥äº† STL åº“è¿™ä¸ªä¸œè¥¿ï¼Œæˆ‘å°±å†ä¹Ÿç¦»ä¸å¼€å®ƒäº†ï¼Œä»¥å‰ä¸€ç›´ä»¥ä¸º&lt;strong&gt;åªæœ‰å®¹å™¨æ‰ä¼šæœ‰è¿­ä»£å™¨å¯ä»¥ç”¨&lt;/strong&gt;ï¼Œç„¶è€Œè¿™æ˜¯å› ä¸ºè‡ªå·±çš„çŸ¥è¯†æ°´å¹³è¿˜ä¸å¤Ÿé«˜ï¼Œä»Šå¤©å°±ä»‹ç»ä¸€ä¸‹æµè¿­ä»£å™¨è¿™ç§ç¥å¥‡çš„å­˜åœ¨ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å¥‡æŠ€æ·«å·§" scheme="http://walesexcitedmei.github.io/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"/>
    
    
      <category term="C++ å¥‡æŠ€æ·«å·§" scheme="http://walesexcitedmei.github.io/tags/C-%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/"/>
    
      <category term="è¿­ä»£å™¨" scheme="http://walesexcitedmei.github.io/tags/%E8%BF%AD%E4%BB%A3%E5%99%A8/"/>
    
      <category term="iostream" scheme="http://walesexcitedmei.github.io/tags/iostream/"/>
    
  </entry>
  
  <entry>
    <title>[ç®—æ³•] Manacher ç®—æ³•æ±‚æœ€é•¿å›æ–‡å­ä¸²</title>
    <link href="http://walesexcitedmei.github.io/2018/08/14/%E7%AE%97%E6%B3%95-Manacher-%E7%AE%97%E6%B3%95%E6%B1%82%E6%9C%80%E9%95%BF%E5%9B%9E%E6%96%87%E5%AD%90%E4%B8%B2/"/>
    <id>http://walesexcitedmei.github.io/2018/08/14/ç®—æ³•-Manacher-ç®—æ³•æ±‚æœ€é•¿å›æ–‡å­ä¸²/</id>
    <published>2018-08-14T11:30:29.000Z</published>
    <updated>2018-09-25T12:58:18.206Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æœ€è¿‘å‡ æ¬¡è€ƒè¯•éƒ½æ¶‰åŠåˆ°äº†å­—ç¬¦ä¸²å¤„ç†è¿™ä¸ªè¯é¢˜ï¼Œæ‰€ä»¥è‡ªå·±æ‰“ç®—æ¶è¡¥å­—ç¬¦ä¸²æœ‰å…³çš„ç®—æ³•ï¼ŒåŒæ—¶åˆåˆšå¥½åšåˆ°äº† LeetCode ä¸Š<a href="https://leetcode-cn.com/problems/longest-palindromic-substring/description/" target="_blank" rel="noopener">è¿™ä¹ˆä¸€é“é¢˜</a>ï¼Œæ‰€ä»¥å¹²è„†ä¸€åŒè§£å†³æ‰ã€‚</p><a id="more"></a><h3 id="æœ€é•¿å›æ–‡å­—ä¸²é—®é¢˜"><a href="#æœ€é•¿å›æ–‡å­—ä¸²é—®é¢˜" class="headerlink" title="æœ€é•¿å›æ–‡å­—ä¸²é—®é¢˜"></a>æœ€é•¿å›æ–‡å­—ä¸²é—®é¢˜</h3><p><strong>æœ€é•¿å›æ–‡å­ä¸²é—®é¢˜ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ±‚å®ƒçš„æœ€é•¿å›æ–‡å­ä¸²é•¿åº¦ã€‚</strong><br>å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²æ­£ç€è¯»å’Œåç€è¯»æ˜¯ä¸€æ ·çš„ï¼Œé‚£å®ƒå°±æ˜¯å›æ–‡ä¸²ã€‚ä¸‹é¢æ˜¯ä¸€äº›å›æ–‡ä¸²çš„å®ä¾‹ï¼š</p><pre><code>12321 a aba abba aaaa tattarrattatï¼ˆç‰›æ´¥è‹±è¯­è¯å…¸ä¸­æœ€é•¿çš„å›æ–‡å•è¯</code></pre><p>é‚£ä¹ˆå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæœ‰å¾ˆå¤šç§æ–¹æ³•ï¼š</p><ol><li>Brute-Force æš´åŠ›æ±‚è§£ï¼šæ‰¾åˆ°æ‰€æœ‰å­—ä¸²ï¼Œä¸€ä¸€éªŒè¯ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n^3)$</li><li>æ”¹è¿›ç‰ˆ Brute-Forceï¼šéå†æ•´ä¸ªå­—ç¬¦ä¸²çš„ä¸­é—´å­—ç¬¦åŠç©ºéš™ï¼Œç„¶åå‘ä¸¤ç«¯æ‰«æï¼Œæ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ã€‚</li><li>åŠ¨æ€è§„åˆ’ï¼Œæ­¤å¤„æš‚æ—¶ä¸ä»‹ç»</li><li>ä¸‹é¢å°†è¦ä»‹ç»çš„ Manacher ç®—æ³•ï¼Œåˆå<strong><em>é©¬æ‹‰è½¦</em></strong>ã€‚</li></ol><h3 id="Manacher-ç®—æ³•"><a href="#Manacher-ç®—æ³•" class="headerlink" title="Manacher ç®—æ³•"></a>Manacher ç®—æ³•</h3><h4 id="æš´åŠ›è§£æ³•çš„ç¼ºé™·æ‰€åœ¨"><a href="#æš´åŠ›è§£æ³•çš„ç¼ºé™·æ‰€åœ¨" class="headerlink" title="æš´åŠ›è§£æ³•çš„ç¼ºé™·æ‰€åœ¨"></a>æš´åŠ›è§£æ³•çš„ç¼ºé™·æ‰€åœ¨</h4><ol><li>å›æ–‡ä¸²å¥‡å¶æ€§ä¸å®šï¼Œä½¿ç”¨ä¸Šè¿°æ–¹æ³•äºŒéœ€è¦åˆ†ç±»è®¨è®ºï¼Œé™ä½æ•ˆç‡ã€‚</li><li>å­—ä¸²é‡å¤è®¿é—®ï¼Œæ—¶é—´å¤æ‚åº¦å†—ä½™ã€‚</li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre><code>char: a b a b a   i: 0 1 2 3 4</code></pre><p>åœ¨ $i=1$ å’Œ $i=2$ æ—¶ï¼Œå­—ä¸² <code>aba</code> è¢«åˆ†åˆ«éå†äº†ä¸€æ¬¡ã€‚<br>Manacher ç®—æ³•æ­£å¼é’ˆå¯¹è¿™äº›ç®—æ³•è¿›è¡Œæ”¹è¿›çš„ç®—æ³•ï¼Œå¯ä»¥å¤§å¤§æé«˜ç®—æ³•çš„è¿è¡Œæ•ˆç‡ã€‚</p><h4 id="è§£å†³é•¿åº¦å¥‡å¶æ€§é—®é¢˜"><a href="#è§£å†³é•¿åº¦å¥‡å¶æ€§é—®é¢˜" class="headerlink" title="è§£å†³é•¿åº¦å¥‡å¶æ€§é—®é¢˜"></a>è§£å†³é•¿åº¦å¥‡å¶æ€§é—®é¢˜</h4><p>Manacher ç®—æ³•é€šè¿‡ä¸€ç§é¢„å¤„ç†æ–¹å¼æ¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œå®ƒåœ¨å­—ç¬¦ä¸²é¦–å°¾åŠä¸­é—´ç©ºéš™æ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”æ»¡è¶³è¿™ä¸ªç¬¦å·ä¸åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°ï¼Œè¿™æ ·å°±å¯ä»¥è®©æ‰€æœ‰çš„å­—ç¬¦ä¸²é•¿åº¦å˜ä¸ºå¥‡æ•°ã€‚ä»¥æ’å…¥<code>#</code>ä¸ºä¾‹ï¼š</p><pre><code>aba  --&gt; #a#b#a#abba --&gt; #a#b#b#a#</code></pre><p><strong>æ’å…¥çš„æ˜¯åŒæ ·çš„ç¬¦å·ï¼Œä¸”ç¬¦å·ä¸å­˜åœ¨äºåŸä¸²ï¼Œå› æ­¤å­ä¸²çš„å›æ–‡æ€§ä¸å—å½±å“ï¼ŒåŸæ¥æ˜¯å›æ–‡çš„ä¸²ï¼Œæ’å®Œä¹‹åè¿˜æ˜¯å›æ–‡çš„ï¼ŒåŸæ¥ä¸æ˜¯å›æ–‡çš„ï¼Œä¾ç„¶ä¸ä¼šæ˜¯å›æ–‡</strong></p><h4 id="è§£å†³é‡å¤è®¿é—®é—®é¢˜"><a href="#è§£å†³é‡å¤è®¿é—®é—®é¢˜" class="headerlink" title="è§£å†³é‡å¤è®¿é—®é—®é¢˜"></a>è§£å†³é‡å¤è®¿é—®é—®é¢˜</h4><p>æˆ‘ä»¬æŠŠä¸€ä¸ªå›æ–‡ä¸²ä¸­æœ€å·¦æˆ–æœ€å³ä½ç½®çš„å­—ç¬¦ä¸å…¶å¯¹ç§°è½´çš„è·ç¦»ç§°ä¸ºå›æ–‡åŠå¾„ã€‚Manacherå®šä¹‰äº†ä¸€ä¸ªå›æ–‡åŠå¾„æ•°ç»„ $RL$ï¼Œç”¨ $RL[i]$ è¡¨ç¤ºä»¥ç¬¬ $i$ ä¸ªå­—ç¬¦ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²çš„å›æ–‡åŠå¾„ã€‚æˆ‘ä»¬ä¸€èˆ¬å¯¹å­—ç¬¦ä¸²ä»å·¦å¾€å³å¤„ç†ï¼Œå› æ­¤è¿™é‡Œå®šä¹‰ $RL[i]$ ä¸ºç¬¬ $i$ ä¸ªå­—ç¬¦ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²çš„æœ€å³ä¸€ä¸ªå­—ç¬¦ä¸å­—ç¬¦ $i$ çš„è·ç¦»ã€‚å¯¹äºä¸Šé¢æ’å…¥åˆ†éš”ç¬¦ä¹‹åçš„ä¸¤ä¸ªä¸²ï¼Œå¯ä»¥å¾—åˆ° $RL$ æ•°ç»„ï¼š</p><table><thead><tr><th style="text-align:center">$char$</th><th style="text-align:center">#</th><th style="text-align:center">$a$</th><th style="text-align:center">#</th><th style="text-align:center">$b$</th><th style="text-align:center">#</th><th style="text-align:center">$a$</th><th style="text-align:center">#</th></tr></thead><tbody><tr><td style="text-align:center">$RL$</td><td style="text-align:center">$1$</td><td style="text-align:center">$2$</td><td style="text-align:center">$1$</td><td style="text-align:center">$4$</td><td style="text-align:center">$1$</td><td style="text-align:center">$2$</td><td style="text-align:center">$1$</td></tr><tr><td style="text-align:center">$RL-1$</td><td style="text-align:center">$0$</td><td style="text-align:center">$1$</td><td style="text-align:center">$0$</td><td style="text-align:center">$3$</td><td style="text-align:center">$0$</td><td style="text-align:center">$1$</td><td style="text-align:center">$0$</td></tr><tr><td style="text-align:center">$i$</td><td style="text-align:center">$0$</td><td style="text-align:center">$1$</td><td style="text-align:center">$2$</td><td style="text-align:center">$3$</td><td style="text-align:center">$4$</td><td style="text-align:center">$5$</td><td style="text-align:center">$6$</td></tr></tbody></table><p>ä¸Šé¢æˆ‘ä»¬è¿˜æ±‚äº†ä¸€ä¸‹ $RL[i]-1$ã€‚é€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œ$RL[i]-1$çš„å€¼ï¼Œæ­£æ˜¯åœ¨åŸæœ¬é‚£ä¸ªæ²¡æœ‰æ’å…¥è¿‡åˆ†éš”ç¬¦çš„ä¸²ä¸­ï¼Œä»¥ä½ç½®iä¸ºå¯¹ç§°è½´çš„æœ€é•¿å›æ–‡ä¸²çš„é•¿åº¦ã€‚é‚£ä¹ˆåªè¦æˆ‘ä»¬æ±‚å‡ºäº† $RL$ æ•°ç»„ï¼Œå°±èƒ½å¾—åˆ°æœ€é•¿å›æ–‡å­ä¸²çš„é•¿åº¦ã€‚</p><p>äºæ˜¯é—®é¢˜å˜æˆäº†ï¼Œ<strong>å¦‚ä½•é«˜æ•ˆåœ°æ±‚çš„ $RL$ æ•°ç»„</strong>ã€‚åŸºæœ¬æ€è·¯æ˜¯<strong>åˆ©ç”¨å›æ–‡ä¸²çš„å¯¹ç§°æ€§ï¼Œæ‰©å±•å›æ–‡ä¸²</strong>ã€‚</p><p>æˆ‘ä»¬å†å¼•å…¥ä¸€ä¸ªè¾…åŠ©å˜é‡ $MaxRight$ï¼Œè¡¨ç¤ºå½“å‰è®¿é—®åˆ°çš„<strong>æ‰€æœ‰å›æ–‡å­ä¸²</strong>ï¼Œæ‰€èƒ½è§¦åŠçš„<strong>æœ€å³</strong>ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ã€‚å¦å¤–è¿˜è¦è®°å½•ä¸‹ $MaxRight$ å¯¹åº”çš„å›æ–‡ä¸²çš„å¯¹ç§°è½´æ‰€åœ¨çš„ä½ç½®ï¼Œè®°ä¸º $pos$ï¼Œå®ƒä»¬çš„ä½ç½®å…³ç³»å¦‚ä¸‹ï¼š</p><div style="align: center"> <img src="pic1.jpg"> </div><p>æˆ‘ä»¬ä»å·¦å¾€å³åœ°è®¿é—®å­—ç¬¦ä¸²æ¥æ±‚ $RL$ï¼Œå‡è®¾å½“å‰è®¿é—®åˆ°çš„ä½ç½®ä¸º $i$ï¼Œå³è¦æ±‚ $RL[i]$ï¼Œåœ¨å¯¹åº”ä¸Šå›¾ï¼Œ$i$ å¿…ç„¶æ˜¯åœ¨ $pos$ å³è¾¹çš„ã€‚ä½†æˆ‘ä»¬æ›´å…³æ³¨çš„æ˜¯ï¼Œ$i$ æ˜¯åœ¨ $MaxRight$ çš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚æˆ‘ä»¬åˆ†æƒ…å†µæ¥è®¨è®ºï¼š</p><h5 id="æƒ…å†µä¸€ï¼š-i-åœ¨-MaxRight-å·¦è¾¹"><a href="#æƒ…å†µä¸€ï¼š-i-åœ¨-MaxRight-å·¦è¾¹" class="headerlink" title="æƒ…å†µä¸€ï¼š$i$ åœ¨ $MaxRight$ å·¦è¾¹"></a>æƒ…å†µä¸€ï¼š$i$ åœ¨ $MaxRight$ å·¦è¾¹</h5><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><div style="align: center"> <img src="pic2.jpg"> </div><p>æˆ‘ä»¬çŸ¥é“ï¼Œå›¾ä¸­ä¸¤ä¸ªçº¢è‰²å—ä¹‹é—´ï¼ˆåŒ…æ‹¬çº¢è‰²å—ï¼‰çš„ä¸²æ˜¯å›æ–‡çš„ï¼›å¹¶ä¸”ä»¥ $i$ ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²ï¼Œæ˜¯ä¸çº¢è‰²å—é—´çš„å›æ–‡ä¸²æœ‰æ‰€é‡å çš„ã€‚æˆ‘ä»¬æ‰¾åˆ° $i$ å…³äº $pos$ çš„å¯¹ç§°ä½ç½® $j$ï¼Œè¿™ä¸ª $j$ å¯¹åº”çš„ $RL[j]$ æˆ‘ä»¬æ˜¯å·²ç»ç®—è¿‡çš„ã€‚æ ¹æ®å›æ–‡ä¸²çš„å¯¹ç§°æ€§ï¼Œä»¥iä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²å’Œä»¥jä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯ç›¸åŒçš„ã€‚è¿™é‡Œåˆæœ‰ä¸¤ç§ç»†åˆ†çš„æƒ…å†µ:</p><h6 id="ä»¥-j-ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒçŸ­"><a href="#ä»¥-j-ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒçŸ­" class="headerlink" title="ä»¥ $j$ ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒçŸ­"></a>ä»¥ $j$ ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒçŸ­</h6><p>å¦‚ä¸‹å›¾ï¼š</p><div style="align: center"> <img src="pic3.jpg"> </div><p>è¿™æ—¶æˆ‘ä»¬çŸ¥é“ $RL[i]$ è‡³å°‘ä¸ä¼šå°äº $RL[j]$ï¼Œå¹¶ä¸”å·²ç»çŸ¥é“äº†éƒ¨åˆ†çš„ä»¥iä¸ºä¸­å¿ƒçš„å›æ–‡ä¸²ï¼Œäºæ˜¯å¯ä»¥ä»¤ $RL[i]=RL[j]$ã€‚ä½†æ˜¯ä»¥iä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²å¯èƒ½å®é™…ä¸Šæ›´é•¿ï¼Œå› æ­¤æˆ‘ä»¬è¯•ç€ä»¥ $i$ ä¸ºå¯¹ç§°è½´ï¼Œç»§ç»­å¾€å·¦å³ä¸¤è¾¹æ‰©å±•ï¼Œç›´åˆ°å·¦å³ä¸¤è¾¹å­—ç¬¦ä¸åŒï¼Œæˆ–è€…åˆ°è¾¾è¾¹ç•Œã€‚</p><h6 id="ä»¥-j-ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒé•¿"><a href="#ä»¥-j-ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒé•¿" class="headerlink" title="ä»¥ $j$ ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒé•¿"></a>ä»¥ $j$ ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¾ƒé•¿</h6><p>å¦‚ä¸‹å›¾ï¼š</p><div style="align: center"> <img src="pic4.jpg"> </div><p>è¿™æ—¶ï¼Œæˆ‘ä»¬åªèƒ½ç¡®å®šï¼Œä¸¤æ¡è“çº¿ä¹‹é—´çš„éƒ¨åˆ†ï¼ˆå³ä¸è¶…è¿‡ $MaxRight$ çš„éƒ¨åˆ†ï¼‰æ˜¯å›æ–‡çš„ï¼Œäºæ˜¯ä»è¿™ä¸ªé•¿åº¦å¼€å§‹ï¼Œå°è¯•ä»¥iä¸ºä¸­å¿ƒå‘å·¦å³ä¸¤è¾¹æ‰©å±•ï¼Œï¼Œç›´åˆ°å·¦å³ä¸¤è¾¹å­—ç¬¦ä¸åŒï¼Œæˆ–è€…åˆ°è¾¾è¾¹ç•Œã€‚</p><h6 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h6><p>ä¸è®ºä»¥ä¸Šå“ªç§æƒ…å†µï¼Œä¹‹åéƒ½è¦å°è¯•æ›´æ–°MaxRightå’Œposï¼Œå› ä¸ºæœ‰å¯èƒ½å¾—åˆ°æ›´å¤§çš„MaxRightã€‚</p><p>å…·ä½“æ“ä½œå¦‚ä¸‹ï¼š</p><ol><li>ä»¤ $RL[i]=min\lbrace RL[2\times pos-i], MaxRight-i\rbrace$</li><li>ä»¥ $i$ ä¸ºä¸­å¿ƒæ‰©å±•å›æ–‡ä¸²ï¼Œç›´åˆ°å·¦å³ä¸¤è¾¹å­—ç¬¦ä¸åŒï¼Œæˆ–è€…åˆ°è¾¾è¾¹ç•Œ</li><li>æ›´æ–° $MaxRight$ å’Œ $pos$</li></ol><h5 id="æƒ…å†µäºŒï¼š-i-åœ¨-MaxRight-å³è¾¹"><a href="#æƒ…å†µäºŒï¼š-i-åœ¨-MaxRight-å³è¾¹" class="headerlink" title="æƒ…å†µäºŒï¼š$i$ åœ¨ $MaxRight$ å³è¾¹"></a>æƒ…å†µäºŒï¼š$i$ åœ¨ $MaxRight$ å³è¾¹</h5><p>å¦‚ä¸‹å›¾ï¼š</p><div style="align: center"> <img src="pic5.jpg"> </div><p>é‡åˆ°è¿™ç§æƒ…å†µï¼Œè¯´æ˜ä»¥ $i$ ä¸ºå¯¹ç§°è½´çš„å›æ–‡ä¸²è¿˜æ²¡æœ‰ä»»ä½•ä¸€ä¸ªéƒ¨åˆ†è¢«è®¿é—®è¿‡ï¼Œäºæ˜¯åªèƒ½ä» $i$ çš„å·¦å³ä¸¤è¾¹å¼€å§‹å°è¯•æ‰©å±•äº†ï¼Œå½“å·¦å³ä¸¤è¾¹å­—ç¬¦ä¸åŒï¼Œæˆ–è€…åˆ°è¾¾å­—ç¬¦ä¸²è¾¹ç•Œæ—¶åœæ­¢ã€‚ç„¶åæ›´æ–° $MaxRight$ å’Œ $pos$ã€‚</p><h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><p>æ­¤å¤„ä»¥ <a href="https://leetcode-cn.com/problems/longest-palindromic-substring/description/" target="_blank" rel="noopener">LeetCode ä¸Šçš„é¢˜</a>ä¸ºä¾‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">longestPalindrome</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> len = s.size();</span><br><span class="line"><span class="keyword">if</span> (len &lt;= <span class="number">1</span>) <span class="keyword">return</span> s;</span><br><span class="line"><span class="built_in">string</span> str = preProcess(s);</span><br><span class="line"><span class="keyword">int</span> n = str.size(), pos = <span class="number">0</span>, MaxRight = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; RL(n, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">RL[i] = MaxRight &gt; i ? min(RL[<span class="number">2</span> * pos - i], MaxRight - i) : <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (str[i + RL[i]] == str[i - RL[i]]) ++RL[i];</span><br><span class="line"><span class="keyword">if</span> (i + RL[i] &gt; MaxRight) &#123;</span><br><span class="line">MaxRight = i + RL[i];</span><br><span class="line">pos = i;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> maxLen = <span class="number">0</span>, index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n - <span class="number">1</span>; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span>(RL[i] &gt; maxLen) &#123;</span><br><span class="line">maxLen = RL[i];</span><br><span class="line">index = i;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="comment">// è¿™é‡Œå¯ä»¥å’Œä¸Šé¢å¹¶åœ¨ä¸€èµ·</span></span><br><span class="line"><span class="keyword">return</span> s.substr((index - maxLen) / <span class="number">2</span>, maxLen - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//é¢„å¤„ç†å­—ç¬¦ä¸²ï¼Œabcé¢„å¤„ç†åå˜æˆ$#a#b#c#^</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">preProcess</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n = s.size();</span><br><span class="line"><span class="built_in">string</span> res;</span><br><span class="line">res.push_back(<span class="string">'$'</span>);</span><br><span class="line">res.push_back(<span class="string">'#'</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">res.push_back(s[i]);</span><br><span class="line">res.push_back(<span class="string">'#'</span>);</span><br><span class="line">&#125;</span><br><span class="line">res.push_back(<span class="string">'^'</span>);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ³¨ï¼šæ­¤å¤„å­—ç¬¦ä¸²é¢„å¤„ç†åœ¨å¤´ä¸ŠåŠ å…¥ '$' æ˜¯ä¸ºäº†æ–¹ä¾¿å¤„ç†</span></span><br><span class="line"><span class="comment">// å¦‚æœæ˜¯ç©ºé—´ç˜¤æ‚£è€…ï¼Œç›´æ¥åœ¨æœ‰å…³çš„åœ°æ–¹å‡ä¸€å°±è¡Œäº†</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>Manacher ç®—æ³•å…¶å®å¯ä»¥ç®—å¥‡æŠ€æ·«å·§å§ï¼Œä¸»è¦è¿˜æ˜¯æŒæ¡å®ƒçš„æ€è·¯ï¼Œå……åˆ†åˆ©ç”¨å¾…æ±‚è§£é—®é¢˜çš„æ€§è´¨ï¼Œä»è€Œé™ä½æ±‚è§£çš„å¤æ‚åº¦ã€‚è¿™ä¸ªä¹Ÿæ˜¯åœ¨ç«èµ›ä¸­ä¼šç”¨åˆ°çš„æŠ€å·§ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;æœ€è¿‘å‡ æ¬¡è€ƒè¯•éƒ½æ¶‰åŠåˆ°äº†å­—ç¬¦ä¸²å¤„ç†è¿™ä¸ªè¯é¢˜ï¼Œæ‰€ä»¥è‡ªå·±æ‰“ç®—æ¶è¡¥å­—ç¬¦ä¸²æœ‰å…³çš„ç®—æ³•ï¼ŒåŒæ—¶åˆåˆšå¥½åšåˆ°äº† LeetCode ä¸Š&lt;a href=&quot;https://leetcode-cn.com/problems/longest-palindromic-substring/description/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;è¿™ä¹ˆä¸€é“é¢˜&lt;/a&gt;ï¼Œæ‰€ä»¥å¹²è„†ä¸€åŒè§£å†³æ‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://walesexcitedmei.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="å­—ç¬¦ä¸²" scheme="http://walesexcitedmei.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
      <category term="ç®—æ³•" scheme="http://walesexcitedmei.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="Manacher" scheme="http://walesexcitedmei.github.io/tags/Manacher/"/>
    
  </entry>
  
  <entry>
    <title>[LeetCode åˆ·é¢˜æ—¥å¿—] LeetCode-3 æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</title>
    <link href="http://walesexcitedmei.github.io/2018/08/12/LeetCode-%E5%88%B7%E9%A2%98%E6%97%A5%E5%BF%97-LeetCode-3-%E6%97%A0%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2/"/>
    <id>http://walesexcitedmei.github.io/2018/08/12/LeetCode-åˆ·é¢˜æ—¥å¿—-LeetCode-3-æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²/</id>
    <published>2018-08-12T13:34:50.000Z</published>
    <updated>2018-09-25T12:58:18.160Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä»Šå¤©å¼€å§‹åˆ· <a href="https://leetcode-cn.com/" target="_blank" rel="noopener">LeetCode</a>ï¼Œè™½ç„¶è¯´é‡Œé¢éƒ½æ˜¯å¤§å…¬å¸çš„é¢è¯•é¢˜ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ª OIerï¼Œåˆ·åˆ·ä¹Ÿæ— å¦¨ï¼Œè¿˜èƒ½å¤Ÿæé«˜è‡ªå·±çš„ä»£ç èƒ½åŠ›ã€‚æœ¬æ¥å¸Œæœ›<strong>èŠ±ä¸ª 3 å¤©</strong>åˆ·å®Œ LeetCodeï¼Œç»“æœå‘ç°è¿™æ˜¯å®Œå…¨ä¸å¯èƒ½çš„ï¼Œä»Šå¤©å°±è¢«å¾ˆåŸºç¡€çš„ç¬¬ä¸‰é¢˜ç»™å¡ä½äº†â€¦â€¦</p><a id="more"></a><h3 id="LeetCode-3-é¢˜è§£"><a href="#LeetCode-3-é¢˜è§£" class="headerlink" title="LeetCode-3 é¢˜è§£"></a>LeetCode-3 é¢˜è§£</h3><p><strong><em>â€”â€”å‘äººçš„å¤§æ°´é¢˜</em></strong></p><p><a href="https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/description/" target="_blank" rel="noopener"><strong>é¢˜ç›®</strong></a><strong>æè¿°</strong>ï¼š</p><pre><code>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰¾å‡ºä¸å«æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²çš„é•¿åº¦ã€‚ç¤ºä¾‹ï¼šç»™å®š &quot;abcabcbb&quot; ï¼Œæ²¡æœ‰é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ &quot;abc&quot; ï¼Œé‚£ä¹ˆé•¿åº¦å°±æ˜¯3ã€‚ç»™å®š &quot;bbbbb&quot; ï¼Œæœ€é•¿çš„å­ä¸²å°±æ˜¯ &quot;b&quot; ï¼Œé•¿åº¦æ˜¯1ã€‚ç»™å®š &quot;pwwkew&quot; ï¼Œæœ€é•¿å­ä¸²æ˜¯ &quot;wke&quot; ï¼Œé•¿åº¦æ˜¯3ã€‚è¯·æ³¨æ„ç­”æ¡ˆå¿…é¡»æ˜¯ä¸€ä¸ªå­ä¸²ï¼Œ&quot;pwke&quot; æ˜¯ å­åºåˆ—  è€Œä¸æ˜¯å­ä¸²ã€‚</code></pre><p><strong>[é¢˜è§£]</strong></p><p>ç›´æ¥ä¸Šä»£ç ï¼Œå…·ä½“è¯´æ˜çœ‹æ³¨é‡Šã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(<span class="built_in">string</span> s)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> currLen = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// table ç”¨äºè®°å½•å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œä¹‹æ‰€ä»¥è®¾ä¸º 128 æ˜¯ä¸ºäº†é€‚é… ASCII ç </span></span><br><span class="line"><span class="keyword">int</span> table[<span class="number">128</span>], start = <span class="number">0</span>;</span><br><span class="line"><span class="comment">// å…¨éƒ¨åˆå§‹åŒ–ä¸º 0</span></span><br><span class="line"><span class="built_in">memset</span>(table, <span class="number">0</span>, <span class="keyword">sizeof</span>(table));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); ++i) &#123;</span><br><span class="line"><span class="comment">// å¦‚æœ ++table[s[i]] ä¸º 2ï¼Œåˆ™è¯´æ˜è¿™ä¸ªæ•°åœ¨æ‰€é€‰çš„å­ä¸²ä¸­å·²ç»å‡ºç°è¿‡äº†</span></span><br><span class="line"><span class="comment">// å½“ç„¶è¿™é‡Œè¿˜æœ‰å¥½å¤šå†™æ³•</span></span><br><span class="line"><span class="keyword">if</span> (++table[s[i]] == <span class="number">2</span>) &#123;</span><br><span class="line"><span class="comment">// å› ä¸ºé‡åˆ°é‡å¤çš„å­—ç¬¦äº†ï¼Œæ‰€ä»¥è¦å…ˆæ›´æ–° maxLen</span></span><br><span class="line"><span class="keyword">if</span> (currLen &gt; maxLen) maxLen = currLen;</span><br><span class="line"><span class="comment">// æ¥ä¸‹æ¥æŸ¥æ‰¾é‡å¤çš„æ•°å­—å‡ºç°çš„åœ°æ–¹ï¼Œå¹¶ä¸”æ›´æ–°å­—ä¸²èµ·å§‹ä½ç½®</span></span><br><span class="line"><span class="comment">// è¿™é‡Œå¯ä»¥ä¼˜åŒ–ï¼šä½¿ç”¨ä¸€ä¸ª map&lt;char, int&gt;</span></span><br><span class="line"><span class="comment">// æˆ– table0[128] æ¥è®°å½•å­—ç¬¦çš„å‡ºç°ä½ç½®</span></span><br><span class="line"><span class="comment">// åŒæ—¶ä¹Ÿå¯ä»¥ä¸å‰é¢çš„ table æ•°ç»„åˆå¹¶ï¼Œæ—¢åŠ å¿«é€Ÿåº¦åˆå‡å°‘ç©ºé—´</span></span><br><span class="line"><span class="comment">// è¿™é‡Œå› ä¸ºä¸éœ€è¦ï¼ˆæ‡’ï¼‰ï¼Œæ‰€ä»¥å°±æ‰“äº†è¿™ä¸ªæœªä¼˜åŒ–çš„ç®—æ³•</span></span><br><span class="line"><span class="comment">// æœ‰å…´è¶£çš„è¯»è€…å¯ä»¥å»è¯•ä¸€è¯•ä¼˜åŒ–ç®—æ³•ã€‚</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = start; j &lt; i; ++j) &#123;</span><br><span class="line"><span class="keyword">if</span> (s[j] == s[i]) &#123;</span><br><span class="line">table[s[j]] = <span class="number">1</span>;</span><br><span class="line">start = j + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="comment">// å› ä¸ºæœ€å¤šå‡ºç°ä¸€æ¬¡ï¼Œæ‰€ä»¥ç›´æ¥ break</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// æ²¡æ‰¾åˆ°çš„è¯å¿…é¡»å‡å°ç­”æ¡ˆ</span></span><br><span class="line">--currLen;</span><br><span class="line"><span class="comment">// é‡ç½®</span></span><br><span class="line">table[s[j]] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> ++currLen; <span class="comment">// æ²¡æœ‰é‡å¤å°±ç›´æ¥è‡ªåŠ ä¸€</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æœ€åçš„åˆ¤æ–­å¿…ä¸å¯å°‘</span></span><br><span class="line"><span class="keyword">if</span> (currLen &gt; maxLen) maxLen = currLen;</span><br><span class="line"><span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”±äºæœ¬äººæ˜¯ä¸€ä¸ª OIerï¼Œè¿˜æ˜¯ Google èµ„æ·±è€ç²‰ä¸ï¼Œæ‰€ä»¥ä»£ç é£æ ¼æ¯”è¾ƒæ··æ­ï¼ˆé€ƒï¼‰ã€‚</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆï¼Œæ˜¯ä»€ä¹ˆå¡äº†æˆ‘é‚£ä¹ˆé•¿æ—¶é—´å‘¢ï¼Ÿä¸€å¼€å§‹çš„ä»£ç é‡åˆ°é‡å¤çš„å­—ç¬¦ï¼Œç›´æ¥æ›´æ–°èµ·å§‹ä½ç½®åˆ°å½“å‰å­—ç¬¦ï¼Œæ®Šä¸çŸ¥ä¼šæœ‰ abcdaefg è¿™ç§æƒ…å†µï¼Œäºæ˜¯ä¸€ç›´ WAã€‚è®ºå……åˆ†æ€è€ƒçš„é‡è¦æ€§â€¦..</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>LeetCode çš„é¢˜ç›®éš¾åº¦å¹¶ä¸æ˜¯å¾ˆå¤§çš„ï¼Œå¾ˆå¤šé¢˜å·®ä¸å¤šæ˜¯<code>æé«˜-</code>çš„éš¾åº¦ï¼Œä½†æ˜¯ç»†èŠ‚å¤ªå¤šï¼ŒåŒæ—¶å¯¹ä»£ç èƒ½åŠ›çš„è¦æ±‚æ¯”è¾ƒé«˜ï¼ŒæŸäº›æ•°æ®ç»“æ„ä¹Ÿä¸ OI ä¸­æ‰€å†™åœ°ä¸å¤ªä¸€æ ·ã€‚ä½†æ˜¯å½“ä½œç®—æ³•è®­ç»ƒåœºæ¥åšä¹Ÿæ²¡ä»€ä¹ˆåå¤„ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;ä»Šå¤©å¼€å§‹åˆ· &lt;a href=&quot;https://leetcode-cn.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;LeetCode&lt;/a&gt;ï¼Œè™½ç„¶è¯´é‡Œé¢éƒ½æ˜¯å¤§å…¬å¸çš„é¢è¯•é¢˜ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ª OIerï¼Œåˆ·åˆ·ä¹Ÿæ— å¦¨ï¼Œè¿˜èƒ½å¤Ÿæé«˜è‡ªå·±çš„ä»£ç èƒ½åŠ›ã€‚æœ¬æ¥å¸Œæœ›&lt;strong&gt;èŠ±ä¸ª 3 å¤©&lt;/strong&gt;åˆ·å®Œ LeetCodeï¼Œç»“æœå‘ç°è¿™æ˜¯å®Œå…¨ä¸å¯èƒ½çš„ï¼Œä»Šå¤©å°±è¢«å¾ˆåŸºç¡€çš„ç¬¬ä¸‰é¢˜ç»™å¡ä½äº†â€¦â€¦&lt;/p&gt;
    
    </summary>
    
      <category term="LeetCode" scheme="http://walesexcitedmei.github.io/categories/LeetCode/"/>
    
    
      <category term="LeetCode" scheme="http://walesexcitedmei.github.io/tags/LeetCode/"/>
    
      <category term="å­—ç¬¦ä¸²" scheme="http://walesexcitedmei.github.io/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    
      <category term="ç®—æ³•" scheme="http://walesexcitedmei.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>[ç®—æ³•] RMQ é—®é¢˜ä¸ ST ç®—æ³•</title>
    <link href="http://walesexcitedmei.github.io/2018/08/11/%E7%AE%97%E6%B3%95-RMQ-%E9%97%AE%E9%A2%98%E4%B8%8E-ST-%E7%AE%97%E6%B3%95/"/>
    <id>http://walesexcitedmei.github.io/2018/08/11/ç®—æ³•-RMQ-é—®é¢˜ä¸-ST-ç®—æ³•/</id>
    <published>2018-08-11T08:31:36.000Z</published>
    <updated>2018-09-25T12:58:18.206Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>å› ä¸ºå¾ˆå¤šæ¬¡æ¨¡æ‹Ÿæµ‹è¯•éƒ½è´¥åœ¨åŒºé—´æœ€å€¼é—®é¢˜ï¼ˆRMQï¼‰ä¸Šï¼Œæ‰€ä»¥å†³å®šå¼€ä¸€ç¯‡åšå®¢å¥½å¥½æ€»ç»“ä¸€ä¸‹ã€‚æœ¬ç¯‡æ–‡ç« ç€é‡ä»‹ç» RMQ é—®é¢˜ä¸­æœ€è‘—åçš„ ST ç®—æ³•ã€‚<br><a id="more"></a></p><h3 id="RMQ-é—®é¢˜"><a href="#RMQ-é—®é¢˜" class="headerlink" title="RMQ é—®é¢˜"></a>RMQ é—®é¢˜</h3><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º $N$ çš„æ•°åˆ— $A$ï¼Œç„¶åè¿›è¡Œè‹¥å¹²æ¬¡è¯¢é—®ï¼Œæ¯æ¬¡ç»™å®šä¸€ä¸ªåŒºé—´ $[l_i,r_i]$ æ±‚è¿™ä¸ªåŒºé—´ä¸­çš„æœ€å¤§æˆ–æœ€å°å€¼ï¼Œè¿™å°±æ˜¯åŒºé—´æœ€å€¼é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ RMQ é—®é¢˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™æ ·çš„é—®é¢˜éƒ½è¦æ±‚åŒºé—´çš„æŸ¥è¯¢æ˜¯åœ¨çº¿çš„ï¼Œä¹Ÿå°±æ˜¯æå‡ºä¸€ä¸ªæŸ¥è¯¢å›ç­”ä¸€æ¬¡ï¼Œä¸èƒ½å…¨éƒ¨æ”¶åˆ°åç»Ÿä¸€å›ç­”ã€‚å¯¹äºæŸäº›ç¡®å®šåŒºé—´æ±‚æœ€å€¼çš„é—®é¢˜ï¼Œé€šå¸¸é‡‡ç”¨å€å¢çš„æ–¹æ³•æ¥æ±‚è§£ã€‚è€Œ ST ç®—æ³•å…¶å®å°±æ˜¯å€å¢çš„äº§ç‰©ï¼ŒåŒæ—¶åŠ å…¥äº†åŠ¨æ€è§„åˆ’çš„æ€æƒ³ã€‚</p><h3 id="ST-ç®—æ³•"><a href="#ST-ç®—æ³•" class="headerlink" title="ST ç®—æ³•"></a>ST ç®—æ³•</h3><p>åœ¨ RMQ é—®é¢˜ä¸­ï¼ŒST ç®—æ³•å¯ä»¥åœ¨ $O(NlogN)$ çš„æ—¶é—´é¢„å¤„ç†æ•°æ®åï¼Œä»¥ $O(1)$ çš„æ—¶é—´åœ¨çº¿å›ç­”æŸ¥è¯¢ã€‚ä¸€ä¸ªåºåˆ—çš„å­ç©ºé—´ä¸ªæ•°æ˜¾ç„¶æœ‰ $O(N^2)$ ä¸ªï¼Œæˆ‘ä»¬é¦–å…ˆåœ¨è¿™ä¸ªè§„æ¨¡ä¸º $O(N^2)$ çš„çŠ¶æ€ç©ºé—´ä¸­é€‰æ‹©ä¸€äº› $2$ çš„æ•´æ•°æ¬¡å¹‚çš„ä½ç½®ä½œä¸ºä»£è¡¨å€¼ã€‚</p><p>è®¾ $F[i,j]$ è¡¨ç¤ºå­ç©ºé—´ $A$ ä¸­ä¸‹æ ‡åœ¨åœ¨å­åŒºé—´ $[i,i+2^j-1]$ é‡Œæ•°çš„æœ€å¤§å€¼ï¼Œå³ä» $i$ å¼€å§‹çš„ $2^j$ ä¸ªæ•°çš„æœ€å¤§å€¼ã€‚æ˜¾ç„¶ $F[i,0]=A[i]$ï¼Œå³æ•°åˆ— $A$ åœ¨å­åŒºé—´ $[i,i]$ ä¸­çš„æœ€å¤§å€¼ã€‚</p><p>é€’æ¨æ—¶ï¼Œæˆ‘ä»¬å°†å­åŒºé—´é•¿åº¦æˆå€å¢é•¿ï¼Œå…¬å¼å¦‚ä¸‹ï¼š</p><p>$$F[i,j]=max\lbrace F[i,j-1],F[i+2^{j-1},j-1] \rbrace$$</p><p>å³é•¿åº¦ä¸º $2^j$ çš„å­åŒºé—´çš„æœ€å¤§å€¼æ˜¯å·¦å³ä¸¤åŠé•¿åº¦ä¸º $2^{j-1}$ çš„å­åŒºé—´çš„æœ€å¤§å€¼ä¸­è¾ƒå¤§çš„é‚£ä¸€ä¸ªã€‚æ‰€ä»¥æˆ‘ä»¬å…ˆé¢„å¤„ç†æˆ‘ä»¬è¦ç”¨åˆ°çš„æ•°ç»„ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STprework</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) f[i][<span class="number">0</span>] = a[i];</span><br><span class="line"><span class="keyword">int</span> t = <span class="built_in">log</span>(n) / <span class="built_in">log</span>(<span class="number">2</span>) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; t; ++j)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - (<span class="number">1</span> &lt;&lt; j) + <span class="number">1</span>; ++i)</span><br><span class="line">f[i][j] = max(f[i][j - <span class="number">1</span>], f[i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))][j - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬è¦æŸ¥è¯¢åŒºé—´ $[l,r]$ çš„æœ€å€¼æ—¶ï¼Œæˆ‘ä»¬å…ˆè®¡ç®—å‡ºä¸€ä¸ª $k$ï¼Œæ»¡è¶³ $2^k &lt; r-l+1 \leqslant 2^{k+1}$ï¼Œä¹Ÿå°±æ˜¯ä½¿äºŒçš„ $k$ æ¬¡å¹‚å°äºåŒºé—´é•¿åº¦çš„å‰æä¸‹æœ€å¤§çš„ $k$ã€‚é‚£ä¹ˆâ€œä» $l$ å¼€å§‹çš„ $2^k$ ä¸ªæ•°â€å’Œâ€œä»¥ $r$ ç»“å°¾çš„ $2^k$ ä¸ªæ•°â€ è¿™ä¸¤æ®µä¸€å®šè¦†ç›–äº†åŸæ¥çš„æ•´ä¸ªåŒºé—´ï¼Œè¿™ä¸¤æ®µçš„æœ€å¤§å€¼åˆ†åˆ«ä¸º $F[l,k]$ å’Œ $F[r-2^k+1,k]$ï¼ŒäºŒè€…ä¸­è¾ƒå¤§çš„å°±æ˜¯æ•´ä¸ªåŒºé—´çš„æœ€å€¼ã€‚å› ä¸ºæ±‚çš„æ˜¯æœ€å¤§å€¼ï¼Œæ‰€ä»¥åªè¦è¦†ç›–åŒºé—´å°±è¡Œï¼Œé‡å æ˜¯æ²¡æœ‰å…³ç³»çš„ã€‚</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">STquery</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> k = <span class="built_in">log</span>(r - l + <span class="number">1</span>) / <span class="built_in">log</span>(<span class="number">2</span>);</span><br><span class="line"><span class="keyword">return</span> max(f[l][k], f[r - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè¦è¿›ä¸€æ­¥æé«˜æ‰§è¡Œæ•ˆç‡ï¼Œå¯ä»¥å°† $f$ æ•°ç»„çš„ä¸¤ä¸ªç»´åº¦äº¤æ¢ï¼Œè¿™æ ·å¯¹ç¼“å­˜æ›´åŠ å‹å¥½ã€‚å¹¶ä¸”å¯ä»¥é¢„å¤„ç†å‡º $1 \thicksim n$ ä¸­ $log_2 n$ çš„å€¼ï¼Œç”šè‡³æ˜¯å„ä¸ªåŒºé—´å¯¹åº”çš„ $k$ çš„å€¼ï¼Œå…·ä½“æ–¹æ³•è§†æƒ…å†µè€Œå®šã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ol><li>ä¸ºä»€ä¹ˆä½¿ç”¨ <code>log()</code> å‡½æ•°è€Œä¸æ˜¯ <code>log2()</code> å‘¢ï¼ŒåŸå› æ˜¯å‰è€…æ•ˆç‡æ›´å¿«ï¼Œè€Œä¸”ä¼—æ‰€å‘¨çŸ¥ï¼Œå¯¹æ•°æ˜¯æœ‰æ¢åº•å…¬å¼çš„ï¼ˆå•¥ï¼Ÿä½ ä¸çŸ¥é“ï¼Ÿèµ¶ç´§è¡¥ä¸€ä¸‹é«˜ä¸­æ•°å­¦å¿…ä¿®ä¸€å§ï¼ï¼‰ï¼Œæ‰€ä»¥è¿™é‡Œæ•ˆç‡ä¼šé«˜ä¸€ç‚¹</li><li><a href="https://www.luogu.org/problemnew/show/P3865" target="_blank" rel="noopener">ST è¡¨çš„æ¨¡æ¿é¢˜åœ°å€â€”â€”æ´›è°· p3865</a></li></ol><p>é™„ä¸Šå®Œæ•´ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 110000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max(a, b) (a &gt; b ? a : b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> G(a) putchar(a + 48)</span></span><br><span class="line"><span class="keyword">int</span> n, m, A[maxn];</span><br><span class="line"><span class="keyword">int</span> li, ri;</span><br><span class="line"><span class="keyword">int</span> f[<span class="number">21</span>][maxn];</span><br><span class="line"><span class="keyword">int</span> logn[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">bool</span> sign = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">while</span> (!<span class="built_in">isdigit</span>(c = getchar()) &amp;&amp; c != <span class="string">'-'</span>);</span><br><span class="line"><span class="keyword">if</span> (c == <span class="string">'-'</span>) &#123;</span><br><span class="line">sign = <span class="literal">true</span>;</span><br><span class="line">c = getchar();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">ans = (ans &lt;&lt; <span class="number">3</span>) + (ans &lt;&lt; <span class="number">1</span>) + (c - <span class="string">'0'</span>);</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="built_in">isdigit</span>(c = getchar()));</span><br><span class="line"><span class="keyword">return</span> sign ? -ans : ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span> (s &lt; <span class="number">0</span>) &#123;</span><br><span class="line">G(<span class="number">-3</span>);</span><br><span class="line">s = -s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (s &gt; <span class="number">9</span>) write(s / <span class="number">10</span>);</span><br><span class="line">G(s % <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">STprework</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) f[<span class="number">0</span>][i] = A[i];</span><br><span class="line"><span class="keyword">int</span> t = logn[n] + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; t; ++j)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - (<span class="number">1</span> &lt;&lt; j) + <span class="number">1</span>; ++i)</span><br><span class="line">f[j][i] = max(f[j - <span class="number">1</span>][i], f[j - <span class="number">1</span>][i + (<span class="number">1</span> &lt;&lt; (j - <span class="number">1</span>))]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">STquery</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> k = logn[r - l + <span class="number">1</span>];</span><br><span class="line"><span class="keyword">return</span> max(f[k][l], f[k][r - (<span class="number">1</span> &lt;&lt; k) + <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pre</span><span class="params">()</span> </span>&#123;</span><br><span class="line">logn[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">logn[<span class="number">2</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">3</span>; i &lt;= n; ++i) logn[i] = logn[i / <span class="number">2</span>] + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">n = read();</span><br><span class="line">m = read();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) A[i] = read();</span><br><span class="line">pre();</span><br><span class="line">STprework();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line">li = read();</span><br><span class="line">ri = read();</span><br><span class="line">write(STquery(li, ri));</span><br><span class="line"><span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;å› ä¸ºå¾ˆå¤šæ¬¡æ¨¡æ‹Ÿæµ‹è¯•éƒ½è´¥åœ¨åŒºé—´æœ€å€¼é—®é¢˜ï¼ˆRMQï¼‰ä¸Šï¼Œæ‰€ä»¥å†³å®šå¼€ä¸€ç¯‡åšå®¢å¥½å¥½æ€»ç»“ä¸€ä¸‹ã€‚æœ¬ç¯‡æ–‡ç« ç€é‡ä»‹ç» RMQ é—®é¢˜ä¸­æœ€è‘—åçš„ ST ç®—æ³•ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="ç®—æ³•" scheme="http://walesexcitedmei.github.io/categories/%E7%AE%97%E6%B3%95/"/>
    
    
      <category term="ç®—æ³•" scheme="http://walesexcitedmei.github.io/tags/%E7%AE%97%E6%B3%95/"/>
    
      <category term="RMQ é—®é¢˜" scheme="http://walesexcitedmei.github.io/tags/RMQ-%E9%97%AE%E9%A2%98/"/>
    
      <category term="ST ç®—æ³•" scheme="http://walesexcitedmei.github.io/tags/ST-%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>[å›¾è®º] å›¾è®ºåŸºç¡€çŸ¥è¯†</title>
    <link href="http://walesexcitedmei.github.io/2018/08/10/%E5%9B%BE%E8%AE%BA-%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <id>http://walesexcitedmei.github.io/2018/08/10/å›¾è®º-å›¾è®ºåŸºç¡€çŸ¥è¯†/</id>
    <published>2018-08-10T11:49:26.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>å› ä¸ºè‡ªå·±çš„å›¾è®ºå…¶å®æŒæ¡å¾—ä¸æ€ä¹ˆæ ·ï¼Œæ‰€ä»¥å¼€ä¸€ç¯‡åšå®¢ï¼Œæ¥åŠ æ·±ä¸€ä¸‹è‡ªå·±å›¾è®ºçš„åŸºç¡€ã€‚æ³¨æ„ï¼Œæœ¬æ–‡åªæ˜¯åŸºç¡€ï¼Œä¸»è¦æ™®åŠå›¾çš„å­˜å‚¨ï¼Œæœ€çŸ­è·¯å’Œéå†ï¼ˆ$DFS$ å’Œ $BFS$ï¼‰ã€‚</p><a id="more"></a><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>åœ¨å›¾è®ºä¸­ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€å¼ å›¾ä¸ºç”±é¡¶ç‚¹é›†ï¼ˆVerticesï¼‰å’Œè¾¹é›†ï¼ˆEdgesï¼‰ç»„æˆçš„äºŒå…ƒç»„ï¼Œå³ $G = (V, E)$ã€‚æ­¤å¤„ $V$ å’Œ $E$ ä¹Ÿå¯å†™ä¸º $V(G)$ å’Œ $E(G)$ã€‚</p><h3 id="åŸºæœ¬æœ¯è¯­"><a href="#åŸºæœ¬æœ¯è¯­" class="headerlink" title="åŸºæœ¬æœ¯è¯­"></a>åŸºæœ¬æœ¯è¯­</h3><p><strong>é˜¶ï¼ˆOrderï¼‰</strong>ï¼šå›¾ $G$ ä¸­é¡¶é›† $V$ çš„å¤§å°ç§°ä½œå›¾ $G$ çš„é˜¶ã€‚</p><p><strong>å­å›¾ï¼ˆSub-Graphï¼‰</strong>ï¼šå›¾ $Gâ€™$ ç§°ä½œå›¾ $G$ çš„å­å›¾å¦‚æœ $V(Gâ€™)\subseteq V(G)$ ä»¥åŠ $E(Gâ€™)\subseteq E(G)$ã€‚</p><p><strong>ç”Ÿæˆå­å›¾ï¼ˆSpanning Sub-Graphï¼‰</strong>ï¼šæŒ‡æ»¡è¶³æ¡ä»¶ $V(Gâ€™)=V(G)$ çš„ $G$ çš„å­å›¾ $Gâ€™$ã€‚</p><p><strong>åº¦ï¼ˆDegreeï¼‰</strong>æ˜¯ä¸€ä¸ªé¡¶ç‚¹çš„åº¦æ˜¯æŒ‡ä¸è¯¥é¡¶ç‚¹ç›¸å…³è”çš„æ€»è¾¹æ•°ï¼Œé¡¶ç‚¹ $v$ çš„åº¦è®°ä½œ $d(v)$ã€‚åº¦å’Œè¾¹æœ‰å¦‚ä¸‹å…³ç³»ï¼š$\sum_{v\in V} d(v)=2\left|E\right|$ã€‚</p><p><strong>å‡ºåº¦ï¼ˆOut-degreeï¼‰å’Œå…¥åº¦ï¼ˆIn-degreeï¼‰</strong>ï¼šå¯¹æœ‰å‘å›¾è€Œè¨€ï¼Œé¡¶ç‚¹çš„åº¦è¿˜å¯åˆ†ä¸ºå‡ºåº¦å’Œå…¥åº¦ã€‚ä¸€ä¸ªé¡¶ç‚¹çš„å‡ºåº¦ä¸º $d_o$ ï¼Œæ˜¯æŒ‡æœ‰ $d_o$ æ¡è¾¹ä»¥è¯¥é¡¶ç‚¹ä¸ºèµ·ç‚¹ï¼Œæˆ–è¯´ä¸è¯¥ç‚¹å…³è”çš„å‡ºè¾¹å…±æœ‰ $d_o$ æ¡ã€‚å…¥åº¦çš„æ¦‚å¿µä¹Ÿç±»ä¼¼ã€‚</p><p><strong>è‡ªç¯ï¼ˆLoopï¼‰</strong>ï¼šè‹¥ä¸€æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹ç›¸åŒï¼Œåˆ™æ­¤è¾¹ç§°ä½œè‡ªç¯ã€‚</p><p><strong>è·¯å¾„ï¼ˆPathï¼‰</strong>ï¼šä»é¡¶ç‚¹uåˆ°é¡¶ç‚¹vçš„ä¸€æ¡è·¯å¾„æ˜¯æŒ‡ä¸€ä¸ªåºåˆ— $v_0,e_1,v_1,e_2,v_2,â€¦e_k,v_k$ï¼Œ$e_i$ çš„èµ·ç‚¹ç»ˆç‚¹ä¸º $v_{i-1}$ åŠ $v_i$ï¼› $k$ ç§°ä½œè·¯å¾„çš„é•¿åº¦ï¼› $v_0=u$ï¼Œç§°ä¸ºè·¯å¾„çš„èµ·ç‚¹ï¼›$v_k=v$ï¼Œç§°ä¸ºè·¯å¾„çš„ç»ˆç‚¹ã€‚å¦‚æœ $u=v$ï¼Œç§°è¯¥è·¯å¾„æ˜¯é—­çš„ï¼Œåä¹‹åˆ™ç§°ä¸ºå¼€çš„ï¼›å¦‚æœ $v_1,â€¦,v_k$ ä¸¤ä¸¤ä¸ç­‰ï¼Œåˆ™ç§°ä¹‹ä¸ºç®€å•è·¯å¾„ï¼ˆSimple pathï¼Œæ³¨æ„ï¼Œ $u=v$ æ˜¯å…è®¸çš„ï¼‰ã€‚</p><p><strong>è¡Œè¿¹ï¼ˆTraceï¼‰</strong>ï¼šå¦‚æœè·¯å¾„ $P(u,v)$ ä¸­è¾¹å„ä¸ç›¸åŒï¼Œåˆ™è¯¥è·¯å¾„ç§°ä¸º $u$ åˆ° $v$ çš„ä¸€æ¡è¡Œè¿¹ã€‚</p><p><strong>è½¨é“ï¼ˆTrackï¼‰</strong>ï¼šå³ç®€å•è·¯å¾„ã€‚</p><p>é—­çš„è¡Œè¿¹ç§°ä½œ<strong>å›è·¯ï¼ˆCircuitï¼‰</strong>ï¼Œé—­çš„è½¨é“ç§°ä½œåœˆï¼ˆCycleï¼‰ã€‚ï¼ˆç°å­˜æ–‡çŒ®ä¸­çš„å‘½åæ³•å¹¶æ— ç»Ÿä¸€æ ‡å‡†ã€‚æ¯”å¦‚åœ¨å¦ä¸€ç§å®šä¹‰ä¸­ï¼Œwalk å¯¹åº”ä¸Šè¿°çš„ pathï¼Œpath å¯¹åº”ä¸Šè¿°çš„ trackï¼Œtrailå¯¹åº”ä¸Šè¿°çš„ traceã€‚ï¼‰</p><p><strong>è·ç¦»ï¼ˆDistanceï¼‰</strong>ï¼šä»é¡¶ç‚¹ $u$ å‡ºå‘åˆ°é¡¶ç‚¹ $v$ çš„æœ€çŸ­è·¯å¾„è‹¥å­˜åœ¨ï¼Œåˆ™æ­¤è·¯å¾„çš„é•¿åº¦ç§°ä½œä» $u$ åˆ° $v$ çš„è·ç¦»ã€‚è‹¥ä» $u$ åˆ° $v$ æ ¹æœ¬ä¸å­˜åœ¨è·¯å¾„ï¼Œåˆ™è®°è¯¥è·ç¦»ä¸ºæ— ç©·ï¼ˆ$\infty$ï¼‰ã€‚</p><p><strong>æ¡¥ï¼ˆBridgeï¼‰</strong>ï¼šè‹¥å»æ‰ä¸€æ¡è¾¹ï¼Œä¾¿ä¼šä½¿å¾—æ•´ä¸ªå›¾ä¸è¿é€šï¼Œè¯¥è¾¹ç§°ä¸ºæ¡¥ã€‚</p><h3 id="ç¼–ç¨‹å®ç°å›¾çš„å­˜å‚¨"><a href="#ç¼–ç¨‹å®ç°å›¾çš„å­˜å‚¨" class="headerlink" title="ç¼–ç¨‹å®ç°å›¾çš„å­˜å‚¨"></a>ç¼–ç¨‹å®ç°å›¾çš„å­˜å‚¨</h3><h4 id="é‚»æ¥çŸ©é˜µå­˜å›¾"><a href="#é‚»æ¥çŸ©é˜µå­˜å›¾" class="headerlink" title="é‚»æ¥çŸ©é˜µå­˜å›¾"></a>é‚»æ¥çŸ©é˜µå­˜å›¾</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 100</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> g[maxn][maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(g, INF, <span class="keyword">sizeof</span>(g)); &#125; <span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> wieght)</span> </span>&#123;</span><br><span class="line">g[vertex1][vertex2] = weight;</span><br><span class="line">&#125; <span class="comment">// æ·»åŠ ä¸€æ¡å•å‘è¾¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addDuplexEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">addEdge(vertex1, vertex2, weight);</span><br><span class="line">addEdge(vertex2, vertex1, weight);</span><br><span class="line">&#125; <span class="comment">// æ·»åŠ ä¸€æ¡åŒå‘è¾¹ / æ— å‘è¾¹</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ $g[i][j]$ è¡¨ç¤ºä» $i$ åˆ° $j$ çš„è¾¹çš„æƒã€‚<br>æ³¨æ„é‚»æ¥çŸ©é˜µæ–¹ä¾¿ä½¿ç”¨ï¼Œä½†ç©ºé—´å¤æ‚åº¦ä¸º $O(n^2)$ï¼Œåœ¨ç‚¹æ¯”è¾ƒå¤šçš„æ—¶å€™ä¸å¤ªå®ç”¨ï¼Œææœ‰å¯èƒ½ä¼šçˆ†ã€‚</p><h4 id="é‚»æ¥è¡¨å­˜å›¾"><a href="#é‚»æ¥è¡¨å­˜å›¾" class="headerlink" title="é‚»æ¥è¡¨å­˜å›¾"></a>é‚»æ¥è¡¨å­˜å›¾</h4><p>å…ˆä¸Šä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 11000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxm 21000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOE -1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> v[maxm], e[maxm], heads[maxn], nxt[maxm]</span><br><span class="line"><span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(heads, NOE, <span class="keyword">sizeof</span>(heads)); &#125;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">tot++;</span><br><span class="line">v[tot] = vertex2;</span><br><span class="line">e[tot] = weight;</span><br><span class="line">nxt[tot] = heads[vertex1];</span><br><span class="line">heads[vertex1] = tot;</span><br><span class="line">&#125; <span class="comment">// åŠ è¾¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addDuplexEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">addEdge(vertex1, vertex2, weight);</span><br><span class="line">addEdge(vertex2, vertex1, weight);</span><br><span class="line">&#125; <span class="comment">// åŠ åŒå‘è¾¹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[x]; i != NOE; i = nxt[i]) &#123;</span><br><span class="line"><span class="keyword">int</span> y = v[i];</span><br><span class="line"><span class="keyword">int</span> x = e[i];</span><br><span class="line"><span class="comment">// æ‰¾åˆ°ä¸€æ¡æœ‰å‘è¾¹ (x, y) è¾¹æƒä¸º z</span></span><br><span class="line"><span class="comment">// do something here</span></span><br><span class="line">&#125; <span class="comment">// éå†ä» x å‡ºå‘çš„è¾¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>$v[]$ å’Œ $e[]$ è®°å½•äº†æ¯æ¡è¾¹çš„ç»ˆç‚¹å’Œè¾¹æƒï¼Œ$nxt[]$æ¨¡æ‹ŸæŒ‡é’ˆï¼Œè¡¨ç¤ºä»æƒ³åŒèŠ‚ç‚¹å‡ºå‘çš„ä¸‹ä¸€æ¡è¾¹åœ¨ $v[]$ å’Œ $e[]$ ä¸­çš„å­˜å‚¨ä½ç½®ï¼Œ$heads[i]$ è¡¨ç¤ºä» $i$ å‡ºå‘çš„ç¬¬ä¸€æ¡è¾¹ã€‚ä¿¡æ¯å¥¥èµ›ä¸­ä½¿ç”¨æ•°ç»„æ¨¡æ‹ŸæŒ‡é’ˆè¶³å¤Ÿäº†ï¼Œå¦‚æœæƒ³çŸ¥é“å…·ä½“çš„é‚»æ¥è¡¨çš„ç›¸å…³çŸ¥è¯†çœ‹è¿™é‡Œï¼š<a href="https://zh.wikipedia.org/wiki/%E9%82%BB%E6%8E%A5%E8%A1%A8" target="_blank" rel="noopener">Wikipedia</a></p><h4 id="é“¾å¼å‰å‘æ˜Ÿ"><a href="#é“¾å¼å‰å‘æ˜Ÿ" class="headerlink" title="é“¾å¼å‰å‘æ˜Ÿ"></a>é“¾å¼å‰å‘æ˜Ÿ</h4><p><strong>ä¸ªäººè®¤ä¸ºæœ€å¥½çš„å­˜å›¾æ–¹å¼ï¼Œè™½ç„¶ä¸é‚»æ¥è¡¨æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œä½†æ˜¯å¥½å†™å¤šäº†ï¼ˆä¸çœŸæ­£çš„é‚»æ¥è¡¨å¯¹æ¯”ï¼Œä¸æ˜¯ OI ä¸­çš„é˜‰å‰²ç‰ˆï¼‰ã€‚</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 11000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxm 21000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOE -1</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edgeNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> vertexTo;</span><br><span class="line"><span class="keyword">int</span> edgeNext;</span><br><span class="line"><span class="keyword">int</span> weight;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">edgeNode edges[maxm];</span><br><span class="line"><span class="keyword">int</span> heads[maxn];</span><br><span class="line"><span class="keyword">int</span> numEdges = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(heads, NOE, <span class="keyword">sizeof</span>(heads)); &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">numEdges++;</span><br><span class="line">edges[numEdges].vertexTo = vertex2;</span><br><span class="line">edges[numEdges].weight = weight;</span><br><span class="line">edges[numEdges].edgeNext = heads[vertex1];</span><br><span class="line">heads[vertex1] = numEdges;</span><br><span class="line">&#125; <span class="comment">// åŠ è¾¹</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addDuplexEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">addEdge(vertex1, vertex2, weight);</span><br><span class="line">addEdge(vertex2, vertex1, weight);</span><br><span class="line">&#125; <span class="comment">// åŠ åŒå‘è¾¹</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">travel</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[x]; i != NOE; i = edges[i].edgeNext) &#123;</span><br><span class="line"><span class="keyword">int</span> y = edges[i].vertexTo;</span><br><span class="line"><span class="keyword">int</span> z = edges[i].weight;</span><br><span class="line"><span class="comment">// æ‰¾åˆ°ä¸€æ¡æœ‰å‘è¾¹ (x, y) è¾¹æƒä¸º z</span></span><br><span class="line"><span class="comment">// do something here</span></span><br><span class="line">&#125; <span class="comment">// éå†ä» x å‡ºå‘çš„è¾¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¤šå†™å†™å°±ä¼šç†Ÿæ‚‰äº†ã€‚</p><h3 id="å›¾çš„éå†"><a href="#å›¾çš„éå†" class="headerlink" title="å›¾çš„éå†"></a>å›¾çš„éå†</h3><h4 id="æ·±åº¦ä¼˜å…ˆéå†-DFS"><a href="#æ·±åº¦ä¼˜å…ˆéå†-DFS" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå† DFS"></a>æ·±åº¦ä¼˜å…ˆéå† DFS</h4><p>æ·±åº¦ä¼˜å…ˆæœç´¢æ³•æ˜¯æ ‘çš„å…ˆåºéå†çš„æ¨å¹¿ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šä»å›¾ $G$ çš„æŸä¸ªé¡¶ç‚¹ $v_0$ å‡ºå‘ï¼Œè®¿é—® $v_0$ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªä¸ $v_0$ ç›¸é‚»ä¸”æ²¡è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹ $v_i$ è®¿é—®ï¼Œå†ä» $v_i$ å‡ºå‘é€‰æ‹©ä¸€ä¸ªä¸ $v_i$ ç›¸é‚»ä¸”æœªè¢«è®¿é—®çš„é¡¶ç‚¹ $v_j$ è¿›è¡Œè®¿é—®ï¼Œä¾æ¬¡ç»§ç»­ã€‚å¦‚æœå½“å‰è¢«è®¿é—®è¿‡çš„é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥é¡¶ç‚¹éƒ½å·²è¢«è®¿é—®ï¼Œåˆ™é€€å›åˆ°å·²è¢«è®¿é—®çš„é¡¶ç‚¹åºåˆ—ä¸­æœ€åä¸€ä¸ªæ‹¥æœ‰æœªè¢«è®¿é—®çš„ç›¸é‚»é¡¶ç‚¹çš„é¡¶ç‚¹ $w$ï¼Œä» $w$ å‡ºå‘æŒ‰åŒæ ·çš„æ–¹æ³•å‘å‰éå†ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰é¡¶ç‚¹éƒ½è¢«è®¿é—®ã€‚å…·ä½“å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">bool</span> visited[maxn];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initDFS</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(visited, <span class="literal">false</span>, <span class="keyword">sizeof</span>(visited)); &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rDFS</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line">visited[x] = <span class="literal">true</span>;</span><br><span class="line">visit(); <span class="comment">// æ ¹æ®å…·ä½“æƒ…å†µå®šä¹‰ visit()</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[x]; i != NOE; i = edges[i].edgeNext)</span><br><span class="line"><span class="keyword">if</span> (!visited[edges[i].vertexTo])</span><br><span class="line">rDFS(edges[i].vertexTo);</span><br><span class="line"><span class="keyword">return</span>; <span class="comment">// æœ€å¥½åŠ ä¸Š return</span></span><br><span class="line">&#125; <span class="comment">// å› ä¸ºè¿™æ˜¯é€’å½’å®ç°çš„ï¼Œæ•…å‘½åä¸º rDfS</span></span><br></pre></td></tr></table></figure><p>$DFS$ å…¨ç§°ä¸º $Depth$ $First$ $Search$ï¼Œå…¶å®æ˜¯ä¸€ä¸ªæœç´¢ç®—æ³•ï¼Œæœ‰å…³æœç´¢çš„ç®—æ³•ï¼Œæœªæ¥ä¼šå¼€ä¸ªä¸“é¢˜è¯¦ç»†è®²è§£ï¼Œé€šä¿—çš„è¯­è¨€æ¦‚æ‹¬å°±æ˜¯ä¸é¡¾ä¸€åˆ‡å‘å‰å†²ï¼Œæ’å¢™äº†å†å›å¤´ã€‚</p><p>å¯¹äºä¸‹é¢è¿™ä¹ˆä¸€å¼ å›¾ï¼š</p><div style="align: center"> <img src="pic1.jpg"> </div><p>å®ƒçš„éå†æ–¹å¼å¦‚ä¸‹ï¼š</p><div style="align: center"> <img src="pic2.jpg"> </div><p>éå†é¡ºåºï¼š<br>$$v_1 \rightarrow v_2 \rightarrow v_4 \rightarrow v_8 \rightarrow v_5 \rightarrow v_3 \rightarrow v_6 \rightarrow v_7$$</p><p>$DFS$ è¿˜æ˜¯å¾ˆå¸¸ç”¨çš„ï¼Œå±äºå¿…å¤‡çŸ¥è¯†ã€‚</p><h4 id="å¹¿åº¦ä¼˜å…ˆéå†-BFS"><a href="#å¹¿åº¦ä¼˜å…ˆéå†-BFS" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéå† BFS"></a>å¹¿åº¦ä¼˜å…ˆéå† BFS</h4><p>å›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢æ˜¯æ ‘çš„æŒ‰å±‚æ¬¡éå†çš„æ¨å¹¿ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé¦–å…ˆè®¿é—®åˆå§‹ç‚¹ $v_i$ï¼Œå¹¶å°†å…¶æ ‡è®°ä¸ºå·²è®¿é—®è¿‡ï¼Œæ¥ç€è®¿é—® $v_i$ çš„æ‰€æœ‰æœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ç‚¹ $v_{i1},v_{i2},â€¦,v_{it}$ï¼Œå¹¶å‡æ ‡è®°å·²è®¿é—®è¿‡ï¼Œç„¶åå†æŒ‰ç…§ $v_{i1},v_{i2},â€¦,v_{it}$çš„æ¬¡åºï¼Œè®¿é—®æ¯ä¸€ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰æœªè¢«è®¿é—®è¿‡çš„é‚»æ¥ç‚¹ï¼Œå¹¶å‡æ ‡è®°ä¸ºå·²è®¿é—®è¿‡ï¼Œä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°å›¾ä¸­æ‰€æœ‰å’Œåˆå§‹ç‚¹ $v_i$ æœ‰è·¯å¾„ç›¸é€šçš„é¡¶ç‚¹éƒ½è¢«è®¿é—®è¿‡ä¸ºæ­¢ã€‚éé€’å½’å®ç°å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line"><span class="keyword">int</span> dep[maxn];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">initBFS</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(dep, <span class="number">0</span>, <span class="keyword">sizeof</span>(dep));</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) Q.pop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">BFS</span><span class="params">()</span> </span>&#123;</span><br><span class="line">Q.push(<span class="number">1</span>);</span><br><span class="line">dep[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// dep[i] è¡¨ç¤ºèŠ‚ç‚¹ i çš„æ·±åº¦ï¼Œå³ä» 1 åˆ° i éœ€è¦èµ°è¿‡çš„æœ€å°‘ç‚¹æ•°</span></span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) &#123;</span><br><span class="line"><span class="keyword">int</span> x = Q.front();</span><br><span class="line">Q.pop();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[x]; i != NOE; i = edges[i].edgeNext) &#123;</span><br><span class="line"><span class="keyword">int</span> y = edges[i].vertexTo;</span><br><span class="line"><span class="keyword">if</span> (dep[y]) <span class="keyword">continue</span>;</span><br><span class="line"><span class="comment">// è¿™é‡Œç›´æ¥ä½¿ç”¨ dep[] æ¥æ›¿ä»£ visited[]ï¼Œé¡ºä¾¿æ±‚å‡ºç‚¹çš„æ·±åº¦</span></span><br><span class="line">dep[y] = dep[x] + <span class="number">1</span>;</span><br><span class="line">Q.push(y);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºä¸‹é¢è¿™ä¹ˆä¸€å¼ å›¾ï¼š</p><div style="align: center"> <img src="pic3.jpg"> </div><p>å®ƒçš„éå†æ–¹å¼å¦‚ä¸‹ï¼š</p><div style="align: center"> <img src="pic4.jpg"> </div><p>éå†é¡ºåºï¼š<br>$$v_1\rightarrow v_2\rightarrow v_3\rightarrow v_4\rightarrow v_5\rightarrow v_6\rightarrow v_7\rightarrow v_8$$</p><h3 id="æœ€çŸ­è·¯å¾„ç®—æ³•"><a href="#æœ€çŸ­è·¯å¾„ç®—æ³•" class="headerlink" title="æœ€çŸ­è·¯å¾„ç®—æ³•"></a>æœ€çŸ­è·¯å¾„ç®—æ³•</h3><h4 id="Floyd-æ±‚å¤šæºæœ€çŸ­è·¯"><a href="#Floyd-æ±‚å¤šæºæœ€çŸ­è·¯" class="headerlink" title="Floyd æ±‚å¤šæºæœ€çŸ­è·¯"></a>Floyd æ±‚å¤šæºæœ€çŸ­è·¯</h4><p>Floyd çš„æœ¬è´¨æ˜¯åŠ¨æ€è§„åˆ’ï¼Œæˆ‘ä»¬ä»¤ $D[i,j,k]$ è¡¨ç¤ºç»è¿‡è‹¥å¹²ä¸ªç¼–å·ä¸è¶…è¿‡ $k$ çš„èŠ‚ç‚¹ï¼Œä» $i$ åˆ° $j$ çš„æœ€çŸ­è·¯å¾„çš„é•¿åº¦ã€‚è¯¥é—®é¢˜å¯ä»¥åˆ’åˆ†æˆä¸¤ä¸ªå­é—®é¢˜ï¼Œç»è¿‡ç¼–å·ä¸è¶…è¿‡ $k-1$ çš„èŠ‚ç‚¹ä» $i$ åˆ° $j$ï¼Œæˆ–è€…ä» $i$ å…ˆåˆ° $k$ å†åˆ° $j$ï¼Œäºæ˜¯æˆ‘ä»¬å†™å‡ºåŠ¨æ€è§„åˆ’æ–¹ç¨‹ï¼š</p><p>$$D[i,j,k]=min\lbrace D[k-1,i,j],D[k-1,i,k]+D[k-1,k,j]\rbrace$$</p><p><strong>æ³¨æ„ï¼Œ$k$ æ˜¯é˜¶æ®µï¼Œæ‰€ä»¥å¿…é¡»ç½®äºå¤–å±‚å¾ªç¯ä¸­ï¼Œ$i$ å’Œ $j$ æ˜¯é™„åŠ çŠ¶æ€ï¼Œæ‰€ä»¥ç½®äºå†…å±‚å¾ªç¯ã€‚</strong></p><p>ä¸èƒŒåŒ…é—®é¢˜ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥å¿½ç•¥ $k$ è¿™ä¸€ç»´ï¼Œäºæ˜¯æˆ‘ä»¬æœ‰ï¼š</p><p>$$D[i,j]=min\lbrace D[i,j],D[i,k]+D[k,j]\rbrace$$</p><p>$D[i,j]$ ä¿å­˜äº†ä» $i$ åˆ° $j$ çš„æœ€çŸ­è·¯çš„é•¿åº¦</p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 310</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> d[maxn][maxn], n, m;</span><br><span class="line"><span class="keyword">int</span> x, y, x;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line"><span class="built_in">memset</span>(d, INF, <span class="keyword">sizeof</span>(d));</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) d[i][i] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">d[x][y] = min(d[x][y], z);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ– &amp; è¾“å…¥</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">1</span>; k &lt;= n; ++k)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">d[i][j] = min(d[i][j], d[i][k] + d[k][j]);</span><br><span class="line"><span class="comment">// Floyd æ±‚æœ€çŸ­è·¯</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; d[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="comment">// è¾“å‡º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨æ•°æ®å°çš„æ—¶å€™å¯ä»¥ä½¿ç”¨ Floyd ç®—æ³•ï¼Œæ•°æ®å¤§çš„æ—¶å€™å°½é‡å»æ€è€ƒåˆ«çš„æ–¹æ³•ã€‚</p><h4 id="Dijkstra-æ±‚å•æºæœ€çŸ­è·¯"><a href="#Dijkstra-æ±‚å•æºæœ€çŸ­è·¯" class="headerlink" title="Dijkstra æ±‚å•æºæœ€çŸ­è·¯"></a>Dijkstra æ±‚å•æºæœ€çŸ­è·¯</h4><p>Dijkstra ç®—æ³•æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>åˆå§‹åŒ– $dist[1] = 0$ï¼Œå…¶ä½™èŠ‚ç‚¹åˆå§‹åŒ–ä¸ºä¸€ä¸ªæå¤§å€¼ã€‚</li><li>æ‰¾å‡ºä¸€ä¸ªæœªè¢«æ ‡è®°çš„ï¼Œ$dist[x]$ æœ€å°çš„èŠ‚ç‚¹ $x$ï¼Œç„¶åæ ‡è®°èŠ‚ç‚¹ $x$ã€‚</li><li>æ‰«æèŠ‚ç‚¹ $x$ çš„æ‰€æœ‰å‡ºè¾¹ $(u, v, w)$ï¼Œè‹¥ $dist[v] &gt; dist[u] + w$ï¼Œåˆ™ä½¿ç”¨ $dist[u] + w$ æ›´æ–° $dist[v]$</li><li>é‡å¤ $2 \thicksim 3$ ä¸¤ä¸ªæ­¥éª¤ï¼Œç›´åˆ°èŠ‚ç‚¹å…¨éƒ¨è¢«æ ‡è®°ã€‚</li></ol><p>Dijkstra ç®—æ³•åŸºäºè´ªå¿ƒï¼Œåªé€‚ç”¨äºè¾¹æƒéè´Ÿçš„å›¾ã€‚<br>ä¼˜åŒ–ï¼šä½¿ç”¨äºŒå‰å †å¯¹ $dist$ è¿›è¡Œç»´æŠ¤ï¼Œ$O(\log n)$ çš„æ—¶é—´è·å–æœ€å°å€¼å¹¶åˆ é™¤ï¼Œ$O(\log n)$ çš„æ—¶é—´æ‰§è¡Œä¸€æ¡è¾¹çš„æ‰©å±•å’Œæ›´æ–°ï¼Œæœ€ç»ˆåœ¨ $O((m+n) \log n)$ çš„æ—¶é—´å†…å®Œæˆ Dijkstraã€‚</p><p>å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…³äºå›¾çš„å®šä¹‰éƒ¨åˆ†è¿™é‡Œçœç•¥</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">heapNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> u, d;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> heapNode&amp; b) <span class="keyword">const</span> &#123; <span class="keyword">return</span> d &gt; b.d; &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ³¨æ„ï¼Œä¸ºäº†å»ºç«‹å°æ ¹å †ï¼Œæ­¤å¤„é‡è½½çš„è¿ç®—ç¬¦æœ‰ä¸€ç‚¹ä¸åŒã€‚</span></span><br><span class="line"><span class="comment">// å¯ä»¥é€šä¿—åœ°ç†è§£ä¸ºï¼šå¦‚æœåˆ° b çš„è·ç¦»æ¯”åˆ° u çš„è·ç¦»å°ï¼Œé‚£ä¹ˆ b çš„ä¼˜å…ˆçº§æ¯” u é«˜ã€‚</span></span><br><span class="line">priority_queue&lt;heapNode&gt; Q; <span class="comment">// ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—å»ºç«‹å°æ ¹å †ã€‚</span></span><br><span class="line"><span class="keyword">int</span> dist[maxn]; <span class="comment">// è®°å½•ä» x åˆ° å„ç‚¹çš„æœ€çŸ­è·ç¦»</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) Q.pop();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) dist[i] = INF;</span><br><span class="line">dist[x] = <span class="number">0</span>; <span class="comment">// åˆ°è‡ªå·±çš„è·ç¦»ä¸º 0</span></span><br><span class="line">Q.push((heapNode)&#123; x, <span class="number">0</span> &#125;);</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) &#123;</span><br><span class="line">heapNode f = Q.top();</span><br><span class="line">Q.pop();</span><br><span class="line"><span class="keyword">int</span> u = f.u;</span><br><span class="line"><span class="keyword">int</span> d = f.d;</span><br><span class="line"><span class="keyword">if</span> (d != dist[u]) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[u]; i != NOE; i = edges[i].edgeNext) &#123;</span><br><span class="line"><span class="keyword">int</span> j = edges[i].vertexTo;</span><br><span class="line"><span class="keyword">int</span> w = edges[i].weight;</span><br><span class="line"><span class="keyword">if</span> (dist[j] &gt; dist[u] + w) &#123;</span><br><span class="line">dist[j] = dist[u] + w;</span><br><span class="line">Q.push()((heapNode)&#123; j, dist[j] &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Bellman-Ford-åŠ-SPFA-ç®—æ³•"><a href="#Bellman-Ford-åŠ-SPFA-ç®—æ³•" class="headerlink" title="Bellman-Ford åŠ SPFA ç®—æ³•"></a>Bellman-Ford åŠ SPFA ç®—æ³•</h4><p>ç»™å®šä¸€å¼ æœ‰å‘å›¾ï¼Œè‹¥å¯¹äºå›¾ä¸­çš„æŸä¸€æ¡è¾¹ $(x,y,z)$ï¼Œæœ‰ $dist[y] \leqslant dist[x]+z$ æˆç«‹ï¼Œåˆ™ç§°è¯¥è¾¹æ»¡è¶³<strong>ä¸‰è§’å½¢ä¸ç­‰å¼</strong>ã€‚è‹¥æ‰€æœ‰çš„è¾¹éƒ½æ»¡è¶³ä¸‰è§’å½¢ä¸ç­‰å¼ï¼Œåˆ™ $dist$ æ•°ç»„å°±æ˜¯æ‰€æ±‚çš„æœ€çŸ­è·¯ã€‚</p><p>é¦–å…ˆä»‹ç»åŸºäºè¿­ä»£æ€æƒ³çš„ Bellman-Ford ç®—æ³•ã€‚å®ƒçš„æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æ‰«ææ‰€æœ‰çš„è¾¹ $(x,y,z)$ï¼Œè‹¥ $dist[y] &gt; dist[x]+z$ï¼Œåˆ™ç”¨åè€…æ›´æ–°å®ƒã€‚</li><li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°æ²¡æœ‰æ“ä½œå‘ç”Ÿã€‚</li></ol><p>Bellman-Ford çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(nm)$ã€‚</p><p>è€Œ SPFA å®é™…ä¸Šæ˜¯é˜Ÿåˆ—ä¼˜åŒ–çš„ Bellman-Ford ç®—æ³•ï¼Œè¿™æ˜¯å›½é™…ä¸Šçš„é€šç§°ã€‚SPFA çš„ç®—æ³•æµç¨‹å¤§è‡´å¦‚ä¸‹ï¼š</p><ol><li>å»ºç«‹ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæœ€åˆé˜Ÿåˆ—ä¸­åªå«æœ‰èµ·ç‚¹ $1$ã€‚</li><li>å–å‡ºé˜Ÿå¤´ç»“ç‚¹ $x$ï¼Œæ‰«æå®ƒçš„æ‰€æœ‰å‡ºè¾¹ $(x, y, x)$ï¼Œè‹¥ $dist[y] &gt; dist[x]+z$ï¼Œåˆ™ç”¨åè€…æ›´æ–°å‰è€…ï¼ŒåŒæ—¶è‹¥ $y$ ä¸åœ¨é˜Ÿåˆ—ä¸­ï¼Œåˆ™æŠŠ $y$ å…¥é˜Ÿã€‚</li><li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºã€‚</li></ol><p>SPFA ä¸­çš„é˜Ÿåˆ—é¿å…äº† Bellman-Ford ä¸­å¯¹ä¸éœ€è¦æ‰©å±•çš„èŠ‚ç‚¹çš„å†—ä½™æ‰«æï¼Œåœ¨ç¨€ç–å›¾ä¸Šçš„è¿è¡Œæ•ˆç‡è¾ƒé«˜ï¼Œä¸º $O(km)$ çº§åˆ«ï¼Œ$k$ æ˜¯ä¸€ä¸ªè¾ƒå°çš„å¸¸æ•°ï¼Œè€Œåœ¨ç¨ å¯†å›¾æˆ–ç‰¹æ®Šæ„é€ çš„ç½‘æ ¼å›¾ä¸Šï¼Œç®—æ³•ä»å¯èƒ½é€€åŒ–ä¸º $O(nm)$ï¼Œè¿™ä¹Ÿæ˜¯å¾ˆå¤šäººè¯´ SPFA ç®—æ³•ç„å­¦çš„åŸå› ã€‚ä½†æ˜¯åœ¨é‡åˆ°è´Ÿè¾¹æƒçš„æ—¶å€™ï¼Œåªèƒ½å¤Ÿä½¿ç”¨ SPFAã€‚</p><p>SPFA çš„å®ç°ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> dist[maxn];</span><br><span class="line"><span class="built_in">bitset</span>&lt;maxn&gt; inq; <span class="comment">// è®°å½•æ˜¯å¦åœ¨é˜Ÿåˆ—ä¸­</span></span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SPFA</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="built_in">memset</span>(dist, INF, <span class="keyword">sizeof</span>(dist));</span><br><span class="line">dist[x] = <span class="number">0</span>;</span><br><span class="line">Q.push(x);</span><br><span class="line">inq[x] = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">int</span> k;</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) &#123;</span><br><span class="line">k = Q.front();</span><br><span class="line">Q.pop();</span><br><span class="line">inq[k] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (dist[k] == INF) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[k]; i != NOE; i = edges[i].edgeNext) &#123;</span><br><span class="line"><span class="keyword">int</span> j = edges[i].vertexTo;</span><br><span class="line"><span class="keyword">int</span> w = edges[i].weight;</span><br><span class="line"><span class="keyword">if</span> (dist[j] &gt; dist[k] + w) &#123;</span><br><span class="line">dist[j] = dist[k] + w;</span><br><span class="line"><span class="keyword">if</span> (!inq[j]) &#123;</span><br><span class="line">Q.push(j);</span><br><span class="line">inq[j] = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯å¤„ç†è´Ÿè¾¹æƒçš„å›¾çš„è¯ï¼Œ SPFA å°½é‡ä¸è¦ç”¨ï¼ŒåŸå› å˜›â€¦â€¦å®ƒå¤ªç„äº†ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;å› ä¸ºè‡ªå·±çš„å›¾è®ºå…¶å®æŒæ¡å¾—ä¸æ€ä¹ˆæ ·ï¼Œæ‰€ä»¥å¼€ä¸€ç¯‡åšå®¢ï¼Œæ¥åŠ æ·±ä¸€ä¸‹è‡ªå·±å›¾è®ºçš„åŸºç¡€ã€‚æ³¨æ„ï¼Œæœ¬æ–‡åªæ˜¯åŸºç¡€ï¼Œä¸»è¦æ™®åŠå›¾çš„å­˜å‚¨ï¼Œæœ€çŸ­è·¯å’Œéå†ï¼ˆ$DFS$ å’Œ $BFS$ï¼‰ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å›¾è®º" scheme="http://walesexcitedmei.github.io/categories/%E5%9B%BE%E8%AE%BA/"/>
    
    
      <category term="å›¾è®º" scheme="http://walesexcitedmei.github.io/tags/%E5%9B%BE%E8%AE%BA/"/>
    
      <category term="æœ€çŸ­è·¯" scheme="http://walesexcitedmei.github.io/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
      <category term="Dijkstra" scheme="http://walesexcitedmei.github.io/tags/Dijkstra/"/>
    
      <category term="å›¾çš„éå†" scheme="http://walesexcitedmei.github.io/tags/%E5%9B%BE%E7%9A%84%E9%81%8D%E5%8E%86/"/>
    
      <category term="BFS" scheme="http://walesexcitedmei.github.io/tags/BFS/"/>
    
      <category term="DFS" scheme="http://walesexcitedmei.github.io/tags/DFS/"/>
    
      <category term="Floyd" scheme="http://walesexcitedmei.github.io/tags/Floyd/"/>
    
      <category term="Bellman-Ford" scheme="http://walesexcitedmei.github.io/tags/Bellman-Ford/"/>
    
      <category term="SPFA" scheme="http://walesexcitedmei.github.io/tags/SPFA/"/>
    
  </entry>
  
  <entry>
    <title>[NOIP æ¨¡æ‹Ÿ] 2018-8-8 é¢˜è§£: çˆ†é›¶æ—¥ï¼Œæˆ‘è¯¥ä½•å»ä½•ä»...</title>
    <link href="http://walesexcitedmei.github.io/2018/08/08/NOIP-%E6%A8%A1%E6%8B%9F-2018-8-8-%E9%A2%98%E8%A7%A3-%E7%88%86%E9%9B%B6%E6%97%A5%EF%BC%8C%E6%88%91%E8%AF%A5%E4%BD%95%E5%8E%BB%E4%BD%95%E4%BB%8E/"/>
    <id>http://walesexcitedmei.github.io/2018/08/08/NOIP-æ¨¡æ‹Ÿ-2018-8-8-é¢˜è§£-çˆ†é›¶æ—¥ï¼Œæˆ‘è¯¥ä½•å»ä½•ä»/</id>
    <published>2018-08-08T12:39:18.000Z</published>
    <updated>2018-09-25T12:58:18.175Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä»Šå¤©çš„é¢˜ä¼¼ä¹æ˜¯ Day1 çš„é¢˜ï¼Œç„¶è€Œå´æ˜¯å‹åŠ›å±±å¤§ï¼Œä»ç¬¬ä¸€é¢˜å¼€å§‹å°±å´©ï¼Œç¬¬äºŒé¢˜è€ƒåœºä¸Šæ— è„‘ Dijkstra æ±‚æœ€çŸ­è·¯ï¼Œç¬¬ä¸‰é¢˜æ›´æ˜¯æ‡µé€¼ï¼ˆè€ƒåå¬è¯´ç”¨ Dancing Link åšçš„æ—¶å€™å½»åº•å´©æºƒï¼‰ï¼Œæ€»ä¹‹ï¼Œä»Šå¤©å››ååˆ†ï¼Œä¸çˆ†é›¶ç›¸å·®æ— å‡ ï¼Œæ‰€ä»¥è¿™æ¬¡åœ¨å†™é¢˜è§£çš„åŒæ—¶ï¼Œè¿˜æ˜¯ä¼šå†™ä¸€ç‚¹è€ƒè¯•æŠ€å·§çš„ï¼Œå°¤å…¶æ˜¯ç¬¬ä¸€é¢˜å’Œç¬¬äºŒé¢˜ï¼ˆåŸè°…æˆ‘çŸ¥è¯†æ°´å¹³å®åœ¨ä¸å¤Ÿï¼Œå¯¹ç¬¬ä¸‰é¢˜ä»ç„¶æ‡µé€¼ï¼‰ã€‚<br><a id="more"></a></p><h3 id="T1-åŠ¨æ€ä»™äººæŒ-dinosaur-cpp-c-pas"><a href="#T1-åŠ¨æ€ä»™äººæŒ-dinosaur-cpp-c-pas" class="headerlink" title="T1 åŠ¨æ€ä»™äººæŒ(dinosaur.cpp/c/pas)"></a>T1 åŠ¨æ€ä»™äººæŒ(dinosaur.cpp/c/pas)</h3><p><strong><em>â€”â€”ç©äº†è¿™ä¹ˆå¤šæ¬¡å°æé¾™ï¼Œæ²¡æƒ³åˆ°å®ƒè¿˜ä¼šæŠ¥å¤æˆ‘</em></strong></p><p><strong>[é¢˜ç›®æè¿°]</strong></p><p>ç”±äº Beny åšçš„çƒ§ç½‘çº¿å®éªŒï¼ŒFife å®¶æ–­ç½‘äº†ã€‚<br>Fife ç…§å¸¸æ‰“å¼€äº† Google Chromeï¼Œç”±äºæ–­ç½‘ï¼Œä»–çœ‹åˆ°äº†ä»¥ä¸‹å†…å®¹ï¼š</p><div style="align: center"> <img src="pic1.jpg"> </div><p>çœ‹ åˆ° è¿™ ä¸ª ç®€ å• è€Œ åˆ æœ‰ è¶£ çš„ æ¸¸ æˆ ï¼Œ ä»– ç© äº† èµ· æ¥ ã€‚ ç„¶ å ï¼š</p><div style="align: center"> <img src="pic2.jpg"> </div><p>Fife æ°¸è¿œæ²¡æœ‰ gameoverï¼Œä»–è§‰å¾—è¿™ä¸ªæ¸¸æˆå¤ªç®€å•äº†ï¼Œç°åœ¨ä»–æƒ³è€ƒè€ƒä½ ã€‚å°æé¾™åœ¨æ•°è½´ä¸ŠåŸç‚¹å‡ºå‘å‘å³è¿åŠ¨ï¼Œé€Ÿåº¦ä¸º$1$ä¸ªå•ä½æ¯ç§’ã€‚ç°åœ¨ä½ çŸ¥é“æ¯ä¸€ä¸ªä»™äººæŒçš„ä½ç½®$p[i]$å’Œé«˜åº¦$h[i]$ï¼Œä¸”æ²¡æœ‰æ€ªé¸Ÿçªè¢­ï¼Œè¯·ä½ æ§åˆ¶å°æé¾™è·³è·ƒï¼Œä½¿å®ƒèƒ½è·³è¿‡æœ€åä¸€ä¸ªä»™äººæŒä¸”è·³è·ƒçš„æœ€å¤§é«˜åº¦æœ€å°ã€‚ä¸ºäº†é€æ¸©æš–ç®€åŒ–é—®é¢˜ï¼Œè·³è·ƒæ»¡è¶³ä»¥ä¸‹è§„åˆ™ï¼šå®ƒçš„è·³è·ƒè·¯çº¿ä¸ºä¸¥æ ¼çš„ä¸åœ°é¢å¤¹è§’ä¸º$45$åº¦çš„ç›´çº¿ï¼Œå®ƒåœ¨å¹³åœ°ä¸Šèƒ½éšæ—¶èµ·è·³ï¼Œå®ƒèƒ½åœ¨èµ·ç‚¹å’Œè½åœ°æ—¶åˆ»ç¬é—´èµ·è·³ã€‚ä½ èƒ½æ§åˆ¶å®ƒèµ·è·³çš„æ—¶åˆ»å’Œä¸‹è½çš„æ—¶åˆ»ï¼Œä¸‹è½æ—¶å®ƒä¼šæ²¿ä¸åœ°é¢å¤¹è§’ä¸º$45$åº¦çš„ç›´çº¿ä¸‹é™ã€‚å°æé¾™èƒ½è·³è¿‡ä¸€ä¸ªä»™äººæŒå½“ä¸”ä»…å½“å®ƒåœ¨è¿™ä¸ªä»™äººæŒçš„ä½ç½®æ—¶çš„é«˜åº¦å¤§äºç­‰äºä»™äººæŒçš„é«˜åº¦ã€‚ </p><p><strong>[è¾“å…¥]</strong></p><pre><code>ç¬¬ 1 è¡Œ 1 ä¸ªæ­£æ•´æ•° næ¥ä¸‹æ¥ n è¡Œæ¯è¡Œä¸¤ä¸ªæ­£æ•´æ•° p[i]å’Œ h[i],ä¸ºç¬¬ i ä¸ªä»™äººæŒçš„ä½ç½®å’Œé«˜åº¦ï¼Œä¸ä¿è¯ p[i]å•è°ƒé€’å¢ï¼Œå¯èƒ½ä¼šæœ‰ä¸¤ä¸ªä»™äººæŒåœ¨åŒä¸€ä½ç½®ã€‚ </code></pre><p><strong>[è¾“å‡º]</strong></p><pre><code>ä½ éœ€è¦æ§åˆ¶å°æé¾™è·³è·ƒï¼Œä½¿å®ƒèƒ½è·³è¿‡æ‰€æœ‰ä»™äººæŒï¼Œä¸”è·³è·ƒçš„æœ€å¤§é«˜åº¦æœ€å°ï¼Œè¾“å‡ºè¿™ä¸ªé«˜åº¦ï¼Œä¿ç•™ 1 ä½å°æ•°ï¼Œå¦‚æœæ— è§£ï¼Œè¾“å‡º-1</code></pre><p><strong>[æ ·ä¾‹è¾“å…¥]</strong></p><pre><code>55 29 313 219 320 1</code></pre><p><strong>[æ ·ä¾‹è¾“å‡º]</strong></p><pre><code>6.0</code></pre><p><strong>[æ•°æ®è§„æ¨¡]</strong></p><pre><code>å¯¹äº 30%çš„æ•°æ®ï¼šn&lt;=200, p[i] &lt;= 1000, h[i] &lt;= 100å¯¹äº 60%çš„æ•°æ®ï¼šn&lt;= 50000, p[i] &lt;= 3000000, h[i] &lt;= 500å¯¹äº 100%çš„æ•°æ®ï¼šn &lt;= 300000, p[i] &lt; 2^31, h[i] &lt;=40000, æ•°æ®ä¿è¯æ— éœ€ä½¿ç”¨ longlong æˆ– int64</code></pre><p><strong>[é¢˜è§£]</strong></p><p>çœ‹åˆ°è¿™æ˜¯ç¬¬ä¸€é“é¢˜ï¼Œå¿ƒæƒ³ï¼Œè¿™ä¸€å®šå¾ˆç®€å•ï¼Œåªè¦è´ªå¿ƒå°±è¡Œäº†ï¼Œä¸€å †åˆ¤æ–­ï¼Œç„¶åä¿¡å¿ƒæ»¡æ»¡åœ°æäº¤â€¦â€¦æœ€ååªå¯¹äº†ä¸€ä¸ªç‚¹â€¦â€¦æ­¤å¤„é™„ä¸Š <strong>WA ä»£ç </strong>:</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 310000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max(a, b) (a &gt; b ? a : b)</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, p[maxn], h[maxn];</span><br><span class="line"><span class="built_in">bitset</span>&lt;maxn&gt; goDown;</span><br><span class="line"><span class="keyword">double</span> ans = -INF;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">goDown.<span class="built_in">set</span>();</span><br><span class="line"><span class="built_in">memset</span>(h, <span class="number">0</span>, <span class="keyword">sizeof</span>(h));</span><br><span class="line">p[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">judgeDown</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (h[i] &gt;= h[i + <span class="number">1</span>] + p[i + <span class="number">1</span>] - p[i]) goDown[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (h[i] + h[i + <span class="number">1</span>] &lt;= p[i + <span class="number">1</span>] - p[i]) goDown[i] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> goDown[i] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judgeCan</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (p[i] - p[i - <span class="number">1</span>] + h[i - <span class="number">1</span>] &lt; h[i]) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»¥ä¸Šä¸¤ä¸ª judge å‡½æ•°æ˜¯ WA ä¹‹ç²¾é«“æ‰€åœ¨ï¼ˆé›¾ï¼‰</span></span><br><span class="line"><span class="comment">// åªè€ƒè™‘äº†ç›¸é‚»ä¸¤ä¸ªä»™äººæŒçš„å…³ç³»ï¼Œå¦‚æœåœ¨ä¸‹é™çš„æ—¶å€™æ’åˆ°å¦å¤–ä¸€ä¸ªä»™äººæŒ</span></span><br><span class="line"><span class="comment">// é‚£ä¹ˆå°æé¾™å°± GG äº†</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">calh</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (h[x] &gt; h[y] + p[y] - p[x] &amp;&amp; x + <span class="number">1</span> == y) <span class="keyword">return</span> (<span class="keyword">double</span>)h[x];</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> (<span class="keyword">double</span>)(p[y] - p[x] + h[x] + h[y]) / <span class="number">2.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">"dinosaur.in"</span>)</span></span>;</span><br><span class="line"><span class="function">ofstream <span class="title">out</span><span class="params">(<span class="string">"dinosaur.out"</span>)</span></span>;</span><br><span class="line">in.tie(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">in &gt;&gt; n;</span><br><span class="line">init();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">in &gt;&gt; p[i] &gt;&gt; h[i];</span><br><span class="line"><span class="keyword">if</span> (!judgeCan(i)) &#123;</span><br><span class="line">out &lt;&lt; <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) judgeDown(i);</span><br><span class="line"><span class="keyword">int</span> key = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">double</span> tmp;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n &amp;&amp; key &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (goDown[i]) &#123;</span><br><span class="line"><span class="keyword">double</span> tmp = calh(key, i);</span><br><span class="line">ans = max(ans, tmp);</span><br><span class="line">key = i + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (p[i] + h[i] &gt; p[i + <span class="number">1</span>]) key += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">out &lt;&lt; setprecision(<span class="number">1</span>) &lt;&lt; fixed &lt;&lt; ans;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™ä¸ªå®ä¾‹å‘Šè¯‰å¤§å®¶ï¼Œè´ªå¿ƒå‰å…ˆåšå¥½åˆ†æå‡†å¤‡å·¥ä½œï¼Œå¦åˆ™å°±ä¼šåƒæˆ‘è¿™æ ·......</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆåˆ°åº•è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p><p>ç”±äºè¿™æ˜¯ä¸€åªç†ï¼ˆbianï¼‰æƒ³ï¼ˆtaiï¼‰åŒ–è¿‡çš„å°æé¾™ï¼Œå®ƒåªä¼šä¸åœ°é¢å‘ˆ$45$åº¦è·³è·ƒï¼Œè€Œä¸”å¯ä»¥æ— é™å‡å¤©ï¼Œ<del>æ³•åŠ›æ— è¾¹</del>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä»æ¯ä¸€ä¸ªä»™äººæŒçš„è·³è·ƒè¾¹ç•Œæ¥è€ƒè™‘ï¼š</p><div style="align: center"> <img src="T1_1.jpg"> </div><p>è€ƒè™‘ä¸¤ç§ä¸åŒçš„ä»™äººæŒæƒ…å†µï¼š</p><div style="align: center"> <img src="T1_2.jpg"> </div><p>é‚£ä¹ˆå°±æœ‰ä¸¤ç§åšæ³•äº†ï¼Œç¬¬ä¸€ç§ï¼Œåˆ å»æ‰€æœ‰åƒç»¿è‰²ä»™äººæŒé‚£æ ·çš„ä»™äººæŒï¼Œç„¶åç›´æ¥è®¡ç®—ï¼›ç¬¬äºŒç§ï¼Œä¹Ÿæ˜¯æ ‡ç¨‹çš„æ–¹æ³•ï¼Œé€ä¸ªè¿›è¡Œåˆ¤æ–­ï¼Œç»´æŠ¤ first å’Œ last è¿™ä¸¤ä¸ªå€¼ï¼Œåˆ†åˆ«è¡¨ç¤ºä¸€ç»„è·³è·ƒï¼ˆä¸€æ¬¡ä¸Šå’Œä¸€æ¬¡ä¸‹ï¼‰çš„å·¦å³è¾¹ç•Œï¼Œç„¶åè®¡ç®—ã€‚</p><p><strong>[å‚è€ƒä»£ç ]</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨ï¼šæœ¬ä»£ç ä½¿ç”¨çš„æ˜¯ç¬¬äºŒç§æ–¹æ³•</span></span><br><span class="line"><span class="comment">// ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•çš„åŒå­¦å¯ä»¥ä½¿ç”¨ç±»é“¾è¡¨çš„æ–¹å¼æ¥å­˜å‚¨æ•°æ®ï¼ŒåŠ å¿«æ•ˆç‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 310000</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">segment</span> &#123;</span> <span class="keyword">int</span> l; <span class="keyword">int</span> r; &#125;;</span><br><span class="line"><span class="keyword">int</span> n, p, h;</span><br><span class="line"><span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line">segment a[maxn];</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">compare</span><span class="params">(segment a, segment b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> a.l &lt; b.l || (a.l == b.l &amp;&amp; a.r &lt; b.r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">"dinosaur.in"</span>)</span></span>;</span><br><span class="line"><span class="function">ofstream <span class="title">out</span><span class="params">(<span class="string">"dinosaur.out"</span>)</span></span>;</span><br><span class="line">in.tie(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">in &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">in &gt;&gt; p &gt;&gt; h;</span><br><span class="line">a[i].l = p - h;</span><br><span class="line">a[i].r = p + h;</span><br><span class="line">&#125;</span><br><span class="line">sort(a + <span class="number">1</span>, a + n + <span class="number">1</span>, compare);</span><br><span class="line"><span class="keyword">if</span> (a[<span class="number">1</span>].l &lt; <span class="number">0</span>) &#123;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> last = a[<span class="number">1</span>].r;</span><br><span class="line"><span class="keyword">int</span> first = a[<span class="number">1</span>].l;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++i) &#123;</span><br><span class="line"><span class="keyword">if</span> (a[i].l &lt; last) last = max(last, a[i].r);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">ans = max(ans, (last - first) * <span class="number">1.0</span> / <span class="number">2.0</span>);</span><br><span class="line">first = a[i].l;</span><br><span class="line">last = a[i].r;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">ans = max(ans, (last - first) * <span class="number">1.0</span> / <span class="number">2.0</span>);</span><br><span class="line">out &lt;&lt; fixed &lt;&lt; setprecision(<span class="number">1</span>) &lt;&lt; ans;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>[è¯„ä»·]</strong></p><p>å…¶å®æ€ç»´éš¾åº¦å¹¶ä¸å¤§ï¼Œä¸»è¦æ˜¯è€ƒéªŒå¯¹ç®—æ³•æ˜¯å¦æŒæ¡åˆ°ä½ï¼Œè­¬å¦‚ç”¨è´ªå¿ƒï¼Œè¿™é“é¢˜å¹¶ä¸èƒ½ä»å¤´è´ªåˆ°å°¾ï¼Œé‚£æ ·ä¼šå‡ºé—®é¢˜ï¼Œå¿…é¡»è€ƒè™‘æ‰€æœ‰å¯èƒ½æƒ…å†µï¼Œè¿™ä¹Ÿæ˜¯æœ¬é¢˜æ ·ä¾‹çš„å‘äººä¹‹å¤„æ‰€åœ¨ï¼Œä»¥åè€ƒè¯•æ—¶ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªæ ·ä¾‹ï¼Œé‚£å¿…é¡»å¾—å°å¿ƒå‡ºé¢˜è€å¸ˆå‡ºé˜´æ‹›ï¼Œæœ€å¥½æ˜¯è‡ªå·±<del>è„‘æ»šé”®ç›˜</del>æ¥å‡ºå‡ ä¸ªæ•°æ®æ‰‹ç®—æµ‹è¯•ä¸€ä¸‹ã€‚</p><h3 id="T2-ç›¸äº¤-inter-cpp-c-pas"><a href="#T2-ç›¸äº¤-inter-cpp-c-pas" class="headerlink" title="T2 ç›¸äº¤(inter.cpp/c/pas)"></a>T2 ç›¸äº¤(inter.cpp/c/pas)</h3><p><strong><em>â€”â€”æ—§æ—¶ Dijkstra å ‚å‰ O(mlog n)ï¼Œé£å…¥å¯»å¸¸ NOIER å®¶ã€‚</em></strong></p><p><strong>[é¢˜ç›®æè¿°]</strong></p><p>ä¸€æ£µå¤§æ ‘ä¸‹æœ‰$n$ä¸ªå·¢ç©´ï¼Œç”±$n-1$æ¡åŒå‘é“è·¯è¿æ¥ï¼Œä»»æ„ä¸¤ä¸ªåŸå¸‚å‡å¯äº’ç›¸åˆ°è¾¾ã€‚<br>å¤§æ ‘é™„è¿‘æœ‰ä¸¤ç¾¤èš‚èšï¼Œæ¯å¤©æ—©ä¸Šï¼Œç¬¬ä¸€ç¾¤èš‚èšä¼šæ´¾ä¸€åªèš‚èšåˆ°è¿™æ£µæ ‘ä¸‹ï¼Œå¹¶åœ¨ç¬¬$a$ä¸ªå·¢ç©´åˆ°ç¬¬$b$ ä¸ªå·¢ç©´é—´çš„æœ€çŸ­è·¯å¾„ä¸Šçš„æ¯ä¸ªå·¢ç©´ç•™ä¸‹æ°”å‘³ã€‚æ¯å¤©å‚æ™šï¼Œç¬¬äºŒç¾¤èš‚èšä¼šæ´¾ä¸€åªèš‚èšåˆ°è¿™æ£µæ ‘ä¸‹ï¼Œå¹¶ä¾¦æŸ¥ç¬¬$c$ä¸ªå·¢ç©´åˆ°ç¬¬$d$ä¸ªå·¢ç©´é—´çš„æœ€çŸ­è·¯å¾„ä¸Šæ˜¯å¦æœ‰èš‚èšç•™ä¸‹çš„æ°”å‘³ã€‚æ¯å¤©èš‚èšç•™ä¸‹çš„æ°”å‘³ä¼šåœ¨å½“å¤©æ·±å¤œæ¶ˆå¤±ã€‚ </p><p><strong>[è¾“å…¥]</strong></p><pre><code>ç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•° nï¼Œå«ä¹‰å¦‚é¢˜æ‰€ç¤ºã€‚æ¥ä¸‹æ¥ n-1 è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ­£æ•´æ•° u,vï¼Œè¡¨ç¤ºç¬¬ u ä¸ªå·¢ç©´å’Œç¬¬ v ä¸ªå·¢ç©´é—´æœ‰ä¸€æ¡åŒå‘é“è·¯ã€‚æ¥ä¸‹æ¥ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•° qï¼Œè¡¨ç¤ºå¤©æ•°ã€‚æ¥ä¸‹æ¥ q è¡Œï¼Œæ¯è¡Œå››ä¸ªæ­£æ•´æ•° a,b,c,dï¼Œå«ä¹‰å¦‚é¢˜æ‰€ç¤ºã€‚ </code></pre><p><strong>[è¾“å‡º]</strong></p><pre><code>q è¡Œï¼Œæ¯è¡Œä¸€ä¸ªå­—ç¬¦ä¸²ã€‚è‹¥ç¬¬äºŒç¾¤æ´¾å‡ºçš„èš‚èšä¾¦æŸ¥åˆ°èš‚èšç•™ä¸‹çš„æ°”å‘³ï¼Œåˆ™è¾“å‡ºâ€YESâ€,å¦åˆ™è¾“å‡ºâ€NOâ€</code></pre><p><strong>[æ ·ä¾‹è¾“å…¥]</strong></p><pre><code>æ ·ä¾‹è¾“å…¥ 181 21 32 42 55 65 73 842 5 4 35 3 8 85 4 6 74 8 6 7æ ·ä¾‹è¾“å…¥ 2152 13 14 25 36 27 28 59 310 611 512 713 1114 115 151 2 3 44 7 1 92 3 7 92 6 7 82 1 6 8</code></pre><p><strong>[æ ·ä¾‹è¾“å‡º]</strong></p><pre><code>æ ·ä¾‹è¾“å‡º 1YESNOYESNOæ ·ä¾‹è¾“å‡º 2YESNOYESYESYES</code></pre><p><strong>[æ•°æ®è§„æ¨¡]</strong></p><pre><code>å¯¹äº 30%çš„æ•°æ® 1&lt;=n,q&lt;=3000å¯¹äºå¦å¤– 20%çš„æ•°æ® ç¬¬ i æ¡è¾¹è¿æ¥ç¬¬ i ä¸ªå·¢ç©´å’Œç¬¬ i+ä¸ªå·¢ç©´å¯¹äº 100%çš„æ•°æ® 1&lt;=n,q&lt;=100000</code></pre><p><strong>[é¢˜è§£]</strong></p><p>é¦–å…ˆè®²ä¸€ä¸‹æˆ‘è€ƒè¯•çš„æ—¶å€™æ˜¯æ€ä¹ˆæƒ³çš„ï¼Œæˆ‘æƒ³æ—¢ç„¶æ˜¯æœ€çŸ­è·¯å¾„ï¼Œè¿˜æ˜¯ä¸ªå›¾ï¼ˆå½“æ—¶æ²¡çœ‹å‡ºæ˜¯æ ‘ï¼‰ï¼Œé‚£ä¹ˆ Dijkstra æ— ç–‘äº†ï¼Œæ½‡æ½‡æ´’æ´’ä¸€ç™¾è¡Œæ‰“å®Œï¼Œç”¨äº†ä¸¤ä¸ª bitset å†ç”¨äº†ä¸€ä¸ªç¥å¥‡çš„æ–¹æ³•è®°å½•è·¯å¾„ã€‚å¥½ï¼å°±æ˜¯è¿™æ ·ï¼Œä¸€å®š <strong>AC</strong> äº†ï¼ç»“æœï¼š<strong>TLE</strong>â€¦â€¦é™„ä¸Š Dijkstra æš´åŠ›ä»£ç ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 110000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxq 110000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOE -1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edgeNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> vertexFrom;</span><br><span class="line"><span class="keyword">int</span> vertexTo;</span><br><span class="line"><span class="keyword">int</span> edgeNext;</span><br><span class="line"><span class="keyword">bool</span> weight;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">heapNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> u, d;</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt;(<span class="keyword">const</span> heapNode&amp; b) <span class="keyword">const</span> &#123;</span><br><span class="line"><span class="keyword">return</span> d &gt; b.d;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">edgeNode edges[maxn];</span><br><span class="line"><span class="keyword">int</span> heads[maxn];</span><br><span class="line"><span class="keyword">int</span> numEdges = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> n, q, u, v, a, b, c, d;</span><br><span class="line"><span class="keyword">bool</span> judge = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">bitset</span>&lt;maxn&gt; smell1;</span><br><span class="line"><span class="built_in">bitset</span>&lt;maxn&gt; smell2;</span><br><span class="line"><span class="keyword">int</span> path[maxn];</span><br><span class="line"><span class="keyword">int</span> dist[maxn];</span><br><span class="line">priority_queue&lt;heapNode&gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(heads, NOE, <span class="keyword">sizeof</span>(heads)); &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2)</span> </span>&#123;</span><br><span class="line">numEdges++;</span><br><span class="line">edges[numEdges].vertexFrom = vertex1;</span><br><span class="line">edges[numEdges].vertexTo = vertex2;</span><br><span class="line">edges[numEdges].weight = <span class="literal">true</span>;</span><br><span class="line">edges[numEdges].edgeNext = heads[vertex1];</span><br><span class="line">heads[vertex1] = numEdges;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addDuplexEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2)</span> </span>&#123;</span><br><span class="line">addEdge(vertex1, vertex2);</span><br><span class="line">addEdge(vertex2, vertex1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) Q.pop();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) dist[i] = INF;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) path[i] = i;</span><br><span class="line">dist[x] = <span class="number">0</span>;</span><br><span class="line">Q.push((heapNode)&#123; x, <span class="number">0</span> &#125;);</span><br><span class="line"><span class="keyword">while</span> (!Q.empty()) &#123;</span><br><span class="line">heapNode f = Q.top();</span><br><span class="line">Q.pop();</span><br><span class="line"><span class="keyword">int</span> u = f.u;</span><br><span class="line"><span class="keyword">int</span> dis = f.d;</span><br><span class="line"><span class="keyword">if</span> (dis != dist[u]) <span class="keyword">continue</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[u]; i != NOE; i= edges[i].edgeNext) &#123;</span><br><span class="line"><span class="keyword">int</span> j = edges[i].vertexTo;</span><br><span class="line"><span class="keyword">int</span> w = edges[i].weight;</span><br><span class="line"><span class="keyword">if</span> (dist[j] &gt; dist[u] + w) &#123;</span><br><span class="line">dist[j] = dist[u] + w;</span><br><span class="line">path[j] = u; <span class="comment">// è®°å½•è·¯å¾„</span></span><br><span class="line">Q.push((heapNode)&#123; j, dist[j] &#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updateSmell1</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = b;</span><br><span class="line"><span class="keyword">while</span> (tmp != a) &#123;</span><br><span class="line">smell1[tmp] = <span class="number">1</span>;</span><br><span class="line">tmp = path[tmp];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">updateSmell2</span><span class="params">(<span class="keyword">int</span> c, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> tmp = d;</span><br><span class="line"><span class="keyword">while</span> (tmp != c) &#123;</span><br><span class="line">smell2[tmp] = <span class="number">1</span>;</span><br><span class="line">tmp = path[tmp];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">freopen(<span class="string">"inter.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">freopen(<span class="string">"inter.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line"><span class="comment">// fstream ä¸çŸ¥æ€ä¹ˆå°±ä¸èƒ½å–æ¶ˆ sync_with_stdioï¼Œä¸ºäº†åŠ å¿«é€Ÿåº¦åªèƒ½ä½¿ç”¨ freopen</span></span><br><span class="line">init();</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n - <span class="number">1</span>; ++i) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">addDuplexEdge(u, v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= q; ++i) &#123;</span><br><span class="line">smell1.reset();</span><br><span class="line">smell2.reset();</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;a, &amp;b, &amp;c, &amp;d);</span><br><span class="line"><span class="keyword">if</span> ((a == c &amp;&amp; b == d) || (a == d &amp;&amp; b == c)) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">smell1[a] = <span class="number">1</span>;</span><br><span class="line">smell2[c] = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// TLE TLE TLE TLE TLE TLE TLE TLE TLE TLE TTTTTTLLLLLLEEEE</span></span><br><span class="line">Dijkstra(a);</span><br><span class="line">updateSmell1(a, b);</span><br><span class="line">Dijkstra(c);</span><br><span class="line">updateSmell2(c, d);</span><br><span class="line"><span class="comment">// TLE TLE TLE TLE TLE TLE TLE TLE TLE TLE TTTTTTLLLLLLEEEE</span></span><br><span class="line">judge = (smell1 &amp; smell2).any();</span><br><span class="line"><span class="keyword">if</span> (judge) <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶å®å¦‚æœçœ‹å‡ºäº†è¿™æ˜¯æ£µæ ‘çš„è¯ï¼Œæ˜¯å¯ä»¥ç”¨å¹¿æœçš„â€¦â€¦å¯ä»¥å¿«ä¸å°‘ã€‚</p><p>å¥½äº†ï¼Œè¯´æ­£è§£ï¼šå°±åƒä¸Šé¢æ‰€è¯´çš„ï¼Œè¿™æ˜¯ä¸€æ£µæ ‘ï¼ˆå•¥ï¼Ÿä½ é—®æˆ‘æ€ä¹ˆçœ‹å‡ºçš„ï¼Ÿä»”ç»†è¯»é¢˜ï¼ï¼ï¼‰ï¼Œæ‰€ä»¥è·å–æœ€çŸ­è·ç¦»ä¸€å®šæ˜¯æ±‚ä¸¤ä¸ªç‚¹çš„ $LCA$ äº†ã€‚é‚£å¦‚ä½•æ ‡è®°å‘¢ï¼Ÿï¼Ÿè¿™æ˜¯ä¸ªå¥½é—®é¢˜ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šå»æƒ³æ ‡è®°ç»è¿‡çš„ç‚¹ï¼Œç„¶è€Œï¼Œå¦‚æœç”¨å€å¢ $LCA$ æ±‚ï¼Œä¸€å®šä¼šè·³è¿‡ç»è¿‡çš„ç‚¹ï¼Œå¦‚æœç”¨æœ´ç´ ç®—æ³•æ±‚çš„è¯â€¦â€¦é‚£è¿˜ä¸å¦‚ $BFS$ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»ä½¿ç”¨å¦å¤–çš„æ–¹æ³•äº†ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬ç”»ä¸€æ£µæ ‘ï¼š</p><div style="align: center"> <img src="T2_1.jpg"> </div><p>é€šè¿‡è§‚å¯Ÿå’Œä¸¾ä¾‹ï¼Œæˆ‘ä»¬å‘ç°ï¼Œåªæœ‰å½“</p><ol><li>$a$ å’Œ $LCA(c, d)$ åœ¨åŒä¸€æ¡é“¾ä¸Šï¼Œä¸” $LCA(a, b)$ ä¹Ÿåœ¨è¿™æ¡é“¾ä¸Šï¼›</li><li>$b$ å’Œ $LCA(c, d)$ åœ¨åŒä¸€æ¡é“¾ä¸Šï¼Œä¸” $LCA(a, b)$ ä¹Ÿåœ¨è¿™æ¡é“¾ä¸Šï¼›</li><li>$c$ å’Œ $LCA(a, b)$ åœ¨åŒä¸€æ¡é“¾ä¸Šï¼Œä¸” $LCA(c, d)$ ä¹Ÿåœ¨è¿™æ¡é“¾ä¸Šï¼›</li><li>$d$ å’Œ $LCA(a, b)$ åœ¨åŒä¸€æ¡é“¾ä¸Šï¼Œä¸” $LCA(c, d)$ ä¹Ÿåœ¨è¿™æ¡é“¾ä¸Šï¼›</li></ol><p>ä»¥ä¸Šå››è€…æ»¡è¶³å…¶ä¸€æ—¶æ‰èƒ½å¤Ÿæ˜¯ YESï¼Œå¦åˆ™å°±æ˜¯ NOã€‚</p><p>ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿå¦‚ä½•å®ç°å‘¢ï¼Ÿ<br>é¦–å…ˆæ€è€ƒï¼šåˆ°è¾¾$a$ï¼Œ$b$ä¸¤ç‚¹å¿…å®šç»è¿‡å®ƒä»¬çš„ $LCA$ï¼Œé‚£ä¹ˆï¼Œåªè¦å®ƒä»¬ä¸¤ç‚¹ä¸å¦å¤–ä¸¤ç‚¹çš„ $LCA $åœ¨ä¸€æ¡é“¾ä¸Šï¼ˆè¿™ä¸ªä¸æ˜¯å¾ˆä¸¥è°¨ï¼Œè¿™é‡Œçš„é“¾æŒ‡çš„æ˜¯å°†æ ‘çœ‹æˆ $DAG$ æ—¶ï¼Œå³è‹¥ $LCA(u, v) = v$ æ—¶ï¼Œ$u$ï¼Œ$v$åœ¨ä¸€æ¡é“¾ä¸Šï¼‰ï¼Œä¸”å®ƒä»¬ä¸¤ä¸ªç‚¹çš„ $LCA$ æ·±åº¦æ¯”å¦å¤–ä¸¤ç‚¹çš„æ·±åº¦å°æ—¶ï¼Œä¸¤æ¡è·¯å¾„å¿…æœ‰é‡å çš„éƒ¨åˆ†ï¼ˆå¦‚å›¾ï¼Œ$d$ä¸ $LCA(a, b)$ åœ¨ä¸€æ¡é“¾ä¸Šï¼Œä¸” $LCA(a, b)$ çš„æ·±åº¦æ¯” $LCA(c, d)$ çš„æ·±åº¦å¤§ï¼Œæ‰€ä»¥ä¸¤è€…è·¯å¾„å¿…æœ‰äº¤é›†ï¼‰</p><p>å¦‚æ­¤åˆ†æï¼Œä»£ç ä¹Ÿå°±å‘¼ä¹‹æ¬²å‡ºäº†ã€‚</p><p><strong>[å‚è€ƒä»£ç ]</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 110000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOE -1</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edgeNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> vertexTo;</span><br><span class="line"><span class="keyword">int</span> edgeNext;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">edgeNode edges[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="comment">// æ³¨æ„ç”±äºæ˜¯æ— å‘è¾¹ï¼Œè€Œå‰å‘æ˜Ÿåªèƒ½æŒ‰ç…§åŒå‘è¾¹å¤„ç†ï¼Œæ‰€ä»¥è¦ä¹˜äºŒ</span></span><br><span class="line"><span class="keyword">int</span> heads[maxn];</span><br><span class="line"><span class="keyword">int</span> numEdges = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> f[maxn][<span class="number">20</span>], dep[maxn];</span><br><span class="line"><span class="keyword">int</span> n, q, u, v, a, b, c, d;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(heads, NOE, <span class="keyword">sizeof</span>(heads)); &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2)</span> </span>&#123;</span><br><span class="line">numEdges++;</span><br><span class="line">edges[numEdges].vertexTo = vertex2;</span><br><span class="line">edges[numEdges].edgeNext = heads[vertex1];</span><br><span class="line">heads[vertex1] = numEdges;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addDuplexEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2)</span> </span>&#123;</span><br><span class="line">addEdge(vertex1, vertex2);</span><br><span class="line">addEdge(vertex2, vertex1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">rDFS</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> fa)</span> </span>&#123;</span><br><span class="line">f[x][<span class="number">0</span>] = fa;</span><br><span class="line">dep[x] = dep[fa] + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">18</span>; ++i) </span><br><span class="line">f[x][i] = f[f[x][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[x]; i != NOE; i = edges[i].edgeNext)</span><br><span class="line"><span class="keyword">if</span> (edges[i]. vertexTo != fa)</span><br><span class="line">rDFS(edges[i].vertexTo, x);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">LCA</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">18</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line"><span class="keyword">if</span> (dep[f[u][i]] &gt;= dep[v])</span><br><span class="line">u = f[u][i];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">18</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line"><span class="keyword">if</span> (dep[f[v][i]] &gt;= dep[u])</span><br><span class="line">v = f[v][i];</span><br><span class="line"><span class="keyword">if</span> (u == v) <span class="keyword">return</span> u;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">18</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line"><span class="keyword">if</span> (f[u][i] != f[v][i]) &#123;</span><br><span class="line">u = f[u][i];</span><br><span class="line">v = f[v][i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> f[u][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰¾ LCA</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">inOneChain</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (LCA(u, w) == w) &amp;&amp; (dep[w] &gt;= dep[v]);</span><br><span class="line"><span class="comment">// åˆ¤æ–­é“¾å’Œæ·±åº¦å…³ç³»</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">judge</span><span class="params">(<span class="keyword">int</span> a0, <span class="keyword">int</span> b0, <span class="keyword">int</span> c0, <span class="keyword">int</span> d0)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> lca1 = LCA(a0, b0);</span><br><span class="line"><span class="keyword">int</span> lca2 = LCA(c0, d0);</span><br><span class="line"><span class="keyword">return</span> (inOneChain(a0, lca1, lca2) || inOneChain(b0, lca1, lca2)</span><br><span class="line">|| inOneChain(c0, lca2, lca1) || inOneChain(d0, lca2, lca1));</span><br><span class="line"><span class="comment">// å››è€…åªè¦æ»¡è¶³å…¶ä¸€å°±ä¼šæœ‰äº¤é›†ï¼Œæ‰€ä»¥å–æˆ–å°±è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">freopen(<span class="string">"inter.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">freopen(<span class="string">"inter.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>);</span><br><span class="line"><span class="comment">// æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼Œfstream ä¸€å…³æ‰åŒæ­¥å°±ä¼šå´©ï¼Œæ— å¥ˆåªèƒ½ç”¨ freopen</span></span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">init();</span><br><span class="line"><span class="comment">// å¾ªç¯æ—¶ i åªèƒ½åˆ° n - 1ï¼Œè¿˜æ˜¯æé†’ä»”ç»†è¯»é¢˜</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d"</span>, &amp;u, &amp;v);</span><br><span class="line">addDuplexEdge(u, v);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">memset</span>(f, <span class="number">0</span>, <span class="keyword">sizeof</span>(f)); <span class="comment">// åˆ«å¿˜è®°åˆå§‹åŒ–</span></span><br><span class="line">rDFS(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= q; ++i) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d%d%d%d"</span>, &amp;a, &amp;b, &amp;c, &amp;d);</span><br><span class="line"><span class="keyword">if</span> (judge(a, b, c, d)) <span class="built_in">printf</span>(<span class="string">"YES\n"</span>);</span><br><span class="line"><span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"NO\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>[è¯„ä»·]</strong></p><p>æ€ç»´éš¾åº¦è¾ƒå¤§ï¼Œæƒ³åˆ°æ±‚äº¤é›†çš„æ–¹æ³•åä»ç„¶è¦ç”»å¾ˆå¤šå›¾æ¥æ€»ç»“è§„å¾‹ï¼Œå¦åˆ™è§„å¾‹å¾ˆæœ‰å¯èƒ½æ˜¯é”™è¯¯çš„æˆ–è€…æ˜¯ç‰‡é¢çš„ã€‚å†æ¬¡æé†’ä»”ç»†è¯»é¢˜ï¼Œå› ä¸ºé¢˜ç›®ä¸­åŒ…å«äº†å¾ˆå¤šéšè—æ¡ä»¶ï¼Œè¿™äº›éšè—æ¡ä»¶ä¹Ÿå°¤ä¸ºé‡è¦ï¼Œä¸ç®¡æ˜¯å¯¹æ­£è§£è¿˜æ˜¯å¯¹<del>æš´åŠ›</del>æœ´ç´ ç®—æ³•æ¥è¯´ï¼Œéƒ½å¯ä»¥æé«˜æ•ˆç‡ã€‚è¿™æ˜¯ä¸€é“éš¾é¢˜ï¼Œè¿˜æ˜¯ä¸€é“å‘é¢˜ã€‚</p><h3 id="T3-èªæ˜æ ¼-kenken-cpp-c-pas"><a href="#T3-èªæ˜æ ¼-kenken-cpp-c-pas" class="headerlink" title="T3 èªæ˜æ ¼(kenken.cpp/c/pas)"></a>T3 èªæ˜æ ¼(kenken.cpp/c/pas)</h3><p><strong>[é¢˜ç›®æè¿°]</strong><br>èªæ˜æ ¼æ˜¯ä¸€ç§æ•°å­—æ¸¸æˆï¼Œåˆå ªç§°å‡çº§ç‰ˆçš„æ•°ç‹¬ï¼Œè¯ç”Ÿæ—¥æœ¬ã€‚å®ƒåœ¨æ•°å­¦ä¸Šçš„è¦æ±‚æ¯”æ•°ç‹¬è¦é«˜å¾—å¤šï¼Œå®ƒæŠŠæ•°ç‹¬è§„åˆ™ä¸åŠ å‡ä¹˜é™¤å››åˆ™è¿ç®—ç›¸ç»“åˆï¼Œä½¿å¤§è„‘åœ¨å„ç§è°œé¢˜ä¸­æ¥å›ç©¿æ¢­ã€‚</p><p>å®ƒçš„è§„åˆ™æ˜¯è¿™æ ·çš„ï¼š<br>æœ‰ä¸€ä¸ª $n\times n$ çš„æ£‹ç›˜ï¼Œæ¯ä¸ªæ ¼å­é‡Œå¡«ä¸€ä¸ªåœ¨ 1~n èŒƒå›´å†…çš„æ•°ï¼Œä½¿å¾—æ¯è¡Œæ¯åˆ—æ²¡æœ‰é‡å¤çš„æ•°å­—ï¼Œ(å³ 1~n æ¯ä¸ªæ•°åœ¨æ¯è¡Œå’Œæ¯åˆ—å„å‡ºç°ä¸€æ¬¡)ï¼Œä¸”æ»¡è¶³ä¸‹åˆ—æ¡ä»¶:</p><div style="align: center"> <img src="pic3.jpg"> </div><br><div style="align: center"> <img src="pic4.jpg"> </div><p>ç°åœ¨ç»™ä½ ä¸€ä¸ª $n\times n$ çš„æ£‹ç›˜ï¼Œè®©ä½ å®Œæˆå®ƒï¼Œå¹¶è¾“å‡ºè§£çš„ä¸ªæ•°å’Œå­—å…¸åºæœ€å°çš„æ–¹æ¡ˆã€‚æ•°æ®ä¿è¯ä¸€å®šæœ‰è§£ã€‚ </p><p><strong>[è¾“å…¥]</strong></p><pre><code>ç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•° nï¼Œè¡¨ç¤ºæ£‹ç›˜çš„è¡Œæ•°å’Œåˆ—æ•°ã€‚æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œ n ä¸ªæ­£æ•´æ•°ã€‚è¡¨ç¤ºï¼šç›¸åŒæ•°å­—æ„æˆäº†è®¸å¤šä¸ªè¿é€šå—ï¼Œå‡è®¾è¿™ä¸ªå››è¿é€šå—å†…æ¯ä¸ªæ•°å­—éƒ½ä¸º a,é‚£ä¹ˆä½ åœ¨è¿™äº›æ ¼å­ä¸Šå¡«çš„æ•°çš„ä¹˜ç§¯åº”è¯¥ç­‰äº aã€‚ï¼ˆå…·ä½“æè¿°è§æ ·ä¾‹ï¼‰</code></pre><p><strong>[è¾“å‡º]</strong></p><pre><code>è¾“å‡ºå…± n+1 è¡Œï¼Œç¬¬ä¸€è¡Œè¾“å‡ºè§£çš„ä¸ªæ•°æ¥ä¸‹æ¥ n è¡Œï¼Œæ¯è¡Œ n ä¸ªæ­£æ•´æ•°ã€‚è¡¨ç¤º n*n çš„çŸ©é˜µé‡Œæ¯ä¸ªæ•°å­—çš„å€¼ï¼ˆå­—å…¸åºæœ€å°çš„æ–¹æ¡ˆï¼‰ã€‚ </code></pre><p><strong>[è¾“å…¥æ ·ä¾‹ 1]</strong></p><pre><code>46 6 1 1446 2 144 1444 2 144 412 12 4 4æ³¨ï¼šæ­¤æ ·ä¾‹æ‰€å¯¹åº” 4*4 çš„æ£‹ç›˜å³ä¸ºä¸Šå›¾ã€‚ </code></pre><p><strong>[è¾“å‡ºæ ·ä¾‹ 1]</strong></p><pre><code>12 3 1 41 2 4 34 1 3 23 4 2 1</code></pre><p><strong>[è¾“å…¥æ ·ä¾‹ 2]</strong></p><pre><code>312 12 1812 12 1818 18 18</code></pre><p><strong>[è¾“å‡ºæ ·ä¾‹ 2]</strong></p><pre><code>41 2 32 3 13 1 2</code></pre><p><strong>[è¾“å…¥æ ·ä¾‹ 3]</strong></p><pre><code>932353542 4254 54 544322735576 10108108 1084927576576 1040 40 1008 10089270576576 814 14 1008 1008142702705768105 328314426882727 105 32810302688268880 6105 63 631030 2688 12680 8024 3 63966126126 126 24 24 40 40</code></pre><p><strong>[è¾“å‡ºæ ·ä¾‹ 3]</strong></p><pre><code>18 1 5 6 7 9 2 3 44 3 7 8 5 6 9 2 11 9 4 3 2 8 5 6 79 5 3 1 8 2 7 4 67 6 9 2 1 5 4 8 32 4 6 9 3 7 8 1 55 7 8 4 6 3 1 9 26 8 2 5 4 1 3 7 93 2 1 7 9 4 6 5 8</code></pre><p><strong>[æ•°æ®è§„æ¨¡]</strong></p><table><thead><tr><th style="text-align:center">æµ‹è¯•ç‚¹</th><th style="text-align:center">n=</th><th style="text-align:center">è¾“å…¥çŸ©é˜µä¸­ä¸åŒç§ç±»æ•°å­—ä¸ªæ•°</th></tr></thead><tbody><tr><td style="text-align:center">1-2</td><td style="text-align:center">3</td><td style="text-align:center">&gt;=3</td></tr><tr><td style="text-align:center">3-4</td><td style="text-align:center">5</td><td style="text-align:center">&gt;=10</td></tr><tr><td style="text-align:center">5-7</td><td style="text-align:center">9</td><td style="text-align:center">&gt;=30</td></tr><tr><td style="text-align:center">8-10</td><td style="text-align:center">9</td><td style="text-align:center">&gt;=20</td></tr></tbody></table><pre><code>100% çš„æ•°æ®æ»¡è¶³ï¼ŒçŸ©é˜µä¸­æ¯ä¸ªæ•°å­—&lt;=100,000ï¼Œåˆæ³•æ£‹ç›˜ä¸ªæ•°ï¼ˆè§£çš„ä¸ªæ•°ï¼‰&lt;=300</code></pre><p><strong>[é¢˜è§£]</strong></p><p>è¿™é‡Œå…ˆä¸å¤šè¯´äº†ï¼Œå…³äºèˆè¹ˆé“¾æˆ‘åœ¨åé¢çš„åšå®¢ä¸­ä¼šè¯¦ç»†è®²è§£ï¼Œæ­¤å¤„ç›´æ¥è´´æ ‡ç¨‹ã€‚</p><p><strong>[å‚è€ƒä»£ç ]</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N=<span class="number">11</span>,M=<span class="number">510</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dx[<span class="number">4</span>]=&#123;<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> dy[<span class="number">4</span>]=&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">-1</span>&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node2</span>&#123;</span> <span class="keyword">int</span> c[N][N]; &#125; ans[M];</span><br><span class="line"><span class="keyword">bool</span> <span class="keyword">operator</span>&lt; (node2 x,node2 y)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j&lt;N; j++)</span><br><span class="line"><span class="keyword">if</span>(x.c[i][j] != y.c[i][j])</span><br><span class="line"><span class="keyword">return</span> x.c[i][j] &lt; y.c[i][j];</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span> <span class="keyword">int</span> x, y; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;node&gt; b[N * N];</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; p[N * N]; </span><br><span class="line"><span class="keyword">int</span> a[N][N], c[N][N], h[N][N], h1[N][N], h2[N][N];</span><br><span class="line"><span class="keyword">int</span> n, cnt = <span class="number">0</span>, tot = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> x = <span class="number">0</span>, f = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">char</span> c = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (; !<span class="built_in">isdigit</span>(c); c=getchar()) <span class="keyword">if</span>(c == <span class="string">'-'</span>) f = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span> (; <span class="built_in">isdigit</span>(c); c=getchar()) x = x * <span class="number">10</span> + c - <span class="number">48</span>;</span><br><span class="line"><span class="keyword">return</span> x * f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factor</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> t = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i * i &lt;= x; i++)</span><br><span class="line">t += (<span class="keyword">int</span>)(x % i == <span class="number">0</span>);</span><br><span class="line"><span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="built_in">vector</span>&lt;node&gt; x, <span class="built_in">vector</span>&lt;node&gt; y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (x.size() == y.size())</span><br><span class="line"><span class="keyword">return</span> factor(x[<span class="number">0</span>].x) &lt;= factor(y[<span class="number">0</span>].x);</span><br><span class="line"><span class="keyword">return</span> x.size() &lt; y.size();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> t, <span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line"><span class="keyword">if</span> (x % i == <span class="number">0</span>) p[t].push_back(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">h[x][y] = <span class="number">1</span>;</span><br><span class="line">b[cnt].push_back((node)&#123; x, y &#125;);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> tx = x + dx[i];</span><br><span class="line"><span class="keyword">int</span> ty = y + dy[i];</span><br><span class="line"><span class="keyword">if</span> (tx &gt; <span class="number">0</span> &amp;&amp; tx &lt;= n &amp;&amp; ty &gt; <span class="number">0</span> &amp;&amp; </span><br><span class="line">ty &lt;= n &amp;&amp; !h[tx][ty] &amp;&amp;</span><br><span class="line">a[tx][ty] == a[x][y])</span><br><span class="line">dfs(tx, ty);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">(<span class="keyword">int</span> dep)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fillp</span><span class="params">(<span class="keyword">int</span> t, <span class="keyword">int</span> dep, <span class="keyword">int</span> s, <span class="keyword">int</span> tot)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (dep &gt; tot) work(t + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">int</span> x=b[t][dep].x, y = b[t][dep].y;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; p[t].size(); i++) &#123;</span><br><span class="line"><span class="keyword">int</span> u=p[t][i];</span><br><span class="line"><span class="keyword">if</span> ((s == u || dep &lt; tot) &amp;&amp; s % u == <span class="number">0</span> &amp;&amp;</span><br><span class="line">!h1[x][u] &amp;&amp; !h2[y][u])&#123;</span><br><span class="line">h1[x][u] = <span class="number">1</span>ï¼›</span><br><span class="line">h2[y][u] = <span class="number">1</span>;</span><br><span class="line">c[x][y] = u;</span><br><span class="line">fillp(t, dep + <span class="number">1</span>, s / u, tot);</span><br><span class="line">c[x][y] = <span class="number">0</span>;</span><br><span class="line">h1[x][u] = <span class="number">0</span>ï¼›</span><br><span class="line">h2[y][u]=<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">(<span class="keyword">int</span> dep)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (dep &gt; cnt) &#123;</span><br><span class="line">tot++;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">ans[tot].c[i][j] = c[i][j];</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">int</span> num=b[dep][<span class="number">0</span>].xï¼›</span><br><span class="line"><span class="keyword">int</span> tot=b[dep].size() - <span class="number">1</span>;</span><br><span class="line">fillp(dep, <span class="number">1</span>, num, tot);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">freopen(<span class="string">"kenken.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">freopen(<span class="string">"kenken.out"</span>, <span class="string">"w"</span>, <span class="built_in">stdout</span>); </span><br><span class="line">n = read();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line">a[i][j] = read();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++)</span><br><span class="line"><span class="keyword">if</span> (!h[i][j]) &#123;</span><br><span class="line">cnt++;</span><br><span class="line">b[cnt].push_back((node)&#123; a[i][j], <span class="number">0</span> &#125;);</span><br><span class="line">dfs(i, j);</span><br><span class="line">&#125;</span><br><span class="line">sort(b + <span class="number">1</span>, b + cnt + <span class="number">1</span>, cmp);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= cnt; i++)</span><br><span class="line">divide(i, b[i][<span class="number">0</span>].x);</span><br><span class="line">work(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; tot &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">node2 t = ans[<span class="number">1</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= tot; i++)</span><br><span class="line">t = min(t, ans[i]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n; i++)&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n; j++)</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; t.c[i][j] &lt;&lt; <span class="string">" "</span>;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; t.c[i][n] &lt;&lt; <span class="string">"\n"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœ¬æ¬¡è€ƒè¯•æ€»ç»“"><a href="#æœ¬æ¬¡è€ƒè¯•æ€»ç»“" class="headerlink" title="æœ¬æ¬¡è€ƒè¯•æ€»ç»“"></a>æœ¬æ¬¡è€ƒè¯•æ€»ç»“</h3><p>Too young, too simple, sometimes naiveâ€¦â€¦è¿˜æ˜¯è¦æé«˜çŸ¥è¯†æ°´å¹³å’Œç¼–ç¨‹ç´ å…»ï¼Œé˜²æ­¢è€ƒè¯•æ—¶ GGã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;ä»Šå¤©çš„é¢˜ä¼¼ä¹æ˜¯ Day1 çš„é¢˜ï¼Œç„¶è€Œå´æ˜¯å‹åŠ›å±±å¤§ï¼Œä»ç¬¬ä¸€é¢˜å¼€å§‹å°±å´©ï¼Œç¬¬äºŒé¢˜è€ƒåœºä¸Šæ— è„‘ Dijkstra æ±‚æœ€çŸ­è·¯ï¼Œç¬¬ä¸‰é¢˜æ›´æ˜¯æ‡µé€¼ï¼ˆè€ƒåå¬è¯´ç”¨ Dancing Link åšçš„æ—¶å€™å½»åº•å´©æºƒï¼‰ï¼Œæ€»ä¹‹ï¼Œä»Šå¤©å››ååˆ†ï¼Œä¸çˆ†é›¶ç›¸å·®æ— å‡ ï¼Œæ‰€ä»¥è¿™æ¬¡åœ¨å†™é¢˜è§£çš„åŒæ—¶ï¼Œè¿˜æ˜¯ä¼šå†™ä¸€ç‚¹è€ƒè¯•æŠ€å·§çš„ï¼Œå°¤å…¶æ˜¯ç¬¬ä¸€é¢˜å’Œç¬¬äºŒé¢˜ï¼ˆåŸè°…æˆ‘çŸ¥è¯†æ°´å¹³å®åœ¨ä¸å¤Ÿï¼Œå¯¹ç¬¬ä¸‰é¢˜ä»ç„¶æ‡µé€¼ï¼‰ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="NOIP" scheme="http://walesexcitedmei.github.io/categories/NOIP/"/>
    
    
      <category term="NOIP æ¨¡æ‹Ÿ" scheme="http://walesexcitedmei.github.io/tags/NOIP-%E6%A8%A1%E6%8B%9F/"/>
    
      <category term="é¢˜è§£" scheme="http://walesexcitedmei.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
      <category term="ç¥é¢˜" scheme="http://walesexcitedmei.github.io/tags/%E7%A5%9E%E9%A2%98/"/>
    
      <category term="çˆ†é›¶æ—¥" scheme="http://walesexcitedmei.github.io/tags/%E7%88%86%E9%9B%B6%E6%97%A5/"/>
    
  </entry>
  
  <entry>
    <title>[æ•°è®º] æ•°è®ºåŸºç¡€çŸ¥è¯†----è«æ¯”ä¹Œæ–¯å‡½æ•°</title>
    <link href="http://walesexcitedmei.github.io/2018/08/08/%E6%95%B0%E8%AE%BA-%E6%95%B0%E8%AE%BA%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86-%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%87%BD%E6%95%B0/"/>
    <id>http://walesexcitedmei.github.io/2018/08/08/æ•°è®º-æ•°è®ºåŸºç¡€çŸ¥è¯†-è«æ¯”ä¹Œæ–¯å‡½æ•°/</id>
    <published>2018-08-08T10:46:44.000Z</published>
    <updated>2018-09-25T12:58:18.191Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>æœ€è¿‘è‡ªå·±åœ¨è‡ªå­¦æ•°è®ºï¼Œä¸ºäº†ä¿è¯é‡åˆ°æ•°è®ºçš„é¢˜çš„æ—¶å€™èƒ½ä»å®¹ä¸è¿«åœ°åº”å¯¹ï¼Œæœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯å¯¹è«æ¯”ä¹Œæ–¯å‡½æ•°( $\mu{(n)}$ )çš„åˆæ­¥äº†è§£</p><a id="more"></a><h3 id="è«æ¯”ä¹Œæ–¯å‡½æ•°"><a href="#è«æ¯”ä¹Œæ–¯å‡½æ•°" class="headerlink" title="è«æ¯”ä¹Œæ–¯å‡½æ•°"></a>è«æ¯”ä¹Œæ–¯å‡½æ•°</h3><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><p>è«æ¯”ä¹Œæ–¯å‡½æ•° $\mu{(n)}$ çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><p>$$ \mu(1) = 1; $$</p><p>å¦‚æœ $n&gt;1$ï¼Œå†™ $n=p_1^{a_1}p_2^{a_2}p_3^{a_3}â€¦p_k^{a_k}$ï¼Œåˆ™ï¼š</p><p>$$<br>\mu(n)=<br>\begin{cases}<br>(-1)^k &amp; \text{when $a_1=a_2=a_3=â€¦=a_k=1$,}\\<br>0 &amp; \text{otherwise.}<br>\end{cases}<br>$$</p><p><strong>æ³¨</strong>     $\mu(n)=1$å½“ä¸”ä»…å½“$n$æœ‰ä¸€ä¸ªå¤§äº$1$çš„å¹³æ–¹å› å­ã€‚</p><h4 id="å®šç†"><a href="#å®šç†" class="headerlink" title="å®šç†"></a>å®šç†</h4><p>è«æ¯”ä¹Œæ–¯å‡½æ•°åœ¨æ•°è®ºä¸­ç»å¸¸å‡ºç°ï¼ˆä¸Šæ¬¡å°±è¢«å®ƒç‹ ç‹ åœ°å‘äº†ä¸€æ¬¡ï¼‰ï¼Œå®ƒçš„åŸºæœ¬æ€§è´¨ä¹‹ä¸€æ˜¯å¯¹çº¦æŸæ±‚å’Œ $\sum_{d|n}\mu{(d)}$ çš„ä¸€ä¸ªé‡è¦çš„ç®€æ˜å…¬å¼ï¼Œå®ƒåœ¨$n$çš„æ­£çº¦æ•°ä¸Šå±•å¼€ï¼Œå¼å­ä¸­çš„ $\left[x\right]$ è¡¨ç¤ºä¸å¤§äº$x$çš„æœ€å¤§æ•´æ•°ã€‚å®šç†å¦‚ä¸‹ï¼š</p><p><strong>[å®šç†æè¿°]</strong><br>å¦‚æœ${n}\geqslant{1}$ï¼Œæˆ‘ä»¬æœ‰<br>$$<br>\sum_{d|n}\mu{(d)}=\left[\frac{1}{n}\right]=<br>\begin{cases}<br>1 &amp;\text{when $n=1$,}\\<br>0 &amp;\text{when $n&gt;1$.}<br>\end{cases}<br>$$</p><p><strong>[å®šç†è¯æ˜]ï¼ˆè¿ç”¨äº†äºŒé¡¹å¼å®šç†ï¼‰</strong><br>å¯¹äº $n=1$ï¼Œç­‰å¼æ˜¾ç„¶æˆç«‹ã€‚è®¾ $n&gt;1$ å¹¶å†™ $n=p_1^{a_1}â€¦p_k^{a_k}$ ï¼Œåœ¨ $\sum_{d|n}\mu{(d)}$ ä¸­éé›¶çš„é¡¹ä»…æ¥è‡ªäº $d=1$ ä¸ $n$ çš„çº¦æ•°æ˜¯ä¸åŒç´ æ•°çš„ä¹˜ç§¯ï¼Œå³<br>$$<br>\begin{aligned}<br>\sum_{d|n}\mu{(d)}={}&amp; \mu(1)+\mu(p_1)+â€¦+\mu(p_k)+\mu(p_1p_k)+â€¦+{} \\<br>&amp;\mu(p_{k-1}p_k)+â€¦+\mu(p_1p_2â€¦p_k){}\\<br>={}&amp;1+\binom{k}{1}(-1)+\binom{k}{2}(-1)^2+â€¦+\binom{k}{k}(-1)^k{}\\<br>={}&amp;0<br>\end{aligned}<br>$$</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è«æ¯”ä¹Œæ–¯å‡½æ•°æœ¬èº«å…¶å®å¹¶ä¸éš¾ï¼Œä½†æ˜¯è¦æ·±åˆ»åœ°ç†è§£å®ƒè¿˜æ˜¯æœ‰ä¸€ç‚¹ç‚¹å›°éš¾çš„ï¼Œä»¥åä¼šå’Œåˆ«çš„æœ‰å…³å‡½æ•°ç»“åˆèµ·æ¥è¿›è¡Œè®²è§£ï¼ŒåŠ æ·±è®°å¿†ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;æœ€è¿‘è‡ªå·±åœ¨è‡ªå­¦æ•°è®ºï¼Œä¸ºäº†ä¿è¯é‡åˆ°æ•°è®ºçš„é¢˜çš„æ—¶å€™èƒ½ä»å®¹ä¸è¿«åœ°åº”å¯¹ï¼Œæœ¬ç¯‡æ–‡ç« ä¸»è¦æ˜¯å¯¹è«æ¯”ä¹Œæ–¯å‡½æ•°( $\mu{(n)}$ )çš„åˆæ­¥äº†è§£&lt;/p&gt;
    
    </summary>
    
      <category term="æ•°è®º" scheme="http://walesexcitedmei.github.io/categories/%E6%95%B0%E8%AE%BA/"/>
    
    
      <category term="æ•°è®º" scheme="http://walesexcitedmei.github.io/tags/%E6%95%B0%E8%AE%BA/"/>
    
      <category term="æ¬§æ‹‰å‡½æ•°" scheme="http://walesexcitedmei.github.io/tags/%E6%AC%A7%E6%8B%89%E5%87%BD%E6%95%B0/"/>
    
      <category term="è«æ¯”ä¹Œæ–¯å‡½æ•°" scheme="http://walesexcitedmei.github.io/tags/%E8%8E%AB%E6%AF%94%E4%B9%8C%E6%96%AF%E5%87%BD%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>[NOIP æ¨¡æ‹Ÿ] 2018-8-7 é¢˜è§£: æˆ‘å†™äº†ä¸ªè‡ªå·±éƒ½çœ‹ä¸æ‡‚çš„ç¨‹åº</title>
    <link href="http://walesexcitedmei.github.io/2018/08/07/NOIP-%E6%A8%A1%E6%8B%9F-2018-8-7-%E9%A2%98%E8%A7%A3-%E6%88%91%E5%86%99%E4%BA%86%E4%B8%AA%E8%87%AA%E5%B7%B1%E9%83%BD%E7%9C%8B%E4%B8%8D%E6%87%82%E7%9A%84%E7%A8%8B%E5%BA%8F/"/>
    <id>http://walesexcitedmei.github.io/2018/08/07/NOIP-æ¨¡æ‹Ÿ-2018-8-7-é¢˜è§£-æˆ‘å†™äº†ä¸ªè‡ªå·±éƒ½çœ‹ä¸æ‡‚çš„ç¨‹åº/</id>
    <published>2018-08-07T11:22:40.000Z</published>
    <updated>2018-09-25T12:58:18.175Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h3><p>ä»Šå¤©åˆ›å†å²æ–°é«˜$290$åˆ†ï¼Œç¬¬ä¸‰é“é¢˜è€ƒå®Œè‡ªå·±éƒ½æ²¡çœ‹å‡ºè‡ªå·±ç”¨äº†å•¥æ–¹æ³•ï¼ˆOrzï¼‰ï¼Œæ„Ÿè§‰è‡ªå·²è¦å»è¡¥æ•°æ®ç»“æ„â€¦â€¦å¦å¤–ç¬¬ä¸€é“é¢˜å®åœ¨æ˜¯å‘â€¦â€¦ååˆ†å•Šï¼ï¼</p><a id="more"></a><h3 id="T1-é€‰ä¸¾"><a href="#T1-é€‰ä¸¾" class="headerlink" title="T1 é€‰ä¸¾"></a>T1 é€‰ä¸¾</h3><p><strong>[é¢˜ç›®æè¿°]</strong></p><p>$C$å›½çš„æ€»ç»Ÿé€‰ä¸¾å§”å‘˜ä¼šæœ€è¿‘é‡åˆ°äº†ä¸€äº›éº»çƒ¦ã€‚</p><p>ä»–ä»¬åœ¨ç»Ÿè®¡å„çœå¯¹Hå…ˆç”Ÿçš„æ”¯æŒç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰æ—¶ï¼ŒæŠŠæ”¯æŒç‡å››èˆäº”å…¥åˆ°äº†æ•´æ•°ã€‚ç­‰ä»–ä»¬å…¬å¸ƒç»“æœåï¼Œè¯¥å›½åª’ä½“å‘ç°è¿™äº›çœä»½çš„æ”¯æŒç‡ä¹‹å’Œä¸ç­‰äº$100$ï¼ˆç™¾åˆ†æ¯”ï¼‰ï¼åœ¨åª’ä½“é»‘å¹•å£°çš„è´¨ç–‘ä¸‹ï¼Œä»–ä»¬ä¸å¾—ä¸æ‰¾ä½ å¯»æ±‚å¸®åŠ©ã€‚</p><p>ä½ å°†å¾—åˆ°å„çœå››èˆäº”å…¥åçš„æ”¯æŒç‡ï¼Œè¯·è®¡ç®—è¿™äº›çœä»½çš„æ”¯æŒç‡åœ¨å››èˆäº”å…¥å‰çš„å’Œæ˜¯å¦å¯èƒ½ç­‰äº100ï¼Ÿæ”¯æŒç‡æ˜¯ä»¥ç™¾åˆ†æ¯”çš„å½¢å¼ç»Ÿè®¡çš„ã€‚<br>è¯·æ³¨æ„ï¼Œå„çœçš„æ”¯æŒç‡å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…å«ä»»æ„å¤šä½çš„æœ‰é™å°æ•°ã€‚ä¸€ä¸ªå°æ•°åœ¨å››èˆäº”å…¥åˆ°æ•´æ•°æ—¶ï¼Œè‹¥å°æ•°ç‚¹åç¬¬ä¸€ä½å°äº5åˆ™èˆï¼Œå¤§äºç­‰äº5åˆ™å…¥ã€‚</p><p>ä¾‹å¦‚ï¼š<br>$26,17,58$æ˜¯ä¸€ç§å¯èƒ½çš„æ”¯æŒç‡ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½æ˜¯$25.8,16.5,57.7$å››èˆäº”å…¥åå¾—åˆ°çš„ï¼Œè€Œ$25.8+16.5+57.7=100$ã€‚<br>$49,49$æ˜¯ä¸€ç§ä¸å¯èƒ½çš„æ”¯æŒç‡ï¼Œå› ä¸ºå½“$9$çš„ä¸ªæ•°æœ‰é™æ—¶ï¼Œæ— è®ºæœ‰å¤šå°‘ä¸ª$9$ï¼Œå‡æœ‰$49.499+â€¦+99+49.499+â€¦+99&lt;100$ã€‚</p><p><strong>[è¾“å…¥æ ¼å¼]</strong></p><pre><code>è¾“å…¥åŒ…å«å¤šç»„æ•°æ®ï¼Œç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Tï¼Œè¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚æ¥ä¸‹æ¥æ˜¯Tç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•°Nï¼Œè¡¨ç¤ºå‚ä¸é€‰ä¸¾çš„çœä»½ä¸ªæ•°ã€‚ç¬¬äºŒè¡Œæ˜¯Nä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå„çœå››èˆäº”å…¥åçš„æ”¯æŒç‡ã€‚</code></pre><p><strong>[è¾“å‡ºæ ¼å¼]</strong></p><pre><code>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè‹¥æ˜¯ä¸€ç§å¯èƒ½çš„æ”¯æŒç‡ï¼Œè¾“å‡ºYesï¼Œå¦åˆ™è¾“å‡ºNoã€‚</code></pre><p><strong>[æ ·ä¾‹è¾“å…¥]</strong></p><pre><code>2249 49326 17 58</code></pre><p><strong>[æ ·ä¾‹è¾“å‡º]</strong></p><pre><code>NoYes</code></pre><p><strong>[æ•°æ®èŒƒå›´ä¸çº¦å®š]</strong></p><pre><code>å¯¹äº30%çš„æ•°æ®ï¼Œ1&lt;=n&lt;=3ï¼›å¯¹äº50%çš„æ•°æ®ï¼Œ1&lt;=n&lt;=5ï¼›å¯¹äº80%çš„æ•°æ®ï¼Œ1&lt;=å››èˆäº”å…¥åå„çœçš„æ”¯æŒç‡&lt;=99ï¼›å¯¹äº100%çš„æ•°æ®ï¼Œ1&lt;=n&lt;=10000ï¼Œè¾“å…¥æ•°æ®ä¸­çš„æ‰€æœ‰æ•´æ•°å‡åœ¨æœ‰ç¬¦å·16ä½æ•´æ•°èŒƒå›´å†…ã€‚</code></pre><p><strong>[é¢˜è§£]</strong></p><p>ç®€å•æ•°å€¼è®¡ç®—é¢˜ï¼Œç›´æ¥è®¨è®ºæƒ…å†µå¹¶è®¡ç®—å³å¯ã€‚<br>å…·ä½“æ¥è®²ï¼Œå¯ä»¥æ±‚å‡ºä½¿ç”¨ç»™å‡ºçš„$N$ä¸ªæ”¯æŒç‡ï¼Œæœ€ç»ˆå¯èƒ½çš„æ”¯æŒç‡çš„å–å€¼èŒƒå›´ï¼Œæ£€æŸ¥è¯¥èŒƒå›´æ˜¯å¦åŒ…å«$100$ã€‚<br>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¸€ä¸ªæ•°Xåœ¨å–èˆå‰å¯èƒ½å–$[X-0,5,X+0.5)$ä¹‹é—´çš„ä»»æ„æ•°å€¼ã€‚<br>éœ€è¦æ³¨æ„$0$å’Œ$100$ç­‰è¾¹ç•Œé—®é¢˜ï¼Œå› ä¸ºæ”¯æŒç‡ï¼ˆç™¾åˆ†æ¯”ï¼‰ä¸€å®šæ˜¯ä¸€ä¸ª$[0,100]$ä¹‹é—´çš„æ•°ã€‚<br>æ±‚å‡ºçš„å–å€¼èŒƒå›´æœ€å¥½ä½¿ç”¨æ•´æ•°å¹¶åŠ ä»¥å¼€é—­åŒºé—´åˆ¤æ–­ï¼Œé¿å…å®æ•°ç²¾åº¦è¯¯å·®ã€‚</p><p><strong>[å‚è€ƒä»£ç ]</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int64 long long</span></span><br><span class="line"><span class="keyword">int</span> T, n, x;</span><br><span class="line">int64 sum, l, r;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">"election.in"</span>)</span></span>;</span><br><span class="line"><span class="function">ofstream <span class="title">out</span><span class="params">(<span class="string">"election.out"</span>)</span></span>;</span><br><span class="line">in.tie(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">in &gt;&gt; T;</span><br><span class="line"><span class="keyword">while</span> (T--) &#123;</span><br><span class="line">in &gt;&gt; n;</span><br><span class="line"><span class="keyword">int</span> cnt0 = <span class="number">0</span>, cnt100 = <span class="number">0</span>, flag = <span class="number">0</span>;</span><br><span class="line">sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">in &gt;&gt; x;</span><br><span class="line">sum += x;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">0</span>) ++cnt0;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">100</span>) ++cnt100;</span><br><span class="line"><span class="keyword">if</span> (x &gt; <span class="number">100</span>) flag = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (flag) &#123;</span><br><span class="line">out &lt;&lt; <span class="string">"No"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">continue</span>;</span><br><span class="line">&#125;</span><br><span class="line">l = sum - (n - cnt0) / <span class="number">2</span>;</span><br><span class="line">r = sum + (n + cnt100) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">bool</span> cond0 = (l &lt;= <span class="number">100</span>);</span><br><span class="line"><span class="keyword">bool</span> cond1;</span><br><span class="line"><span class="keyword">if</span> ((n - cnt100) &amp; <span class="number">1</span> || (n - cnt100) == <span class="number">0</span>)</span><br><span class="line">cond1 = (r &gt;= <span class="number">100</span>);</span><br><span class="line"><span class="keyword">else</span> cond1 = r &gt; <span class="number">100</span>;</span><br><span class="line"><span class="keyword">if</span> (cond0 &amp;&amp; cond1) out &lt;&lt; <span class="string">"Yes"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">else</span> out &lt;&lt; <span class="string">"No"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨ï¼šè¿™ä¸ªå…¶å®æ˜¯æ ‡ç¨‹ï¼Œè¿ double éƒ½æ²¡æœ‰ç”¨ ï¼ˆOrzï¼‰</span></span><br></pre></td></tr></table></figure><p><strong>[è¯„ä»·]</strong></p><p>è€ƒå¯Ÿäº†åŸºç¡€çš„æ•°å­¦çŸ¥è¯†ï¼Œåªè¦ææ¸…æ¥šå¼€åŒºé—´å’Œé—­åŒºé—´å°±å¥½äº†ã€‚</p><h3 id="T2-å¼‚è±¡çŸ³"><a href="#T2-å¼‚è±¡çŸ³" class="headerlink" title="T2 å¼‚è±¡çŸ³"></a>T2 å¼‚è±¡çŸ³</h3><p><strong>[é¢˜ç›®æè¿°]</strong></p><p>Adera æ˜¯ Microsoft åº”ç”¨å•†åº—ä¸­çš„ä¸€æ¬¾è§£è°œæ¸¸æˆã€‚<br>å¼‚è±¡çŸ³æ˜¯è¿›å…¥ Adera ä¸­å¼‚æ—¶ç©ºçš„å¼•å¯¼ç‰©ï¼Œåœ¨ Adera çš„å¼‚æ—¶ç©ºä¸­æœ‰ä¸€å¼ åœ°å›¾ã€‚è¿™å¼ åœ°å›¾ä¸Šæœ‰$N$ä¸ªç‚¹ï¼Œ<br>æœ‰$N-1$æ¡åŒå‘è¾¹æŠŠå®ƒä»¬è¿é€šèµ·æ¥ã€‚èµ·åˆåœ°å›¾ä¸Šæ²¡æœ‰ä»»ä½•å¼‚è±¡çŸ³ï¼Œåœ¨æ¥ä¸‹æ¥çš„$M$ä¸ªæ—¶åˆ»ä¸­ï¼Œæ¯ä¸ªæ—¶åˆ»<br>ä¼šå‘ç”Ÿä»¥ä¸‹ä¸‰ç§ç±»å‹çš„äº‹ä»¶ä¹‹ä¸€ï¼š</p><ol><li>åœ°å›¾çš„æŸä¸ªç‚¹ä¸Šå‡ºç°äº†å¼‚è±¡çŸ³ï¼ˆå·²ç»å‡ºç°çš„ä¸ä¼šå†æ¬¡å‡ºç°ï¼‰ï¼›</li><li>åœ°å›¾æŸä¸ªç‚¹ä¸Šçš„å¼‚è±¡çŸ³è¢«æ‘§æ¯ï¼ˆä¸ä¼šæ‘§æ¯æ²¡æœ‰å¼‚è±¡çŸ³çš„ç‚¹ï¼‰ï¼›</li><li>å‘ç©å®¶è¯¢é—®ä½¿æ‰€æœ‰å¼‚è±¡çŸ³æ‰€åœ¨çš„ç‚¹è¿é€šçš„è¾¹é›†çš„æ€»é•¿åº¦æœ€å°æ˜¯å¤šå°‘ã€‚</li></ol><p>è¯·ä½ ä½œä¸ºç©å®¶å›ç­”è¿™äº›é—®é¢˜ã€‚</p><p><strong>[è¾“å…¥æ ¼å¼]</strong></p><pre><code>ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ•´æ•°Nï¼Œè¡¨ç¤ºç‚¹çš„ä¸ªæ•°ã€‚æ¥ä¸‹æ¥N-1è¡Œæ¯è¡Œä¸‰ä¸ªæ•´æ•°x,y,zï¼Œè¡¨ç¤ºç‚¹xå’Œyä¹‹é—´æœ‰ä¸€æ¡é•¿åº¦ä¸ºzçš„åŒå‘è¾¹ã€‚ç¬¬N+1è¡Œæœ‰ä¸€ä¸ªæ­£æ•´æ•°Mã€‚æ¥ä¸‹æ¥Mè¡Œæ¯è¡Œæ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œäº‹ä»¶æ˜¯ä»¥ä¸‹ä¸‰ç§æ ¼å¼ä¹‹ä¸€ï¼š+ x  è¡¨ç¤ºç‚¹xä¸Šå‡ºç°äº†å¼‚è±¡çŸ³- x  è¡¨ç¤ºç‚¹xä¸Šçš„å¼‚è±¡çŸ³è¢«æ‘§æ¯?è¡¨ç¤ºè¯¢é—®ä½¿å½“å‰æ‰€æœ‰å¼‚è±¡çŸ³æ‰€åœ¨çš„ç‚¹è¿é€šæ‰€éœ€çš„è¾¹é›†çš„æ€»é•¿åº¦æœ€å°æ˜¯å¤šå°‘ã€‚</code></pre><p><strong>[è¾“å‡ºæ ¼å¼]</strong></p><pre><code>å¯¹äºæ¯ä¸ª ?äº‹ä»¶ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚</code></pre><p><strong>[æ ·ä¾‹è¾“å…¥]</strong></p><pre><code>61 2 11 3 54 1 74 5 36 4 210+ 3+ 1?+ 6?+ 5?- 6- 3?</code></pre><p><strong>[æ ·ä¾‹è¾“å‡º]</strong></p><pre><code>5141710</code></pre><p><strong>[æ•°æ®èŒƒå›´ä¸çº¦å®š]</strong></p><pre><code>å¯¹äº30%çš„æ•°æ®ï¼Œ1â€‰â‰¤â€‰n, mâ€‰â‰¤â€‰1000ã€‚å¯¹äºå¦20%çš„æ•°æ®ï¼Œåœ°å›¾æ˜¯ä¸€æ¡é“¾ï¼Œæˆ–è€…ä¸€æœµèŠèŠ±ã€‚å¯¹äº100%çš„æ•°æ®ï¼Œ1â€‰â‰¤â€‰n, mâ€‰â‰¤â€‰10^5, 1â€‰â‰¤â€‰x, yâ€‰â‰¤â€‰n, xâ€‰â‰ â€‰y, 1â€‰â‰¤â€‰zâ€‰â‰¤â€‰10^9ã€‚</code></pre><p><strong>[é¢˜è§£]</strong></p><p>å¦‚æœåœ¨$a_1,a_2â€¦a_k$è¿™äº›ç‚¹ä¸Šæœ‰å¼‚è±¡çŸ³ï¼Œåˆ™æ‰€éœ€ä»£ä»·å°±æ˜¯æŒ‰ç…§DFSåºä¾æ¬¡éå†è¿™$k$ä¸ªç‚¹å†å›åˆ°æ ¹çš„æ€»è·ç¦»ã€‚<br>è¿™ä¸ªè·ç¦»æ•°è¿˜ç­‰äº$a_1,a_2â€¦a_k$æ’æˆä¸€ä¸ªç¯å½¢åºåˆ—ï¼Œç›¸é‚»ä¸¤ä¸ªç‚¹çš„è·ç¦»ä¹‹å’Œã€‚<br>å› æ­¤ç”¨setç»´æŠ¤æœ‰å¼‚è±¡çŸ³çš„ç‚¹æ„æˆçš„DFSåºï¼Œç”¨ä¸€ä¸ªå…¨å±€å˜é‡è®°å½•ç­”æ¡ˆï¼Œæ’å…¥ã€åˆ é™¤æ—¶æ›´æ–°setçš„åŒæ—¶åˆ©ç”¨LCAç®—æ³•æ›´æ–°ç­”æ¡ˆã€‚</p><p><strong>[å‚è€ƒä»£ç ]</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 110000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NOE -1</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int64 long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, x, y, z, v;</span><br><span class="line"><span class="keyword">char</span> op;</span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt; s;</span><br><span class="line">int64 ans, dis[maxn], g[maxn];</span><br><span class="line"><span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> f[maxn][<span class="number">20</span>], dep[maxn], dfn[maxn], seq[maxn];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edgeNode</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> vertexTo;</span><br><span class="line"><span class="keyword">int</span> edgeNext;</span><br><span class="line"><span class="keyword">int</span> weight;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">edgeNode edges[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> heads[maxn &lt;&lt; <span class="number">1</span>];</span><br><span class="line"><span class="keyword">int</span> numEdges = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123; <span class="built_in">memset</span>(heads, NOE, <span class="keyword">sizeof</span>(heads)); &#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">numEdges++;</span><br><span class="line">edges[numEdges].vertexTo = vertex2;</span><br><span class="line">edges[numEdges].weight = weight;</span><br><span class="line">edges[numEdges].edgeNext = heads[vertex1];</span><br><span class="line">heads[vertex1] = numEdges;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">addDuplexEdge</span><span class="params">(<span class="keyword">int</span> vertex1, <span class="keyword">int</span> vertex2, <span class="keyword">int</span> weight)</span> </span>&#123;</span><br><span class="line">addEdge(vertex1, vertex2, weight);</span><br><span class="line">addEdge(vertex2, vertex1, weight);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">rDFS</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> fa)</span> </span>&#123;</span><br><span class="line">f[x][<span class="number">0</span>] = fa;</span><br><span class="line">dep[x] = dep[fa] + <span class="number">1</span>;</span><br><span class="line">dfn[x] = ++cnt;</span><br><span class="line">seq[cnt] = x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = heads[x]; i != NOE; i = edges[i].edgeNext) &#123;</span><br><span class="line"><span class="keyword">int</span> vt = edges[i].vertexTo;</span><br><span class="line"><span class="keyword">if</span> (vt != fa) &#123;</span><br><span class="line">dis[vt] = dis[x] + edges[i].weight;</span><br><span class="line">rDFS(vt, x);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">initFa</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">19</span>; ++i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; ++j)</span><br><span class="line">f[j][i] = f[f[j][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">LCA</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (dep[x] &lt; dep[y]) swap(x, y);</span><br><span class="line"><span class="keyword">int</span> t = dep[x] - dep[y];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">16</span>; ++i)</span><br><span class="line"><span class="keyword">if</span> (t &amp; (<span class="number">1</span> &lt;&lt; i)) x = f[x][i];</span><br><span class="line"><span class="keyword">if</span> (x == y) <span class="keyword">return</span> x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">16</span>; i &gt;= <span class="number">0</span>; --i) &#123;</span><br><span class="line"><span class="keyword">if</span> (f[x][i] != f[y][i]) &#123;</span><br><span class="line">x = f[x][i];</span><br><span class="line">y = f[y][i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> f[x][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> int64 <span class="title">getDist</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> dis[x] + dis[y] - dis[LCA(x, y)] * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> &amp;l, <span class="keyword">int</span> &amp;r)</span> </span>&#123;</span><br><span class="line"><span class="built_in">set</span>&lt;<span class="keyword">int</span>&gt;::iterator it = s.lower_bound(x);</span><br><span class="line"><span class="keyword">if</span> (it != s.end()) r = *it;</span><br><span class="line"><span class="keyword">else</span> r = *s.begin();</span><br><span class="line"><span class="keyword">if</span> (it == s.begin()) it = s.end();</span><br><span class="line">l = *(--it);</span><br><span class="line">l = seq[l];</span><br><span class="line">r = seq[r];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (!s.empty()) &#123;</span><br><span class="line"><span class="keyword">int</span> l, r;</span><br><span class="line">find(dfn[x], l, r);</span><br><span class="line">ans -= g[r];</span><br><span class="line">g[x] = getDist(l, x);</span><br><span class="line">g[r] = getDist(x, r);</span><br><span class="line">ans += g[x] + g[r];</span><br><span class="line">&#125; <span class="keyword">else</span> g[x] = <span class="number">0</span>;</span><br><span class="line">s.insert(dfn[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">erase</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> l, r;</span><br><span class="line">s.erase(dfn[x]);</span><br><span class="line"><span class="keyword">if</span> (!s.empty()) &#123;</span><br><span class="line">find(dfn[x], l, r);</span><br><span class="line">ans -= g[x] + g[r];</span><br><span class="line">g[r] = getDist(l, r);</span><br><span class="line">&#125;</span><br><span class="line">ans += g[r];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">"stone.in"</span>)</span></span>;</span><br><span class="line"><span class="function">ofstream <span class="title">out</span><span class="params">(<span class="string">"stone.out"</span>)</span></span>;</span><br><span class="line">in.tie(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">init();</span><br><span class="line">in &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">in &gt;&gt; x &gt;&gt; y &gt;&gt; z;</span><br><span class="line">addDuplexEdge(x, y, z);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">rDFS(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">initFa();</span><br><span class="line"></span><br><span class="line">in &gt;&gt; m;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; ++i) &#123;</span><br><span class="line">in &gt;&gt; op;</span><br><span class="line"><span class="keyword">switch</span> (op) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'+'</span> : &#123;</span><br><span class="line">in &gt;&gt; v;</span><br><span class="line">insert(v);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'-'</span> : &#123;</span><br><span class="line">in &gt;&gt; v;</span><br><span class="line">erase(v);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="string">'?'</span> : &#123;</span><br><span class="line">out &lt;&lt; ans / <span class="number">2</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é“é¢˜å¿…é¡»ä¸€æ¬¡æ“ä½œæ›´æ–°ä¸€æ¬¡ç­”æ¡ˆï¼Œå¦åˆ™ä¼š TLE</span></span><br></pre></td></tr></table></figure><p>æ­¤å¤„é™„ä¸Š std::set çš„<a href="https://zh.cppreference.com/w/cpp/container/set" target="_blank" rel="noopener">ç”¨æ³•</a></p><p><strong>[è¯„ä»·]</strong></p><p>å¯¹äºæ²¡æœ‰åšè¿‡çš„åŒå­¦æ¥è¯´ï¼Œæ€ç»´éš¾åº¦è¿˜æ˜¯æ¯”è¾ƒå¤§çš„ï¼Œè¿™ç§æ–¹æ³•å°±ç›´æ¥è®°ä½å°±è¡Œäº†ï¼Œè¦ç”¨çš„æ—¶å€™ç›´æ¥æ‹¿å‡ºæ¥ç”¨ã€‚</p><h3 id="T3-åºåˆ—å˜æ¢ï¼ˆæœ¬æ¬¡é‡ç‚¹ï¼ï¼ï¼ï¼‰"><a href="#T3-åºåˆ—å˜æ¢ï¼ˆæœ¬æ¬¡é‡ç‚¹ï¼ï¼ï¼ï¼‰" class="headerlink" title="T3 åºåˆ—å˜æ¢ï¼ˆæœ¬æ¬¡é‡ç‚¹ï¼ï¼ï¼ï¼‰"></a>T3 åºåˆ—å˜æ¢ï¼ˆæœ¬æ¬¡é‡ç‚¹ï¼ï¼ï¼ï¼‰</h3><p><strong>[é¢˜ç›®æè¿°]</strong></p><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º$N$çš„æ•°åˆ—$A_i$ã€‚<br>ä½ å¯ä»¥å¯¹æ•°åˆ—è¿›è¡Œè‹¥å¹²æ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥ä»æ•°åˆ—ä¸­ä»»é€‰ä¸€ä¸ªæ•°ï¼ŒæŠŠå®ƒç§»åŠ¨åˆ°æ•°åˆ—çš„å¼€å¤´æˆ–è€…ç»“å°¾ã€‚<br>æ±‚æœ€å°‘ç»è¿‡å¤šå°‘æ¬¡æ“ä½œï¼Œå¯ä»¥æŠŠæ•°åˆ—å˜æˆå•è°ƒä¸å‡çš„ã€‚â€œå•è°ƒä¸å‡â€æ„å‘³ç€æ•°åˆ—ä¸­çš„ä»»æ„ä¸€ä¸ªæ•°éƒ½ä¸å¤§äºæ’åœ¨å®ƒåè¾¹çš„æ•°ã€‚</p><p><strong>[è¾“å…¥æ ¼å¼]</strong></p><pre><code>ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•°Nã€‚ç¬¬äºŒè¡Œæ˜¯Nä¸ªæ­£æ•´æ•°Aiã€‚</code></pre><p><strong>[è¾“å‡ºæ ¼å¼]</strong></p><pre><code>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å°‘éœ€è¦çš„æ“ä½œæ¬¡æ•°ã€‚</code></pre><p><strong>[æ ·ä¾‹è¾“å…¥]</strong></p><pre><code>56 3 7 8 6</code></pre><p><strong>[æ ·ä¾‹è¾“å‡º]</strong></p><pre><code>2</code></pre><p><strong>[æ•°æ®èŒƒå›´ä¸çº¦å®š]</strong></p><pre><code>å¯¹äº30%çš„æ•°æ®ï¼Œæ»¡è¶³1â‰¤nâ‰¤10ã€‚å¯¹äº60% çš„æ•°æ®ï¼Œæ»¡è¶³1â‰¤nâ‰¤1000ã€‚å¯¹äº100% çš„æ•°æ®ï¼Œæ»¡è¶³1â‰¤nâ‰¤1000000ï¼Œ1â‰¤Aiâ‰¤1000000ã€‚</code></pre><p><strong>[é¢˜è§£]</strong></p><p>ç»è¿‡åˆ†æå¯ä»¥å‘ç°ï¼Œæœ€ä¼˜è§£æƒ…å†µä¸‹ï¼Œéœ€è¦ä¿æŒä¸€ä¸ªå­åºåˆ—ä¸åŠ¨ï¼Œè¿™ä¸ªå­åºåˆ—æ»¡è¶³ï¼š</p><ol><li>å­åºåˆ—å•è°ƒé€’å¢ï¼›</li><li>è‹¥å­åºåˆ—ä¸­æœ€å°æ•°æ˜¯$L$ï¼Œæœ€å¤§æ•°æ˜¯$R$ï¼Œåˆ™å­åºåˆ—å¿…é¡»åŒ…å«$[L+1,R-1]$ä¸­çš„æ•°åˆ—ä¸­çš„æ‰€æœ‰æ•°ã€‚</li></ol><p>ç”¨å•è°ƒé˜Ÿåˆ—æ±‚å‡ºæ»¡è¶³è¿™ä¸¤ä¸ªæ¡ä»¶çš„å­åºåˆ—çš„æœ€å¤§é•¿åº¦ï¼Œç”¨$n$å‡å»å°±æ˜¯ç­”æ¡ˆã€‚<br>å³è¿™ä¸ªå­åºåˆ—ä¿æŒä¸åŠ¨ï¼Œå…¶ä½™æ•°å‘å‰æˆ–åç§»åŠ¨ä¸€æ¬¡ã€‚</p><p><strong>[å‚è€ƒä»£ç ]</strong></p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹ä¸º std ä»£ç ï¼Œä¸æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥è·³è¿‡</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> SIZE = <span class="number">1000010</span>;</span><br><span class="line"><span class="keyword">int</span> a[SIZE], q[SIZE];</span><br><span class="line"><span class="keyword">int</span> n, m, ans;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; b[SIZE];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">freopen(<span class="string">"change.in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</span><br><span class="line">freopen(<span class="string">"change.out"</span>,<span class="string">"w"</span>,<span class="built_in">stdout</span>);</span><br><span class="line"><span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">b[a[i]].push_back(i);</span><br><span class="line">m = max(m, a[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> l = <span class="number">1</span>, r = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">reverse(b[i].begin(), b[i].end());</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; b[i].size(); j++) &#123;</span><br><span class="line"><span class="keyword">int</span> k = b[i][j];</span><br><span class="line"><span class="keyword">while</span> (l &lt;= r &amp;&amp; q[r] &gt; k) &#123;</span><br><span class="line"><span class="keyword">while</span> (l &lt; r &amp;&amp; a[q[l]] &lt; a[q[r]]) l++;</span><br><span class="line">r--;</span><br><span class="line">&#125;</span><br><span class="line">ans = max(ans, r - l + <span class="number">2</span> + j);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = b[i].size() - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">q[++r] = b[i][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//cout &lt;&lt; ans &lt;&lt; endl;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">cout</span> &lt;&lt; n - ans &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»¥ä¸‹æ˜¯è€ƒè¯•æ—¶çæ‰“çš„ä»£ç ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> maxn 1100000</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> INF 0x3f3f3f3f</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, A[maxn], B[maxn];</span><br><span class="line"><span class="keyword">int</span> ans = -INF;</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">compare</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (A[x] == A[y]) <span class="keyword">return</span> x &lt; y;</span><br><span class="line"><span class="keyword">return</span> A[x] &lt; A[y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">ios::sync_with_stdio(<span class="literal">false</span>);</span><br><span class="line"><span class="function">ifstream <span class="title">in</span><span class="params">(<span class="string">"change.in"</span>)</span></span>;</span><br><span class="line"><span class="function">ofstream <span class="title">out</span><span class="params">(<span class="string">"change.out"</span>)</span></span>;</span><br><span class="line">in.tie(<span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">in &gt;&gt; n;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) &#123;</span><br><span class="line">in &gt;&gt; A[i];</span><br><span class="line">B[i] = i;</span><br><span class="line">&#125;</span><br><span class="line">sort(B + <span class="number">1</span>, B + n + <span class="number">1</span>, compare);</span><br><span class="line"><span class="comment">// B æ•°ç»„è®°å½• A ä¸­å…ƒç´ çš„ ä½ç½®ï¼Œä¸”ä»¥ A ä¸­ç›¸åº”çš„å…ƒç´ å¤§å°ä¸ºä¼˜å…ˆæ’åº</span></span><br><span class="line"><span class="keyword">int</span> j;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i = j + <span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">for</span> (j = i; i &lt; n &amp;&amp; B[j] &lt; B[j + <span class="number">1</span>]; j++);</span><br><span class="line">len = j - i + <span class="number">1</span>;</span><br><span class="line"><span class="comment">// ä»¥ä¸Šè¿™æ®µå…ˆæ‰¾å‡ºä» i å¼€å§‹åºå·é€’å¢çš„å­åºåˆ—çš„æœ€å¤§é•¿åº¦</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = i - <span class="number">1</span>; k != <span class="number">0</span> &amp;&amp; A[B[k]] == A[B[i - <span class="number">1</span>]]; --k)</span><br><span class="line"><span class="keyword">if</span> (B[k] &lt; B[i]) len++;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = j + <span class="number">1</span>; k &lt;= n &amp;&amp; A[B[j + <span class="number">1</span>]] == A[B[k]]; ++k)</span><br><span class="line"><span class="keyword">if</span> (B[j] &lt; B[k]) len++;</span><br><span class="line"><span class="comment">// å› ä¸ºå‰é¢ i ç›´æ¥å˜ä¸º j + 1ï¼Œæ‰€ä»¥å¯èƒ½å‡ºç°é‡å¤çš„æ•°å­—å¿½ç•¥çš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">// æ•…åœ¨ä¸Šé¢ä¸¤ä¸ªå¾ªç¯ä¸­ï¼š</span></span><br><span class="line"><span class="comment">// ä¸€ä¸ªå‘å·¦æ‰«ï¼Œä¸€ä¸ªå‘å³æ‰«ï¼ŒåŒæ—¶åˆ¤æ–­åœ¨åŸæ•°ç»„ä¸­çš„ä½ç½®æ˜¯å¦é€’å¢</span></span><br><span class="line"><span class="comment">// è¿™ç§æ–¹æ³•é€Ÿåº¦ä¼šæ›´å¿«ä¸€ç‚¹ã€‚</span></span><br><span class="line">ans = max(ans, len);</span><br><span class="line"><span class="comment">// è·å–æœ€å¤§é•¿åº¦</span></span><br><span class="line">&#125;</span><br><span class="line">out &lt;&lt; n - ans;</span><br><span class="line"><span class="comment">// ç›¸å‡</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è€ƒå®Œè¯•åè‡ªå·±éƒ½æ— æ³•è®°èµ·è¿™æ˜¯ä»€ä¹ˆç¥å¥‡çš„ç®—æ³•ï¼Œä¸è¿‡ä»”ç»†æƒ³æƒ³è¿˜æ˜¯èƒ½æƒ³èµ·æ¥çš„ã€‚</span></span><br></pre></td></tr></table></figure><p><strong>[è¯„ä»·]</strong></p><p>è¿™é“é¢˜æ—¢è€ƒéªŒæ€ç»´åˆè€ƒéªŒä»£ç èƒ½åŠ›ï¼Œå¥½é¢˜ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>é¦–å…ˆï¼Œä»ç„¶è¦è®°ä½ä»”ç»†è¯»é¢˜ï¼Œè¿™æ¬¡ç¬¬ä¸€é¢˜å°±æ˜¯å› ä¸ºè¯»é¢˜ä¸ä»”ç»†ï¼Œæ€è€ƒä¸å……åˆ†æ‰å‡ºé—®é¢˜çš„ã€‚<br>å…¶æ¬¡ï¼Œæœ‰äº›ä»£ç è¿˜æ˜¯å¥½å¥½æ‰“æ‰“è‰ç¨¿ï¼Œå†™å†™æµç¨‹å›¾æ¯”è¾ƒå¥½ï¼Œé˜²æ­¢åƒç¬¬ä¸‰é¢˜ä¸€æ ·æƒ³ä¸èµ·æ¥ï¼ˆ#æ»‘ç¨½ï¼‰ã€‚</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;a href=&quot;#å†™åœ¨å‰é¢&quot; class=&quot;headerlink&quot; title=&quot;å†™åœ¨å‰é¢&quot;&gt;&lt;/a&gt;å†™åœ¨å‰é¢&lt;/h3&gt;&lt;p&gt;ä»Šå¤©åˆ›å†å²æ–°é«˜$290$åˆ†ï¼Œç¬¬ä¸‰é“é¢˜è€ƒå®Œè‡ªå·±éƒ½æ²¡çœ‹å‡ºè‡ªå·±ç”¨äº†å•¥æ–¹æ³•ï¼ˆOrzï¼‰ï¼Œæ„Ÿè§‰è‡ªå·²è¦å»è¡¥æ•°æ®ç»“æ„â€¦â€¦å¦å¤–ç¬¬ä¸€é“é¢˜å®åœ¨æ˜¯å‘â€¦â€¦ååˆ†å•Šï¼ï¼&lt;/p&gt;
    
    </summary>
    
      <category term="NOIP" scheme="http://walesexcitedmei.github.io/categories/NOIP/"/>
    
    
      <category term="NOIP æ¨¡æ‹Ÿ" scheme="http://walesexcitedmei.github.io/tags/NOIP-%E6%A8%A1%E6%8B%9F/"/>
    
      <category term="é¢˜è§£" scheme="http://walesexcitedmei.github.io/tags/%E9%A2%98%E8%A7%A3/"/>
    
      <category term="ç¥é¢˜" scheme="http://walesexcitedmei.github.io/tags/%E7%A5%9E%E9%A2%98/"/>
    
  </entry>
  
</feed>
